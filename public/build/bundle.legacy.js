var app=function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e,n){return n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},t(n,n.exports),n.exports}var n=function(t){return t&&t.Math==Math&&t},i=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),A={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u=s&&!A.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:A,c={f:u},l=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,f=function(t){return h.call(t).slice(8,-1)},p="".split,d=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?p.call(t,""):Object(t)}:Object,m=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return d(m(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},_=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,x=function(t,e){return w.call(t,e)},B=i.document,C=v(B)&&v(B.createElement),F=function(t){return C?B.createElement(t):{}},U=!a&&!o((function(){return 7!=Object.defineProperty(F("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,Q={f:a?E:function(t,e){if(t=y(t),e=_(e,!0),U)try{return E(t,e)}catch(t){}if(x(t,e))return l(!c.f.call(t,e),t[e])}},I=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,S={f:a?k:function(t,e,n){if(I(t),e=_(e,!0),I(n),U)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},T=a?function(t,e,n){return S.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t},M=function(t,e){try{T(i,t,e)}catch(n){i[t]=e}return e},D="__core-js_shared__",L=i[D]||M(D,{}),P=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return P.call(t)});var H,z,$,R=L.inspectSource,O=i.WeakMap,K="function"==typeof O&&/native code/.test(R(O)),V=e((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.0",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),N=0,G=Math.random(),j=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++N+G).toString(36)},q=V("keys"),Z=function(t){return q[t]||(q[t]=j(t))},X={},W=i.WeakMap;if(K){var J=L.state||(L.state=new W),Y=J.get,tt=J.has,et=J.set;H=function(t,e){return e.facade=t,et.call(J,t,e),e},z=function(t){return Y.call(J,t)||{}},$=function(t){return tt.call(J,t)}}else{var nt=Z("state");X[nt]=!0,H=function(t,e){return e.facade=t,T(t,nt,e),e},z=function(t){return x(t,nt)?t[nt]:{}},$=function(t){return x(t,nt)}}var rt,it,ot={set:H,get:z,has:$,enforce:function(t){return $(t)?z(t):H(t,{})},getterFor:function(t){return function(e){var n;if(!v(e)||(n=z(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},at=e((function(t){var e=ot.get,n=ot.enforce,r=String(String).split("String");(t.exports=function(t,e,o,a){var A,s=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof e||x(o,"name")||T(o,"name",e),(A=n(o)).source||(A.source=r.join("string"==typeof e?e:""))),t!==i?(s?!c&&t[e]&&(u=!0):delete t[e],u?t[e]=o:T(t,e,o)):u?t[e]=o:M(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||R(this)}))})),At=i,st=function(t){return"function"==typeof t?t:void 0},ut=function(t,e){return arguments.length<2?st(At[t])||st(i[t]):At[t]&&At[t][e]||i[t]&&i[t][e]},ct=Math.ceil,lt=Math.floor,ht=function(t){return isNaN(t=+t)?0:(t>0?lt:ct)(t)},ft=Math.min,pt=function(t){return t>0?ft(ht(t),9007199254740991):0},dt=Math.max,gt=Math.min,mt=function(t,e){var n=ht(t);return n<0?dt(n+e,0):gt(n,e)},yt=function(t){return function(e,n,r){var i,o=y(e),a=pt(o.length),A=mt(r,a);if(t&&n!=n){for(;a>A;)if((i=o[A++])!=i)return!0}else for(;a>A;A++)if((t||A in o)&&o[A]===n)return t||A||0;return!t&&-1}},vt={includes:yt(!0),indexOf:yt(!1)},_t=vt.indexOf,wt=function(t,e){var n,r=y(t),i=0,o=[];for(n in r)!x(X,n)&&x(r,n)&&o.push(n);for(;e.length>i;)x(r,n=e[i++])&&(~_t(o,n)||o.push(n));return o},xt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Bt=xt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return wt(t,Bt)}},Ct={f:Object.getOwnPropertySymbols},Ft=ut("Reflect","ownKeys")||function(t){var e=bt.f(I(t)),n=Ct.f;return n?e.concat(n(t)):e},Ut=function(t,e){for(var n=Ft(e),r=S.f,i=Q.f,o=0;o<n.length;o++){var a=n[o];x(t,a)||r(t,a,i(e,a))}},Et=/#|\.prototype\./,Qt=function(t,e){var n=kt[It(t)];return n==Tt||n!=St&&("function"==typeof e?o(e):!!e)},It=Qt.normalize=function(t){return String(t).replace(Et,".").toLowerCase()},kt=Qt.data={},St=Qt.NATIVE="N",Tt=Qt.POLYFILL="P",Mt=Qt,Dt=Q.f,Lt=function(t,e){var n,r,o,a,A,s=t.target,u=t.global,c=t.stat;if(n=u?i:c?i[s]||M(s,{}):(i[s]||{}).prototype)for(r in e){if(a=e[r],o=t.noTargetGet?(A=Dt(n,r))&&A.value:n[r],!Mt(u?r:s+(c?".":"#")+r,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;Ut(a,o)}(t.sham||o&&o.sham)&&T(a,"sham",!0),at(n,r,a,t)}},Pt=Array.isArray||function(t){return"Array"==f(t)},Ht=function(t){return Object(m(t))},zt=function(t,e,n){var r=_(e);r in t?S.f(t,r,l(0,n)):t[r]=n},$t=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Rt=$t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ot=V("wks"),Kt=i.Symbol,Vt=Rt?Kt:Kt&&Kt.withoutSetter||j,Nt=function(t){return x(Ot,t)||($t&&x(Kt,t)?Ot[t]=Kt[t]:Ot[t]=Vt("Symbol."+t)),Ot[t]},Gt=Nt("species"),jt=function(t,e){var n;return Pt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Pt(n.prototype)?v(n)&&null===(n=n[Gt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},qt=ut("navigator","userAgent")||"",Zt=i.process,Xt=Zt&&Zt.versions,Wt=Xt&&Xt.v8;Wt?it=(rt=Wt.split("."))[0]+rt[1]:qt&&(!(rt=qt.match(/Edge\/(\d+)/))||rt[1]>=74)&&(rt=qt.match(/Chrome\/(\d+)/))&&(it=rt[1]);var Jt=it&&+it,Yt=Nt("species"),te=function(t){return Jt>=51||!o((function(){var e=[];return(e.constructor={})[Yt]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ee=Nt("isConcatSpreadable"),ne=9007199254740991,re="Maximum allowed index exceeded",ie=Jt>=51||!o((function(){var t=[];return t[ee]=!1,t.concat()[0]!==t})),oe=te("concat"),ae=function(t){if(!v(t))return!1;var e=t[ee];return void 0!==e?!!e:Pt(t)};Lt({target:"Array",proto:!0,forced:!ie||!oe},{concat:function(t){var e,n,r,i,o,a=Ht(this),A=jt(a,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(ae(o=-1===e?a:arguments[e])){if(s+(i=pt(o.length))>ne)throw TypeError(re);for(n=0;n<i;n++,s++)n in o&&zt(A,s,o[n])}else{if(s>=ne)throw TypeError(re);zt(A,s++,o)}return A.length=s,A}});var Ae=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},se=function(t,e,n){if(Ae(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ue=[].push,ce=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,A=5==t||o;return function(s,u,c,l){for(var h,f,p=Ht(s),g=d(p),m=se(u,c,3),y=pt(g.length),v=0,_=l||jt,w=e?_(s,y):n||a?_(s,0):void 0;y>v;v++)if((A||v in g)&&(f=m(h=g[v],v,p),t))if(e)w[v]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return v;case 2:ue.call(w,h)}else switch(t){case 4:return!1;case 7:ue.call(w,h)}return o?-1:r||i?i:w}},le={forEach:ce(0),map:ce(1),filter:ce(2),some:ce(3),every:ce(4),find:ce(5),findIndex:ce(6),filterOut:ce(7)},he=le.filter,fe=te("filter");Lt({target:"Array",proto:!0,forced:!fe},{filter:function(t){return he(this,t,arguments.length>1?arguments[1]:void 0)}});var pe,de=Object.keys||function(t){return wt(t,xt)},ge=a?Object.defineProperties:function(t,e){I(t);for(var n,r=de(e),i=r.length,o=0;i>o;)S.f(t,n=r[o++],e[n]);return t},me=ut("document","documentElement"),ye="prototype",ve="script",_e=Z("IE_PROTO"),we=function(){},xe=function(t){return"<"+ve+">"+t+"</"+ve+">"},Be=function(){try{pe=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Be=pe?function(t){t.write(xe("")),t.close();var e=t.parentWindow.Object;return t=null,e}(pe):(e=F("iframe"),n="java"+ve+":",e.style.display="none",me.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(xe("document.F=Object")),t.close(),t.F);for(var r=xt.length;r--;)delete Be[ye][xt[r]];return Be()};X[_e]=!0;var be=Object.create||function(t,e){var n;return null!==t?(we[ye]=I(t),n=new we,we[ye]=null,n[_e]=t):n=Be(),void 0===e?n:ge(n,e)},Ce=Nt("unscopables"),Fe=Array.prototype;null==Fe[Ce]&&S.f(Fe,Ce,{configurable:!0,value:be(null)});var Ue=function(t){Fe[Ce][t]=!0},Ee=le.find,Qe="find",Ie=!0;Qe in[]&&Array(1)[Qe]((function(){Ie=!1})),Lt({target:"Array",proto:!0,forced:Ie},{find:function(t){return Ee(this,t,arguments.length>1?arguments[1]:void 0)}}),Ue(Qe);var ke=le.map,Se=te("map");Lt({target:"Array",proto:!0,forced:!Se},{map:function(t){return ke(this,t,arguments.length>1?arguments[1]:void 0)}});var Te=te("slice"),Me=Nt("species"),De=[].slice,Le=Math.max;Lt({target:"Array",proto:!0,forced:!Te},{slice:function(t,e){var n,r,i,o=y(this),a=pt(o.length),A=mt(t,a),s=mt(void 0===e?a:e,a);if(Pt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Pt(n.prototype)?v(n)&&null===(n=n[Me])&&(n=void 0):n=void 0,n===Array||void 0===n))return De.call(o,A,s);for(r=new(void 0===n?Array:n)(Le(s-A,0)),i=0;A<s;A++,i++)A in o&&zt(r,i,o[A]);return r.length=i,r}});var Pe=function(t,e){var n=[][t];return!!n&&o((function(){n.call(null,e||function(){throw 1},1)}))},He=[],ze=He.sort,$e=o((function(){He.sort(void 0)})),Re=o((function(){He.sort(null)})),Oe=Pe("sort");Lt({target:"Array",proto:!0,forced:$e||!Re||!Oe},{sort:function(t){return void 0===t?ze.call(Ht(this)):ze.call(Ht(this),Ae(t))}});var Ke=S.f,Ve=Function.prototype,Ne=Ve.toString,Ge=/^\s*function ([^ (]*)/,je="name";a&&!(je in Ve)&&Ke(Ve,je,{configurable:!0,get:function(){try{return Ne.call(this).match(Ge)[1]}catch(t){return""}}});var qe="".repeat||function(t){var e=String(m(this)),n="",r=ht(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},Ze=1..toFixed,Xe=Math.floor,We=function(t,e,n){return 0===e?n:e%2==1?We(t,e-1,n*t):We(t*t,e/2,n)},Je=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=Xe(i/1e7)},Ye=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=Xe(r/e),r=r%e*1e7},tn=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+qe.call("0",7-r.length)+r}return n},en=Ze&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){Ze.call({})}));Lt({target:"Number",proto:!0,forced:en},{toFixed:function(t){var e,n,r,i,o=function(t){if("number"!=typeof t&&"Number"!=f(t))throw TypeError("Incorrect invocation");return+t}(this),a=ht(t),A=[0,0,0,0,0,0],s="",u="0";if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(s="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*We(2,69,1))-69)<0?o*We(2,-e,1):o/We(2,e,1),n*=4503599627370496,(e=52-e)>0){for(Je(A,0,n),r=a;r>=7;)Je(A,1e7,0),r-=7;for(Je(A,We(10,r,1),0),r=e-1;r>=23;)Ye(A,1<<23),r-=23;Ye(A,1<<r),Je(A,1,1),Ye(A,2),u=tn(A)}else Je(A,0,n),Je(A,1<<-e,0),u=tn(A)+qe.call("0",a);return u=a>0?s+((i=u.length)<=a?"0."+qe.call("0",a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):s+u}});var nn=o((function(){de(1)}));Lt({target:"Object",stat:!0,forced:nn},{keys:function(t){return de(Ht(t))}});var rn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},on=le.forEach,an=Pe("forEach")?[].forEach:function(t){return on(this,t,arguments.length>1?arguments[1]:void 0)};for(var An in rn){var sn=i[An],un=sn&&sn.prototype;if(un&&un.forEach!==an)try{T(un,"forEach",an)}catch(t){un.forEach=an}}function cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t,e){return hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hn(t,e)}function fn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}function dn(t,e){return!e||"object"!==pn(e)&&"function"!=typeof e?ln(t):e}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(t)}function mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vn(t,e){if(t){if("string"==typeof t)return yn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(t,e):void 0}}function _n(t){return function(t){if(Array.isArray(t))return yn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||vn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn=bt.f,xn={}.toString,Bn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],bn={f:function(t){return Bn&&"[object Window]"==xn.call(t)?function(t){try{return wn(t)}catch(t){return Bn.slice()}}(t):wn(y(t))}},Cn={f:Nt},Fn=S.f,Un=function(t){var e=At.Symbol||(At.Symbol={});x(e,t)||Fn(e,t,{value:Cn.f(t)})},En=S.f,Qn=Nt("toStringTag"),In=function(t,e,n){t&&!x(t=n?t:t.prototype,Qn)&&En(t,Qn,{configurable:!0,value:e})},kn=le.forEach,Sn=Z("hidden"),Tn="Symbol",Mn="prototype",Dn=Nt("toPrimitive"),Ln=ot.set,Pn=ot.getterFor(Tn),Hn=Object[Mn],zn=i.Symbol,$n=ut("JSON","stringify"),Rn=Q.f,On=S.f,Kn=bn.f,Vn=c.f,Nn=V("symbols"),Gn=V("op-symbols"),jn=V("string-to-symbol-registry"),qn=V("symbol-to-string-registry"),Zn=V("wks"),Xn=i.QObject,Wn=!Xn||!Xn[Mn]||!Xn[Mn].findChild,Jn=a&&o((function(){return 7!=be(On({},"a",{get:function(){return On(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Rn(Hn,e);r&&delete Hn[e],On(t,e,n),r&&t!==Hn&&On(Hn,e,r)}:On,Yn=function(t,e){var n=Nn[t]=be(zn[Mn]);return Ln(n,{type:Tn,tag:t,description:e}),a||(n.description=e),n},tr=Rt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof zn},er=function(t,e,n){t===Hn&&er(Gn,e,n),I(t);var r=_(e,!0);return I(n),x(Nn,r)?(n.enumerable?(x(t,Sn)&&t[Sn][r]&&(t[Sn][r]=!1),n=be(n,{enumerable:l(0,!1)})):(x(t,Sn)||On(t,Sn,l(1,{})),t[Sn][r]=!0),Jn(t,r,n)):On(t,r,n)},nr=function(t,e){I(t);var n=y(e),r=de(n).concat(ar(n));return kn(r,(function(e){a&&!rr.call(n,e)||er(t,e,n[e])})),t},rr=function(t){var e=_(t,!0),n=Vn.call(this,e);return!(this===Hn&&x(Nn,e)&&!x(Gn,e))&&(!(n||!x(this,e)||!x(Nn,e)||x(this,Sn)&&this[Sn][e])||n)},ir=function(t,e){var n=y(t),r=_(e,!0);if(n!==Hn||!x(Nn,r)||x(Gn,r)){var i=Rn(n,r);return!i||!x(Nn,r)||x(n,Sn)&&n[Sn][r]||(i.enumerable=!0),i}},or=function(t){var e=Kn(y(t)),n=[];return kn(e,(function(t){x(Nn,t)||x(X,t)||n.push(t)})),n},ar=function(t){var e=t===Hn,n=Kn(e?Gn:y(t)),r=[];return kn(n,(function(t){!x(Nn,t)||e&&!x(Hn,t)||r.push(Nn[t])})),r};if($t||(zn=function(){if(this instanceof zn)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=j(t),n=function(t){this===Hn&&n.call(Gn,t),x(this,Sn)&&x(this[Sn],e)&&(this[Sn][e]=!1),Jn(this,e,l(1,t))};return a&&Wn&&Jn(Hn,e,{configurable:!0,set:n}),Yn(e,t)},at(zn[Mn],"toString",(function(){return Pn(this).tag})),at(zn,"withoutSetter",(function(t){return Yn(j(t),t)})),c.f=rr,S.f=er,Q.f=ir,bt.f=bn.f=or,Ct.f=ar,Cn.f=function(t){return Yn(Nt(t),t)},a&&(On(zn[Mn],"description",{configurable:!0,get:function(){return Pn(this).description}}),at(Hn,"propertyIsEnumerable",rr,{unsafe:!0}))),Lt({global:!0,wrap:!0,forced:!$t,sham:!$t},{Symbol:zn}),kn(de(Zn),(function(t){Un(t)})),Lt({target:Tn,stat:!0,forced:!$t},{for:function(t){var e=String(t);if(x(jn,e))return jn[e];var n=zn(e);return jn[e]=n,qn[n]=e,n},keyFor:function(t){if(!tr(t))throw TypeError(t+" is not a symbol");if(x(qn,t))return qn[t]},useSetter:function(){Wn=!0},useSimple:function(){Wn=!1}}),Lt({target:"Object",stat:!0,forced:!$t,sham:!a},{create:function(t,e){return void 0===e?be(t):nr(be(t),e)},defineProperty:er,defineProperties:nr,getOwnPropertyDescriptor:ir}),Lt({target:"Object",stat:!0,forced:!$t},{getOwnPropertyNames:or,getOwnPropertySymbols:ar}),Lt({target:"Object",stat:!0,forced:o((function(){Ct.f(1)}))},{getOwnPropertySymbols:function(t){return Ct.f(Ht(t))}}),$n){var Ar=!$t||o((function(){var t=zn();return"[null]"!=$n([t])||"{}"!=$n({a:t})||"{}"!=$n(Object(t))}));Lt({target:"JSON",stat:!0,forced:Ar},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(v(e)||void 0!==t)&&!tr(t))return Pt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!tr(e))return e}),i[1]=e,$n.apply(null,i)}})}zn[Mn][Dn]||T(zn[Mn],Dn,zn[Mn].valueOf),In(zn,Tn),X[Sn]=!0;var sr=S.f,ur=i.Symbol;if(a&&"function"==typeof ur&&(!("description"in ur.prototype)||void 0!==ur().description)){var cr={},lr=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof lr?new ur(t):void 0===t?ur():ur(t);return""===t&&(cr[e]=!0),e};Ut(lr,ur);var hr=lr.prototype=ur.prototype;hr.constructor=lr;var fr=hr.toString,pr="Symbol(test)"==String(ur("test")),dr=/^Symbol\((.*)\)[^)]+$/;sr(hr,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=fr.call(t);if(x(cr,t))return"";var n=pr?e.slice(7,-1):e.replace(dr,"$1");return""===n?void 0:n}}),Lt({global:!0,forced:!0},{Symbol:lr})}Un("iterator");var gr=function(t){for(var e=Ht(this),n=pt(e.length),r=arguments.length,i=mt(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:mt(o,n);a>i;)e[i++]=t;return e};Lt({target:"Array",proto:!0},{fill:gr}),Ue("fill");var mr=function(t){var e=t.return;if(void 0!==e)return I(e.call(t)).value},yr=function(t,e,n,r){try{return r?e(I(n)[0],n[1]):e(n)}catch(e){throw mr(t),e}},vr={},_r=Nt("iterator"),wr=Array.prototype,xr=function(t){return void 0!==t&&(vr.Array===t||wr[_r]===t)},Br={};Br[Nt("toStringTag")]="z";var br="[object z]"===String(Br),Cr=Nt("toStringTag"),Fr="Arguments"==f(function(){return arguments}()),Ur=br?f:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Cr))?n:Fr?f(e):"Object"==(r=f(e))&&"function"==typeof e.callee?"Arguments":r},Er=Nt("iterator"),Qr=function(t){if(null!=t)return t[Er]||t["@@iterator"]||vr[Ur(t)]},Ir=function(t){var e,n,r,i,o,a,A=Ht(t),s="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,h=Qr(A),f=0;if(l&&(c=se(c,u>2?arguments[2]:void 0,2)),null==h||s==Array&&xr(h))for(n=new s(e=pt(A.length));e>f;f++)a=l?c(A[f],f):A[f],zt(n,f,a);else for(o=(i=h.call(A)).next,n=new s;!(r=o.call(i)).done;f++)a=l?yr(i,c,[r.value,f],!0):r.value,zt(n,f,a);return n.length=f,n},kr=Nt("iterator"),Sr=!1;try{var Tr=0,Mr={next:function(){return{done:!!Tr++}},return:function(){Sr=!0}};Mr[kr]=function(){return this},Array.from(Mr,(function(){throw 2}))}catch(t){}var Dr=function(t,e){if(!e&&!Sr)return!1;var n=!1;try{var r={};r[kr]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Lr=!Dr((function(t){Array.from(t)}));Lt({target:"Array",stat:!0,forced:Lr},{from:Ir});var Pr,Hr,zr,$r=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Rr=Z("IE_PROTO"),Or=Object.prototype,Kr=$r?Object.getPrototypeOf:function(t){return t=Ht(t),x(t,Rr)?t[Rr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Or:null},Vr=Nt("iterator"),Nr=!1;[].keys&&("next"in(zr=[].keys())?(Hr=Kr(Kr(zr)))!==Object.prototype&&(Pr=Hr):Nr=!0);var Gr=null==Pr||o((function(){var t={};return Pr[Vr].call(t)!==t}));Gr&&(Pr={}),x(Pr,Vr)||T(Pr,Vr,(function(){return this}));var jr={IteratorPrototype:Pr,BUGGY_SAFARI_ITERATORS:Nr},qr=jr.IteratorPrototype,Zr=function(){return this},Xr=function(t,e,n){var r=e+" Iterator";return t.prototype=be(qr,{next:l(1,n)}),In(t,r,!1),vr[r]=Zr,t},Wr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return I(n),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Jr=jr.IteratorPrototype,Yr=jr.BUGGY_SAFARI_ITERATORS,ti=Nt("iterator"),ei="keys",ni="values",ri="entries",ii=function(){return this},oi=function(t,e,n,r,i,o,a){Xr(n,e,r);var A,s,u,c=function(t){if(t===i&&d)return d;if(!Yr&&t in f)return f[t];switch(t){case ei:case ni:case ri:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",h=!1,f=t.prototype,p=f[ti]||f["@@iterator"]||i&&f[i],d=!Yr&&p||c(i),g="Array"==e&&f.entries||p;if(g&&(A=Kr(g.call(new t)),Jr!==Object.prototype&&A.next&&(Kr(A)!==Jr&&(Wr?Wr(A,Jr):"function"!=typeof A[ti]&&T(A,ti,ii)),In(A,l,!0))),i==ni&&p&&p.name!==ni&&(h=!0,d=function(){return p.call(this)}),f[ti]!==d&&T(f,ti,d),vr[e]=d,i)if(s={values:c(ni),keys:o?d:c(ei),entries:c(ri)},a)for(u in s)(Yr||h||!(u in f))&&at(f,u,s[u]);else Lt({target:e,proto:!0,forced:Yr||h},s);return s},ai="Array Iterator",Ai=ot.set,si=ot.getterFor(ai),ui=oi(Array,"Array",(function(t,e){Ai(this,{type:ai,target:y(t),index:0,kind:e})}),(function(){var t=si(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");vr.Arguments=vr.Array,Ue("keys"),Ue("values"),Ue("entries");var ci=[].join,li=d!=Object,hi=Pe("join",",");Lt({target:"Array",proto:!0,forced:li||!hi},{join:function(t){return ci.call(y(this),void 0===t?",":t)}});var fi=te("splice"),pi=Math.max,di=Math.min;Lt({target:"Array",proto:!0,forced:!fi},{splice:function(t,e){var n,r,i,o,a,A,s=Ht(this),u=pt(s.length),c=mt(t,u),l=arguments.length;if(0===l?n=r=0:1===l?(n=0,r=u-c):(n=l-2,r=di(pi(ht(e),0),u-c)),u+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=jt(s,r),o=0;o<r;o++)(a=c+o)in s&&zt(i,o,s[a]);if(i.length=r,n<r){for(o=c;o<u-r;o++)A=o+n,(a=o+r)in s?s[A]=s[a]:delete s[A];for(o=u;o>u-r+n;o--)delete s[o-1]}else if(n>r)for(o=u-r;o>c;o--)A=o+n-1,(a=o+r-1)in s?s[A]=s[a]:delete s[A];for(o=0;o<n;o++)s[o+c]=arguments[o+2];return s.length=u-r+n,i}});var gi=!o((function(){return Object.isExtensible(Object.preventExtensions({}))})),mi=e((function(t){var e=S.f,n=j("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!x(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!x(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return gi&&a.REQUIRED&&i(t)&&!x(t,n)&&o(t),t}};X[n]=!0})),yi=function(t,e){this.stopped=t,this.result=e},vi=function(t,e,n){var r,i,o,a,A,s,u,c=n&&n.that,l=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),p=se(e,c,1+l+f),d=function(t){return r&&mr(r),new yi(!0,t)},g=function(t){return l?(I(t),f?p(t[0],t[1],d):p(t[0],t[1])):f?p(t,d):p(t)};if(h)r=t;else{if("function"!=typeof(i=Qr(t)))throw TypeError("Target is not iterable");if(xr(i)){for(o=0,a=pt(t.length);a>o;o++)if((A=g(t[o]))&&A instanceof yi)return A;return new yi(!1)}r=i.call(t)}for(s=r.next;!(u=s.call(r)).done;){try{A=g(u.value)}catch(t){throw mr(r),t}if("object"==typeof A&&A&&A instanceof yi)return A}return new yi(!1)},_i=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},wi=function(t,e,n){var r,i;return Wr&&"function"==typeof(r=e.constructor)&&r!==n&&v(i=r.prototype)&&i!==n.prototype&&Wr(t,i),t},xi=function(t,e,n){var r=-1!==t.indexOf("Map"),a=-1!==t.indexOf("Weak"),A=r?"set":"add",s=i[t],u=s&&s.prototype,c=s,l={},h=function(t){var e=u[t];at(u,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(a&&!v(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!v(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!v(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Mt(t,"function"!=typeof s||!(a||u.forEach&&!o((function(){(new s).entries().next()})))))c=n.getConstructor(e,t,r,A),mi.REQUIRED=!0;else if(Mt(t,!0)){var f=new c,p=f[A](a?{}:-0,1)!=f,d=o((function(){f.has(1)})),g=Dr((function(t){new s(t)})),m=!a&&o((function(){for(var t=new s,e=5;e--;)t[A](e,e);return!t.has(-0)}));g||((c=e((function(e,n){_i(e,c,t);var i=wi(new s,e,c);return null!=n&&vi(n,i[A],{that:i,AS_ENTRIES:r}),i}))).prototype=u,u.constructor=c),(d||m)&&(h("delete"),h("has"),r&&h("get")),(m||p)&&h(A),a&&u.clear&&delete u.clear}return l[t]=c,Lt({global:!0,forced:c!=s},l),In(c,t),a||n.setStrong(c,t,r),c},Bi=function(t,e,n){for(var r in e)at(t,r,e[r],n);return t},bi=Nt("species"),Ci=function(t){var e=ut(t),n=S.f;a&&e&&!e[bi]&&n(e,bi,{configurable:!0,get:function(){return this}})},Fi=S.f,Ui=mi.fastKey,Ei=ot.set,Qi=ot.getterFor,Ii={getConstructor:function(t,e,n,r){var i=t((function(t,o){_i(t,i,e),Ei(t,{type:e,index:be(null),first:void 0,last:void 0,size:0}),a||(t.size=0),null!=o&&vi(o,t[r],{that:t,AS_ENTRIES:n})})),o=Qi(e),A=function(t,e,n){var r,i,A=o(t),u=s(t,e);return u?u.value=n:(A.last=u={index:i=Ui(e,!0),key:e,value:n,previous:r=A.last,next:void 0,removed:!1},A.first||(A.first=u),r&&(r.next=u),a?A.size++:t.size++,"F"!==i&&(A.index[i]=u)),t},s=function(t,e){var n,r=o(t),i=Ui(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Bi(i.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,a?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),r=s(e,t);if(r){var i=r.next,A=r.previous;delete n.index[r.index],r.removed=!0,A&&(A.next=i),i&&(i.previous=A),n.first==r&&(n.first=i),n.last==r&&(n.last=A),a?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=o(this),r=se(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),Bi(i.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return A(this,0===t?0:t,e)}}:{add:function(t){return A(this,t=0===t?0:t,t)}}),a&&Fi(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Qi(e),o=Qi(r);oi(t,e,(function(t,e){Ei(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Ci(e)}},ki=(xi("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Ii),Object.assign),Si=Object.defineProperty,Ti=!ki||o((function(){if(a&&1!==ki({b:1},ki(Si({},"a",{enumerable:!0,get:function(){Si(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=ki({},t)[n]||de(ki({},e)).join("")!=r}))?function(t,e){for(var n=Ht(t),r=arguments.length,i=1,o=Ct.f,A=c.f;r>i;)for(var s,u=d(arguments[i++]),l=o?de(u).concat(o(u)):de(u),h=l.length,f=0;h>f;)s=l[f++],a&&!A.call(u,s)||(n[s]=u[s]);return n}:ki;Lt({target:"Object",stat:!0,forced:Object.assign!==Ti},{assign:Ti}),Lt({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,r=y(t),i=Q.f,o=Ft(r),a={},A=0;o.length>A;)void 0!==(n=i(r,e=o[A++]))&&zt(a,e,n);return a}});var Mi=br?{}.toString:function(){return"[object "+Ur(this)+"]"};br||at(Object.prototype,"toString",Mi,{unsafe:!0});var Di,Li,Pi,Hi=i.Promise,zi=Nt("species"),$i=function(t,e){var n,r=I(t).constructor;return void 0===r||null==(n=I(r)[zi])?e:Ae(n)},Ri=/(iphone|ipod|ipad).*applewebkit/i.test(qt),Oi="process"==f(i.process),Ki=i.location,Vi=i.setImmediate,Ni=i.clearImmediate,Gi=i.process,ji=i.MessageChannel,qi=i.Dispatch,Zi=0,Xi={},Wi="onreadystatechange",Ji=function(t){if(Xi.hasOwnProperty(t)){var e=Xi[t];delete Xi[t],e()}},Yi=function(t){return function(){Ji(t)}},to=function(t){Ji(t.data)},eo=function(t){i.postMessage(t+"",Ki.protocol+"//"+Ki.host)};Vi&&Ni||(Vi=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Xi[++Zi]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Di(Zi),Zi},Ni=function(t){delete Xi[t]},Oi?Di=function(t){Gi.nextTick(Yi(t))}:qi&&qi.now?Di=function(t){qi.now(Yi(t))}:ji&&!Ri?(Pi=(Li=new ji).port2,Li.port1.onmessage=to,Di=se(Pi.postMessage,Pi,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&Ki&&"file:"!==Ki.protocol&&!o(eo)?(Di=eo,i.addEventListener("message",to,!1)):Di=Wi in F("script")?function(t){me.appendChild(F("script"))[Wi]=function(){me.removeChild(this),Ji(t)}}:function(t){setTimeout(Yi(t),0)});var no,ro,io,oo,ao,Ao,so,uo,co={set:Vi,clear:Ni},lo=/web0s(?!.*chrome)/i.test(qt),ho=Q.f,fo=co.set,po=i.MutationObserver||i.WebKitMutationObserver,go=i.document,mo=i.process,yo=i.Promise,vo=ho(i,"queueMicrotask"),_o=vo&&vo.value;_o||(no=function(){var t,e;for(Oi&&(t=mo.domain)&&t.exit();ro;){e=ro.fn,ro=ro.next;try{e()}catch(t){throw ro?oo():io=void 0,t}}io=void 0,t&&t.enter()},Ri||Oi||lo||!po||!go?yo&&yo.resolve?(so=yo.resolve(void 0),uo=so.then,oo=function(){uo.call(so,no)}):oo=Oi?function(){mo.nextTick(no)}:function(){fo.call(i,no)}:(ao=!0,Ao=go.createTextNode(""),new po(no).observe(Ao,{characterData:!0}),oo=function(){Ao.data=ao=!ao}));var wo,xo,Bo,bo,Co=_o||function(t){var e={fn:t,next:void 0};io&&(io.next=e),ro||(ro=e,oo()),io=e},Fo=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Ae(e),this.reject=Ae(n)},Uo={f:function(t){return new Fo(t)}},Eo=function(t,e){if(I(t),v(e)&&e.constructor===t)return e;var n=Uo.f(t);return(0,n.resolve)(e),n.promise},Qo=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Io=co.set,ko=Nt("species"),So="Promise",To=ot.get,Mo=ot.set,Do=ot.getterFor(So),Lo=Hi,Po=i.TypeError,Ho=i.document,zo=i.process,$o=ut("fetch"),Ro=Uo.f,Oo=Ro,Ko=!!(Ho&&Ho.createEvent&&i.dispatchEvent),Vo="function"==typeof PromiseRejectionEvent,No="unhandledrejection",Go=Mt(So,(function(){if(!(R(Lo)!==String(Lo))){if(66===Jt)return!0;if(!Oi&&!Vo)return!0}if(Jt>=51&&/native code/.test(Lo))return!1;var t=Lo.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[ko]=e,!(t.then((function(){}))instanceof e)})),jo=Go||!Dr((function(t){Lo.all(t).catch((function(){}))})),qo=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Zo=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Co((function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var a,A,s,u=n[o++],c=i?u.ok:u.fail,l=u.resolve,h=u.reject,f=u.domain;try{c?(i||(2===t.rejection&&Yo(t),t.rejection=1),!0===c?a=r:(f&&f.enter(),a=c(r),f&&(f.exit(),s=!0)),a===u.promise?h(Po("Promise-chain cycle")):(A=qo(a))?A.call(a,l,h):l(a)):h(r)}catch(t){f&&!s&&f.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Wo(t)}))}},Xo=function(t,e,n){var r,o;Ko?((r=Ho.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),i.dispatchEvent(r)):r={promise:e,reason:n},!Vo&&(o=i["on"+t])?o(r):t===No&&function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Wo=function(t){Io.call(i,(function(){var e,n=t.facade,r=t.value;if(Jo(t)&&(e=Qo((function(){Oi?zo.emit("unhandledRejection",r,n):Xo(No,n,r)})),t.rejection=Oi||Jo(t)?2:1,e.error))throw e.value}))},Jo=function(t){return 1!==t.rejection&&!t.parent},Yo=function(t){Io.call(i,(function(){var e=t.facade;Oi?zo.emit("rejectionHandled",e):Xo("rejectionhandled",e,t.value)}))},ta=function(t,e,n){return function(r){t(e,r,n)}},ea=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Zo(t,!0))},na=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Po("Promise can't be resolved itself");var r=qo(e);r?Co((function(){var n={done:!1};try{r.call(e,ta(na,n,t),ta(ea,n,t))}catch(e){ea(n,e,t)}})):(t.value=e,t.state=1,Zo(t,!1))}catch(e){ea({done:!1},e,t)}}};Go&&(Lo=function(t){_i(this,Lo,So),Ae(t),wo.call(this);var e=To(this);try{t(ta(na,e),ta(ea,e))}catch(t){ea(e,t)}},(wo=function(t){Mo(this,{type:So,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Bi(Lo.prototype,{then:function(t,e){var n=Do(this),r=Ro($i(this,Lo));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Oi?zo.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Zo(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),xo=function(){var t=new wo,e=To(t);this.promise=t,this.resolve=ta(na,e),this.reject=ta(ea,e)},Uo.f=Ro=function(t){return t===Lo||t===Bo?new xo(t):Oo(t)},"function"==typeof Hi&&(bo=Hi.prototype.then,at(Hi.prototype,"then",(function(t,e){var n=this;return new Lo((function(t,e){bo.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof $o&&Lt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Eo(Lo,$o.apply(i,arguments))}}))),Lt({global:!0,wrap:!0,forced:Go},{Promise:Lo}),In(Lo,So,!1),Ci(So),Bo=ut(So),Lt({target:So,stat:!0,forced:Go},{reject:function(t){var e=Ro(this);return e.reject.call(void 0,t),e.promise}}),Lt({target:So,stat:!0,forced:Go},{resolve:function(t){return Eo(this,t)}}),Lt({target:So,stat:!0,forced:jo},{all:function(t){var e=this,n=Ro(e),r=n.resolve,i=n.reject,o=Qo((function(){var n=Ae(e.resolve),o=[],a=0,A=1;vi(t,(function(t){var s=a++,u=!1;o.push(void 0),A++,n.call(e,t).then((function(t){u||(u=!0,o[s]=t,--A||r(o))}),i)})),--A||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=Ro(e),r=n.reject,i=Qo((function(){var i=Ae(e.resolve);vi(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var ra=function(){var t=I(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function ia(t,e){return RegExp(t,e)}var oa=o((function(){var t=ia("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),aa=o((function(){var t=ia("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),Aa={UNSUPPORTED_Y:oa,BROKEN_CARET:aa},sa=RegExp.prototype.exec,ua=String.prototype.replace,ca=sa,la=function(){var t=/a/,e=/b*/g;return sa.call(t,"a"),sa.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),ha=Aa.UNSUPPORTED_Y||Aa.BROKEN_CARET,fa=void 0!==/()??/.exec("")[1];(la||fa||ha)&&(ca=function(t){var e,n,r,i,o=this,a=ha&&o.sticky,A=ra.call(o),s=o.source,u=0,c=t;return a&&(-1===(A=A.replace("y","")).indexOf("g")&&(A+="g"),c=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(s="(?: "+s+")",c=" "+c,u++),n=new RegExp("^(?:"+s+")",A)),fa&&(n=new RegExp("^"+s+"$(?!\\s)",A)),la&&(e=o.lastIndex),r=sa.call(a?n:o,c),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:la&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),fa&&r&&r.length>1&&ua.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var pa=ca;Lt({target:"RegExp",proto:!0,forced:/./.exec!==pa},{exec:pa});xi("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Ii);var da=function(t){return function(e,n){var r,i,o=String(m(e)),a=ht(n),A=o.length;return a<0||a>=A?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===A||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},ga={codeAt:da(!1),charAt:da(!0)},ma=ga.charAt,ya="String Iterator",va=ot.set,_a=ot.getterFor(ya);oi(String,"String",(function(t){va(this,{type:ya,string:String(t),index:0})}),(function(){var t,e=_a(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=ma(n,r),e.index+=t.length,{value:t,done:!1})}));var wa=Nt("species"),xa=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ba="$0"==="a".replace(/./,"$0"),ba=Nt("replace"),Ca=!!/./[ba]&&""===/./[ba]("a","$0"),Fa=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ua=function(t,e,n,r){var i=Nt(t),a=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),A=a&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[wa]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!a||!A||"replace"===t&&(!xa||!Ba||Ca)||"split"===t&&!Fa){var s=/./[i],u=n(i,""[t],(function(t,e,n,r,i){return e.exec===pa?a&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:Ba,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ca}),c=u[0],l=u[1];at(String.prototype,t,c),at(RegExp.prototype,i,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}r&&T(RegExp.prototype[i],"sham",!0)},Ea=ga.charAt,Qa=function(t,e,n){return e+(n?Ea(t,e).length:1)},Ia=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return pa.call(t,e)};Ua("match",1,(function(t,e,n){return[function(e){var n=m(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=I(t),o=String(this);if(!i.global)return Ia(i,o);var a=i.unicode;i.lastIndex=0;for(var A,s=[],u=0;null!==(A=Ia(i,o));){var c=String(A[0]);s[u]=c,""===c&&(i.lastIndex=Qa(o,pt(i.lastIndex),a)),u++}return 0===u?null:s}]}));var ka=Nt("match"),Sa=function(t){var e;return v(t)&&(void 0!==(e=t[ka])?!!e:"RegExp"==f(t))},Ta=[].push,Ma=Math.min,Da=4294967295,La=!o((function(){return!RegExp(Da,"y")}));Ua("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(m(this)),i=void 0===n?Da:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Sa(t))return e.call(r,t,i);for(var o,a,A,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,l=new RegExp(t.source,u+"g");(o=pa.call(l,r))&&!((a=l.lastIndex)>c&&(s.push(r.slice(c,o.index)),o.length>1&&o.index<r.length&&Ta.apply(s,o.slice(1)),A=o[0].length,c=a,s.length>=i));)l.lastIndex===o.index&&l.lastIndex++;return c===r.length?!A&&l.test("")||s.push(""):s.push(r.slice(c)),s.length>i?s.slice(0,i):s}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=m(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=I(t),A=String(this),s=$i(a,RegExp),u=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(La?"y":"g"),l=new s(La?a:"^(?:"+a.source+")",c),h=void 0===i?Da:i>>>0;if(0===h)return[];if(0===A.length)return null===Ia(l,A)?[A]:[];for(var f=0,p=0,d=[];p<A.length;){l.lastIndex=La?p:0;var g,m=Ia(l,La?A:A.slice(p));if(null===m||(g=Ma(pt(l.lastIndex+(La?0:p)),A.length))===f)p=Qa(A,p,u);else{if(d.push(A.slice(f,p)),d.length===h)return d;for(var y=1;y<=m.length-1;y++)if(d.push(m[y]),d.length===h)return d;p=f=g}}return d.push(A.slice(f)),d}]}),!La);var Pa,Ha=function(t){if(Sa(t))throw TypeError("The method doesn't accept regular expressions");return t},za=Nt("match"),$a=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[za]=!1,"/./"[t](e)}catch(t){}}return!1},Ra=Q.f,Oa="".startsWith,Ka=Math.min,Va=$a("startsWith"),Na=!(Va||(Pa=Ra(String.prototype,"startsWith"),!Pa||Pa.writable));Lt({target:"String",proto:!0,forced:!Na&&!Va},{startsWith:function(t){var e=String(m(this));Ha(t);var n=pt(Ka(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Oa?Oa.call(e,r,n):e.slice(n,n+r.length)===r}});var Ga="\t\n\v\f\r                　\u2028\u2029\ufeff",ja="["+Ga+"]",qa=RegExp("^"+ja+ja+"*"),Za=RegExp(ja+ja+"*$"),Xa=function(t){return function(e){var n=String(m(e));return 1&t&&(n=n.replace(qa,"")),2&t&&(n=n.replace(Za,"")),n}},Wa={start:Xa(1),end:Xa(2),trim:Xa(3)},Ja=Wa.trim;Lt({target:"String",proto:!0,forced:function(t){return o((function(){return!!Ga[t]()||"​᠎"!="​᠎"[t]()||Ga[t].name!==t}))}("trim")},{trim:function(){return Ja(this)}});var Ya=/"/g,tA=function(t,e,n,r){var i=String(m(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(Ya,"&quot;")+'"'),o+">"+i+"</"+e+">"},eA=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};Lt({target:"String",proto:!0,forced:eA("anchor")},{anchor:function(t){return tA(this,"a","name",t)}});var nA,rA="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,iA=S.f,oA=i.Int8Array,aA=oA&&oA.prototype,AA=i.Uint8ClampedArray,sA=AA&&AA.prototype,uA=oA&&Kr(oA),cA=aA&&Kr(aA),lA=Object.prototype,hA=lA.isPrototypeOf,fA=Nt("toStringTag"),pA=j("TYPED_ARRAY_TAG"),dA=rA&&!!Wr&&"Opera"!==Ur(i.opera),gA=!1,mA={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},yA={BigInt64Array:8,BigUint64Array:8},vA=function(t){if(!v(t))return!1;var e=Ur(t);return x(mA,e)||x(yA,e)};for(nA in mA)i[nA]||(dA=!1);if((!dA||"function"!=typeof uA||uA===Function.prototype)&&(uA=function(){throw TypeError("Incorrect invocation")},dA))for(nA in mA)i[nA]&&Wr(i[nA],uA);if((!dA||!cA||cA===lA)&&(cA=uA.prototype,dA))for(nA in mA)i[nA]&&Wr(i[nA].prototype,cA);if(dA&&Kr(sA)!==cA&&Wr(sA,cA),a&&!x(cA,fA))for(nA in gA=!0,iA(cA,fA,{get:function(){return v(this)?this[pA]:void 0}}),mA)i[nA]&&T(i[nA],pA,nA);var _A={NATIVE_ARRAY_BUFFER_VIEWS:dA,TYPED_ARRAY_TAG:gA&&pA,aTypedArray:function(t){if(vA(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Wr){if(hA.call(uA,t))return t}else for(var e in mA)if(x(mA,nA)){var n=i[e];if(n&&(t===n||hA.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var r in mA){var o=i[r];o&&x(o.prototype,t)&&delete o.prototype[t]}cA[t]&&!n||at(cA,t,n?e:dA&&aA[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(a){if(Wr){if(n)for(r in mA)(o=i[r])&&x(o,t)&&delete o[t];if(uA[t]&&!n)return;try{return at(uA,t,n?e:dA&&oA[t]||e)}catch(t){}}for(r in mA)!(o=i[r])||o[t]&&!n||at(o,t,e)}},isView:function(t){if(!v(t))return!1;var e=Ur(t);return"DataView"===e||x(mA,e)||x(yA,e)},isTypedArray:vA,TypedArray:uA,TypedArrayPrototype:cA},wA=_A.NATIVE_ARRAY_BUFFER_VIEWS,xA=i.ArrayBuffer,BA=i.Int8Array,bA=!wA||!o((function(){BA(1)}))||!o((function(){new BA(-1)}))||!Dr((function(t){new BA,new BA(null),new BA(1.5),new BA(t)}),!0)||o((function(){return 1!==new BA(new xA(2),1,void 0).length})),CA=function(t){if(void 0===t)return 0;var e=ht(t),n=pt(e);if(e!==n)throw RangeError("Wrong length or index");return n},FA=Math.abs,UA=Math.pow,EA=Math.floor,QA=Math.log,IA=Math.LN2,kA=function(t,e,n){var r,i,o,a=new Array(n),A=8*n-e-1,s=(1<<A)-1,u=s>>1,c=23===e?UA(2,-24)-UA(2,-77):0,l=t<0||0===t&&1/t<0?1:0,h=0;for((t=FA(t))!=t||t===1/0?(i=t!=t?1:0,r=s):(r=EA(QA(t)/IA),t*(o=UA(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?c/o:c*UA(2,1-u))*o>=2&&(r++,o/=2),r+u>=s?(i=0,r=s):r+u>=1?(i=(t*o-1)*UA(2,e),r+=u):(i=t*UA(2,u-1)*UA(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,A+=e;A>0;a[h++]=255&r,r/=256,A-=8);return a[--h]|=128*l,a},SA=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,A=i-7,s=r-1,u=t[s--],c=127&u;for(u>>=7;A>0;c=256*c+t[s],s--,A-=8);for(n=c&(1<<-A)-1,c>>=-A,A+=e;A>0;n=256*n+t[s],s--,A-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:u?-1/0:1/0;n+=UA(2,e),c-=a}return(u?-1:1)*n*UA(2,c-e)},TA=bt.f,MA=S.f,DA=ot.get,LA=ot.set,PA="ArrayBuffer",HA="DataView",zA="prototype",$A="Wrong index",RA=i[PA],OA=RA,KA=i[HA],VA=KA&&KA[zA],NA=Object.prototype,GA=i.RangeError,jA=kA,qA=SA,ZA=function(t){return[255&t]},XA=function(t){return[255&t,t>>8&255]},WA=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},JA=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},YA=function(t){return jA(t,23,4)},ts=function(t){return jA(t,52,8)},es=function(t,e){MA(t[zA],e,{get:function(){return DA(this)[e]}})},ns=function(t,e,n,r){var i=CA(n),o=DA(t);if(i+e>o.byteLength)throw GA($A);var a=DA(o.buffer).bytes,A=i+o.byteOffset,s=a.slice(A,A+e);return r?s:s.reverse()},rs=function(t,e,n,r,i,o){var a=CA(n),A=DA(t);if(a+e>A.byteLength)throw GA($A);for(var s=DA(A.buffer).bytes,u=a+A.byteOffset,c=r(+i),l=0;l<e;l++)s[u+l]=c[o?l:e-l-1]};if(rA){if(!o((function(){RA(1)}))||!o((function(){new RA(-1)}))||o((function(){return new RA,new RA(1.5),new RA(NaN),RA.name!=PA}))){for(var is,os=(OA=function(t){return _i(this,OA),new RA(CA(t))})[zA]=RA[zA],as=TA(RA),As=0;as.length>As;)(is=as[As++])in OA||T(OA,is,RA[is]);os.constructor=OA}Wr&&Kr(VA)!==NA&&Wr(VA,NA);var ss=new KA(new OA(2)),us=VA.setInt8;ss.setInt8(0,2147483648),ss.setInt8(1,2147483649),!ss.getInt8(0)&&ss.getInt8(1)||Bi(VA,{setInt8:function(t,e){us.call(this,t,e<<24>>24)},setUint8:function(t,e){us.call(this,t,e<<24>>24)}},{unsafe:!0})}else OA=function(t){_i(this,OA,PA);var e=CA(t);LA(this,{bytes:gr.call(new Array(e),0),byteLength:e}),a||(this.byteLength=e)},KA=function(t,e,n){_i(this,KA,HA),_i(t,OA,HA);var r=DA(t).byteLength,i=ht(e);if(i<0||i>r)throw GA("Wrong offset");if(i+(n=void 0===n?r-i:pt(n))>r)throw GA("Wrong length");LA(this,{buffer:t,byteLength:n,byteOffset:i}),a||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},a&&(es(OA,"byteLength"),es(KA,"buffer"),es(KA,"byteLength"),es(KA,"byteOffset")),Bi(KA[zA],{getInt8:function(t){return ns(this,1,t)[0]<<24>>24},getUint8:function(t){return ns(this,1,t)[0]},getInt16:function(t){var e=ns(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=ns(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return JA(ns(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return JA(ns(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return qA(ns(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return qA(ns(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){rs(this,1,t,ZA,e)},setUint8:function(t,e){rs(this,1,t,ZA,e)},setInt16:function(t,e){rs(this,2,t,XA,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){rs(this,2,t,XA,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){rs(this,4,t,WA,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){rs(this,4,t,WA,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){rs(this,4,t,YA,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){rs(this,8,t,ts,e,arguments.length>2?arguments[2]:void 0)}});In(OA,PA),In(KA,HA);var cs={ArrayBuffer:OA,DataView:KA},ls=function(t,e){var n=function(t){var e=ht(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},hs=_A.aTypedArrayConstructor,fs=function(t){var e,n,r,i,o,a,A=Ht(t),s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,l=Qr(A);if(null!=l&&!xr(l))for(a=(o=l.call(A)).next,A=[];!(i=a.call(o)).done;)A.push(i.value);for(c&&s>2&&(u=se(u,arguments[2],2)),n=pt(A.length),r=new(hs(this))(n),e=0;n>e;e++)r[e]=c?u(A[e],e):A[e];return r},ps=e((function(t){var e=bt.f,n=le.forEach,r=ot.get,o=ot.set,A=S.f,s=Q.f,u=Math.round,c=i.RangeError,h=cs.ArrayBuffer,f=cs.DataView,p=_A.NATIVE_ARRAY_BUFFER_VIEWS,d=_A.TYPED_ARRAY_TAG,g=_A.TypedArray,m=_A.TypedArrayPrototype,y=_A.aTypedArrayConstructor,w=_A.isTypedArray,B="BYTES_PER_ELEMENT",b="Wrong length",C=function(t,e){for(var n=0,r=e.length,i=new(y(t))(r);r>n;)i[n]=e[n++];return i},F=function(t,e){A(t,e,{get:function(){return r(this)[e]}})},U=function(t){var e;return t instanceof h||"ArrayBuffer"==(e=Ur(t))||"SharedArrayBuffer"==e},E=function(t,e){return w(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},I=function(t,e){return E(t,e=_(e,!0))?l(2,t[e]):s(t,e)},k=function(t,e,n){return!(E(t,e=_(e,!0))&&v(n)&&x(n,"value"))||x(n,"get")||x(n,"set")||n.configurable||x(n,"writable")&&!n.writable||x(n,"enumerable")&&!n.enumerable?A(t,e,n):(t[e]=n.value,t)};a?(p||(Q.f=I,S.f=k,F(m,"buffer"),F(m,"byteOffset"),F(m,"byteLength"),F(m,"length")),Lt({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:I,defineProperty:k}),t.exports=function(t,a,s){var l=t.match(/\d+$/)[0]/8,y=t+(s?"Clamped":"")+"Array",_="get"+t,x="set"+t,F=i[y],E=F,Q=E&&E.prototype,I={},k=function(t,e){A(t,e,{get:function(){return function(t,e){var n=r(t);return n.view[_](e*l+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=r(t);s&&(n=(n=u(n))<0?0:n>255?255:255&n),i.view[x](e*l+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};p?bA&&(E=a((function(t,e,n,r){return _i(t,E,y),wi(v(e)?U(e)?void 0!==r?new F(e,ls(n,l),r):void 0!==n?new F(e,ls(n,l)):new F(e):w(e)?C(E,e):fs.call(E,e):new F(CA(e)),t,E)})),Wr&&Wr(E,g),n(e(F),(function(t){t in E||T(E,t,F[t])})),E.prototype=Q):(E=a((function(t,e,n,r){_i(t,E,y);var i,a,A,s=0,u=0;if(v(e)){if(!U(e))return w(e)?C(E,e):fs.call(E,e);i=e,u=ls(n,l);var p=e.byteLength;if(void 0===r){if(p%l)throw c(b);if((a=p-u)<0)throw c(b)}else if((a=pt(r)*l)+u>p)throw c(b);A=a/l}else A=CA(e),i=new h(a=A*l);for(o(t,{buffer:i,byteOffset:u,byteLength:a,length:A,view:new f(i)});s<A;)k(t,s++)})),Wr&&Wr(E,g),Q=E.prototype=be(m)),Q.constructor!==E&&T(Q,"constructor",E),d&&T(Q,d,y),I[y]=E,Lt({global:!0,forced:E!=F,sham:!p},I),B in E||T(E,B,l),B in Q||T(Q,B,l),Ci(y)}):t.exports=function(){}}));ps("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var ds=Math.min,gs=[].copyWithin||function(t,e){var n=Ht(this),r=pt(n.length),i=mt(t,r),o=mt(e,r),a=arguments.length>2?arguments[2]:void 0,A=ds((void 0===a?r:mt(a,r))-o,r-i),s=1;for(o<i&&i<o+A&&(s=-1,o+=A-1,i+=A-1);A-- >0;)o in n?n[i]=n[o]:delete n[i],i+=s,o+=s;return n},ms=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("copyWithin",(function(t,e){return gs.call(ms(this),t,e,arguments.length>2?arguments[2]:void 0)}));var ys=le.every,vs=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("every",(function(t){return ys(vs(this),t,arguments.length>1?arguments[1]:void 0)}));var _s=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("fill",(function(t){return gr.apply(_s(this),arguments)}));var ws=_A.aTypedArrayConstructor,xs=le.filter,Bs=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("filter",(function(t){return function(t,e){for(var n=$i(t,t.constructor),r=0,i=e.length,o=new(ws(n))(i);i>r;)o[r]=e[r++];return o}(this,xs(Bs(this),t,arguments.length>1?arguments[1]:void 0))}));var bs=le.find,Cs=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("find",(function(t){return bs(Cs(this),t,arguments.length>1?arguments[1]:void 0)}));var Fs=le.findIndex,Us=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("findIndex",(function(t){return Fs(Us(this),t,arguments.length>1?arguments[1]:void 0)}));var Es=le.forEach,Qs=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("forEach",(function(t){Es(Qs(this),t,arguments.length>1?arguments[1]:void 0)}));var Is=vt.includes,ks=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("includes",(function(t){return Is(ks(this),t,arguments.length>1?arguments[1]:void 0)}));var Ss=vt.indexOf,Ts=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("indexOf",(function(t){return Ss(Ts(this),t,arguments.length>1?arguments[1]:void 0)}));var Ms=Nt("iterator"),Ds=i.Uint8Array,Ls=ui.values,Ps=ui.keys,Hs=ui.entries,zs=_A.aTypedArray,$s=_A.exportTypedArrayMethod,Rs=Ds&&Ds.prototype[Ms],Os=!!Rs&&("values"==Rs.name||null==Rs.name),Ks=function(){return Ls.call(zs(this))};$s("entries",(function(){return Hs.call(zs(this))})),$s("keys",(function(){return Ps.call(zs(this))})),$s("values",Ks,!Os),$s(Ms,Ks,!Os);var Vs=_A.aTypedArray,Ns=[].join;(0,_A.exportTypedArrayMethod)("join",(function(t){return Ns.apply(Vs(this),arguments)}));var Gs=Math.min,js=[].lastIndexOf,qs=!!js&&1/[1].lastIndexOf(1,-0)<0,Zs=Pe("lastIndexOf"),Xs=qs||!Zs?function(t){if(qs)return js.apply(this,arguments)||0;var e=y(this),n=pt(e.length),r=n-1;for(arguments.length>1&&(r=Gs(r,ht(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:js,Ws=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("lastIndexOf",(function(t){return Xs.apply(Ws(this),arguments)}));var Js=le.map,Ys=_A.aTypedArray,tu=_A.aTypedArrayConstructor;(0,_A.exportTypedArrayMethod)("map",(function(t){return Js(Ys(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(tu($i(t,t.constructor)))(e)}))}));var eu=function(t){return function(e,n,r,i){Ae(n);var o=Ht(e),a=d(o),A=pt(o.length),s=t?A-1:0,u=t?-1:1;if(r<2)for(;;){if(s in a){i=a[s],s+=u;break}if(s+=u,t?s<0:A<=s)throw TypeError("Reduce of empty array with no initial value")}for(;t?s>=0:A>s;s+=u)s in a&&(i=n(i,a[s],s,o));return i}},nu={left:eu(!1),right:eu(!0)},ru=nu.left,iu=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("reduce",(function(t){return ru(iu(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var ou=nu.right,au=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("reduceRight",(function(t){return ou(au(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Au=_A.aTypedArray,su=_A.exportTypedArrayMethod,uu=Math.floor;su("reverse",(function(){for(var t,e=this,n=Au(e).length,r=uu(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e}));var cu=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("set",(function(t){cu(this);var e=ls(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Ht(t),i=pt(r.length),o=0;if(i+e>n)throw RangeError("Wrong length");for(;o<i;)this[e+o]=r[o++]}),o((function(){new Int8Array(1).set({})})));var lu=_A.aTypedArray,hu=_A.aTypedArrayConstructor,fu=[].slice;(0,_A.exportTypedArrayMethod)("slice",(function(t,e){for(var n=fu.call(lu(this),t,e),r=$i(this,this.constructor),i=0,o=n.length,a=new(hu(r))(o);o>i;)a[i]=n[i++];return a}),o((function(){new Int8Array(1).slice()})));var pu=le.some,du=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("some",(function(t){return pu(du(this),t,arguments.length>1?arguments[1]:void 0)}));var gu=_A.aTypedArray,mu=[].sort;(0,_A.exportTypedArrayMethod)("sort",(function(t){return mu.call(gu(this),t)}));var yu=_A.aTypedArray;(0,_A.exportTypedArrayMethod)("subarray",(function(t,e){var n=yu(this),r=n.length,i=mt(t,r);return new($i(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,pt((void 0===e?r:mt(e,r))-i))}));var vu=i.Int8Array,_u=_A.aTypedArray,wu=_A.exportTypedArrayMethod,xu=[].toLocaleString,Bu=[].slice,bu=!!vu&&o((function(){xu.call(new vu(1))}));wu("toLocaleString",(function(){return xu.apply(bu?Bu.call(_u(this)):_u(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new vu([1,2]).toLocaleString()}))||!o((function(){vu.prototype.toLocaleString.call([1,2])})));var Cu=_A.exportTypedArrayMethod,Fu=i.Uint8Array,Uu=Fu&&Fu.prototype||{},Eu=[].toString,Qu=[].join;o((function(){Eu.call({})}))&&(Eu=function(){return Qu.call(this)});var Iu=Uu.toString!=Eu;Cu("toString",Eu,Iu);var ku=mi.getWeakData,Su=ot.set,Tu=ot.getterFor,Mu=le.find,Du=le.findIndex,Lu=0,Pu=function(t){return t.frozen||(t.frozen=new Hu)},Hu=function(){this.entries=[]},zu=function(t,e){return Mu(t.entries,(function(t){return t[0]===e}))};Hu.prototype={get:function(t){var e=zu(this,t);if(e)return e[1]},has:function(t){return!!zu(this,t)},set:function(t,e){var n=zu(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Du(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var $u={getConstructor:function(t,e,n,r){var i=t((function(t,o){_i(t,i,e),Su(t,{type:e,id:Lu++,frozen:void 0}),null!=o&&vi(o,t[r],{that:t,AS_ENTRIES:n})})),o=Tu(e),a=function(t,e,n){var r=o(t),i=ku(I(e),!0);return!0===i?Pu(r).set(e,n):i[r.id]=n,t};return Bi(i.prototype,{delete:function(t){var e=o(this);if(!v(t))return!1;var n=ku(t);return!0===n?Pu(e).delete(t):n&&x(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!v(t))return!1;var n=ku(t);return!0===n?Pu(e).has(t):n&&x(n,e.id)}}),Bi(i.prototype,n?{get:function(t){var e=o(this);if(v(t)){var n=ku(t);return!0===n?Pu(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}},Ru=(e((function(t){var e,n=ot.enforce,r=!i.ActiveXObject&&"ActiveXObject"in i,o=Object.isExtensible,a=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},A=t.exports=xi("WeakMap",a,$u);if(K&&r){e=$u.getConstructor(a,"WeakMap",!0),mi.REQUIRED=!0;var s=A.prototype,u=s.delete,c=s.has,l=s.get,h=s.set;Bi(s,{delete:function(t){if(v(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),u.call(this,t)||r.frozen.delete(t)}return u.call(this,t)},has:function(t){if(v(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)||r.frozen.has(t)}return c.call(this,t)},get:function(t){if(v(t)&&!o(t)){var r=n(this);return r.frozen||(r.frozen=new e),c.call(this,t)?l.call(this,t):r.frozen.get(t)}return l.call(this,t)},set:function(t,r){if(v(t)&&!o(t)){var i=n(this);i.frozen||(i.frozen=new e),c.call(this,t)?h.call(this,t,r):i.frozen.set(t,r)}else h.call(this,t,r);return this}})}})),Nt("iterator")),Ou=Nt("toStringTag"),Ku=ui.values;for(var Vu in rn){var Nu=i[Vu],Gu=Nu&&Nu.prototype;if(Gu){if(Gu[Ru]!==Ku)try{T(Gu,Ru,Ku)}catch(t){Gu[Ru]=Ku}if(Gu[Ou]||T(Gu,Ou,Vu),rn[Vu])for(var ju in ui)if(Gu[ju]!==ui[ju])try{T(Gu,ju,ui[ju])}catch(t){Gu[ju]=ui[ju]}}}function qu(t,e,n){return qu=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&hn(i,n.prototype),i},qu.apply(null,arguments)}function Zu(t){var e="function"==typeof Map?new Map:void 0;return Zu=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return qu(t,arguments,gn(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),hn(r,t)},Zu(t)}function Xu(t,e,n){return Xu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},Xu(t,e,n||t)}function Wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ju(t,e,n){return e&&Wu(t.prototype,e),n&&Wu(t,n),t}function Yu(){}var tc,ec=function(t){return t};function nc(t,e){for(var n in e)t[n]=e[n];return t}function rc(t){return t()}function ic(){return Object.create(null)}function oc(t){t.forEach(rc)}function ac(t){return"function"==typeof t}function Ac(t,e){return t!=t?e==e:t!==e||t&&"object"===pn(t)||"function"==typeof t}function sc(t,e){return tc||(tc=document.createElement("a")),tc.href=e,t===tc.href}function uc(t){if(null==t)return Yu;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=t.subscribe.apply(t,n);return i.unsubscribe?function(){return i.unsubscribe()}:i}function cc(t,e,n){t.$$.on_destroy.push(uc(e,n))}function lc(t,e,n,r){if(t){var i=hc(t,e,n,r);return t[0](i)}}function hc(t,e,n,r){return t[1]&&r?nc(n.ctx.slice(),t[1](r(e))):n.ctx}function fc(t,e,n,r){if(t[2]&&r){var i=t[2](r(n));if(void 0===e.dirty)return i;if("object"===pn(i)){for(var o=[],a=Math.max(e.dirty.length,i.length),A=0;A<a;A+=1)o[A]=e.dirty[A]|i[A];return o}return e.dirty|i}return e.dirty}function pc(t,e,n,r,i,o){if(i){var a=hc(e,n,r,o);t.p(a,i)}}function dc(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,r=0;r<n;r++)e[r]=-1;return e}return-1}function gc(t,e,n){return t.set(n),e}function mc(t){return t&&ac(t.destroy)?t.destroy:Yu}var yc="undefined"!=typeof window,vc=yc?function(){return window.performance.now()}:function(){return Date.now()},_c=yc?function(t){return requestAnimationFrame(t)}:Yu,wc=new Set;function xc(t){wc.forEach((function(e){e.c(t)||(wc.delete(e),e.f())})),0!==wc.size&&_c(xc)}var Bc,bc,Cc="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Fc(t,e){t.appendChild(e)}function Uc(t,e,n){var r=function(t){if(!t)return document;var e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!r.getElementById(e)){var i=kc("style");i.id=e,i.textContent=n,function(t,e){Fc(t.head||t,e),e.sheet}(r,i)}}function Ec(t,e,n){t.insertBefore(e,n||null)}function Qc(t){t.parentNode&&t.parentNode.removeChild(t)}function Ic(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function kc(t){return document.createElement(t)}function Sc(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Tc(t){return document.createTextNode(t)}function Mc(){return Tc(" ")}function Dc(){return Tc("")}function Lc(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function Pc(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Hc(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:Pc(t,e,n)}function zc(t,e){e=""+e,t.data!==e&&(t.data=e)}function $c(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Rc(t,e,n){for(var r=0;r<t.options.length;r+=1){var i=t.options[r];if(i.__value===e)return void(i.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function Oc(t){var e=t.querySelector(":checked");return e&&e.__value}function Kc(){if(void 0===Bc){Bc=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){Bc=!0}}return Bc}function Vc(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");var n=kc("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;var r,i=Kc();return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=Lc(window,"message",(function(t){t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=function(){r=Lc(n.contentWindow,"resize",e),e()}),Fc(t,n),function(){(i||r&&n.contentWindow)&&r(),Qc(n)}}function Nc(t,e,n){t.classList[n?"add":"remove"](e)}function Gc(t){bc=t}function jc(){if(!bc)throw new Error("Function called outside component initialization");return bc}function qc(t){jc().$$.on_mount.push(t)}function Zc(){var t=jc();return function(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).cancelable,i=void 0!==r&&r,o=t.$$.callbacks[e];if(o){var a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bubbles,i=void 0!==r&&r,o=n.cancelable,a=void 0!==o&&o,A=document.createEvent("CustomEvent");return A.initCustomEvent(t,i,a,e),A}(e,n,{cancelable:i});return o.slice().forEach((function(e){e.call(t,a)})),!a.defaultPrevented}return!0}}function Xc(t,e){return jc().$$.context.set(t,e),e}function Wc(t){return jc().$$.context.get(t)}function Jc(t,e){var n=this,r=t.$$.callbacks[e.type];r&&r.slice().forEach((function(t){return t.call(n,e)}))}var Yc=[],tl=[],el=[],nl=[],rl=Promise.resolve(),il=!1;function ol(t){el.push(t)}function al(t){nl.push(t)}var Al=new Set,sl=0;function ul(){if(0===sl){var t=bc;do{try{for(;sl<Yc.length;){var e=Yc[sl];sl++,Gc(e),cl(e.$$)}}catch(t){throw Yc.length=0,sl=0,t}for(Gc(null),Yc.length=0,sl=0;tl.length;)tl.pop()();for(var n=0;n<el.length;n+=1){var r=el[n];Al.has(r)||(Al.add(r),r())}el.length=0}while(Yc.length);for(;nl.length;)nl.pop()();il=!1,Al.clear(),Gc(t)}}function cl(t){if(null!==t.fragment){t.update(),oc(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ol)}}var ll,hl=new Set;function fl(){ll={r:0,c:[],p:ll}}function pl(){ll.r||oc(ll.c),ll=ll.p}function dl(t,e){t&&t.i&&(hl.delete(t),t.i(e))}function gl(t,e,n,r){if(t&&t.o){if(hl.has(t))return;hl.add(t),ll.c.push((function(){hl.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function ml(t,e,n){var r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function yl(t){t&&t.c()}function vl(t,e,n,r){var i=t.$$,o=i.fragment,a=i.after_update;o&&o.m(e,n),r||ol((function(){var e,n=t.$$.on_mount.map(rc).filter(ac);t.$$.on_destroy?(e=t.$$.on_destroy).push.apply(e,_n(n)):oc(n);t.$$.on_mount=[]})),a.forEach(ol)}function _l(t,e){var n,r,i,o=t.$$;null!==o.fragment&&(n=o.after_update,r=[],i=[],el.forEach((function(t){return-1===n.indexOf(t)?r.push(t):i.push(t)})),i.forEach((function(t){return t()})),el=r,oc(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function wl(t,e){-1===t.$$.dirty[0]&&(Yc.push(t),il||(il=!0,rl.then(ul)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xl(t,e,n,r,i,o,a){var A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],s=bc;Gc(t);var u=t.$$={fragment:null,ctx:[],props:o,update:Yu,not_equal:i,bound:ic(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:ic(),dirty:A,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);var c=!1;if(u.ctx=n?n(t,e.props||{},(function(e,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return u.ctx&&i(u.ctx[e],u.ctx[e]=r)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](r),c&&wl(t,e)),n})):[],u.update(),c=!0,oc(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){var l=function(t){return Array.from(t.childNodes)}(e.target);u.fragment&&u.fragment.l(l),l.forEach(Qc)}else u.fragment&&u.fragment.c();e.intro&&dl(t.$$.fragment),vl(t,e.target,e.anchor,e.customElement),ul()}Gc(s)}var Bl=function(){function t(){cn(this,t)}return Ju(t,[{key:"$destroy",value:function(){_l(this,1),this.$destroy=Yu}},{key:"$on",value:function(t,e){if(!ac(e))return Yu;var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}]),t}();Un("asyncIterator"),Un("toStringTag"),In(i.JSON,"JSON",!0),In(Math,"Math",!0);var bl=o((function(){Kr(1)}));Lt({target:"Object",stat:!0,forced:bl,sham:!$r},{getPrototypeOf:function(t){return Kr(Ht(t))}});var Cl="toString",Fl=RegExp.prototype,Ul=Fl[Cl],El=o((function(){return"/a/b"!=Ul.call({source:"a",flags:"b"})})),Ql=Ul.name!=Cl;(El||Ql)&&at(RegExp.prototype,Cl,(function(){var t=I(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in Fl)?ra.call(t):n)}),{unsafe:!0});var Il=e((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",A=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var A=C(a,n);if(A){if(A===d)continue;return A}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=c(t,e,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",d={};function g(){}function m(){}function y(){}var v={};v[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(Q([])));w&&w!==n&&r.call(w,o)&&(v=w);var x=y.prototype=g.prototype=Object.create(v);function B(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,A){var s=c(t[i],t,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===pn(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,A)}),(function(t){n("throw",t,a,A)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,A)}))}A(s.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,d;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function U(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function Q(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:I}}function I(){return{value:e,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,m.displayName=s(y,A,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,A,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},B(b.prototype),b.prototype[a]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},B(x),s(x,A,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=Q,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(U),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return A.type="throw",A.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],A=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),U(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;U(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:Q(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),kl=Il;function Sl(t,e,n,r,i,o,a){try{var A=t[o](a),s=A.value}catch(t){return void n(t)}A.done?e(s):Promise.resolve(s).then(r,i)}function Tl(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Sl(o,r,i,a,A,"next",t)}function A(t){Sl(o,r,i,a,A,"throw",t)}a(void 0)}))}}var Ml=S.f,Dl=bt.f,Ll=ot.set,Pl=Nt("match"),Hl=i.RegExp,zl=Hl.prototype,$l=/a/g,Rl=/a/g,Ol=new Hl($l)!==$l,Kl=Aa.UNSUPPORTED_Y;if(a&&Mt("RegExp",!Ol||Kl||o((function(){return Rl[Pl]=!1,Hl($l)!=$l||Hl(Rl)==Rl||"/a/i"!=Hl($l,"i")})))){for(var Vl=function(t,e){var n,r=this instanceof Vl,i=Sa(t),o=void 0===e;if(!r&&i&&t.constructor===Vl&&o)return t;Ol?i&&!o&&(t=t.source):t instanceof Vl&&(o&&(e=ra.call(t)),t=t.source),Kl&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a=wi(Ol?new Hl(t,e):Hl(t,e),r?this:zl,Vl);return Kl&&n&&Ll(a,{sticky:n}),a},Nl=function(t){t in Vl||Ml(Vl,t,{configurable:!0,get:function(){return Hl[t]},set:function(e){Hl[t]=e}})},Gl=Dl(Hl),jl=0;Gl.length>jl;)Nl(Gl[jl++]);zl.constructor=Vl,Vl.prototype=zl,at(i,"RegExp",Vl)}Ci("RegExp");var ql=Math.floor,Zl="".replace,Xl=/\$([$&'`]|\d\d?|<[^>]*>)/g,Wl=/\$([$&'`]|\d\d?)/g,Jl=function(t,e,n,r,i,o){var a=n+t.length,A=r.length,s=Wl;return void 0!==i&&(i=Ht(i),s=Xl),Zl.call(o,s,(function(o,s){var u;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":u=i[s.slice(1,-1)];break;default:var c=+s;if(0===c)return o;if(c>A){var l=ql(c/10);return 0===l?o:l<=A?void 0===r[l-1]?s.charAt(1):r[l-1]+s.charAt(1):o}u=r[c-1]}return void 0===u?"":u}))},Yl=Math.max,th=Math.min;Ua("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=m(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var A=n(e,t,this,r);if(A.done)return A.value}var s=I(t),u=String(this),c="function"==typeof r;c||(r=String(r));var l=s.global;if(l){var h=s.unicode;s.lastIndex=0}for(var f=[];;){var p=Ia(s,u);if(null===p)break;if(f.push(p),!l)break;""===String(p[0])&&(s.lastIndex=Qa(u,pt(s.lastIndex),h))}for(var d,g="",m=0,y=0;y<f.length;y++){p=f[y];for(var v=String(p[0]),_=Yl(th(ht(p.index),u.length),0),w=[],x=1;x<p.length;x++)w.push(void 0===(d=p[x])?d:String(d));var B=p.groups;if(c){var b=[v].concat(w,_,u);void 0!==B&&b.push(B);var C=String(r.apply(void 0,b))}else C=Jl(v,u,_,w,B,r);_>=m&&(g+=u.slice(m,_)+C,m=_+v.length)}return g+u.slice(m)}]}));var eh={},nh={};function rh(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ih(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function oh(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function ah(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+oh(-e,6):e>9999?"+"+oh(e,6):oh(e,4))+"-"+oh(t.getUTCMonth()+1,2)+"-"+oh(t.getUTCDate(),2)+(o?"T"+oh(n,2)+":"+oh(r,2)+":"+oh(i,2)+"."+oh(o,3)+"Z":i?"T"+oh(n,2)+":"+oh(r,2)+":"+oh(i,2)+"Z":r||n?"T"+oh(n,2)+":"+oh(r,2)+"Z":"")}var Ah=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,A=0,s=o<=0,u=!1;function c(){if(s)return nh;if(u)return u=!1,eh;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?u=!0:13===r&&(u=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))u=!0;else if(13===r)u=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==nh;){for(var l=[];r!==eh&&r!==nh;)l.push(r),r=c();e&&null==(l=e(l,A++))||i.push(l)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?ah(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=rh(t);return function(r,i){return e(n(r),i,t)}}(t,e):rh(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=ih(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ih(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),sh=Ah.parse;function uh(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ch&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var ch=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function lh(t){return t}function hh(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return fh(t,e)}))}:fh(t,e)}function fh(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=function(t,e){var n=function(t){if(null==t)return lh;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,A){A||(e=n=0);var s=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+a;s<u;)c[s]=t[s],++s;return c}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function A(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(A)}function u(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(u)};case"Point":e=o(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(o);break;case"LineString":e=a(t.arcs);break;case"MultiLineString":e=t.arcs.map(a);break;case"Polygon":e=s(t.arcs);break;case"MultiPolygon":e=t.arcs.map(s);break;default:return null}return{type:n,coordinates:e}}return u(e)}(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function ph(){return ph=Tl(kl.mark((function t(e){var n,r,i;return kl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.text();case 5:return r=t.sent,t.next=8,sh(r,uh);case 8:return i=t.sent,t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)}))),ph.apply(this,arguments)}function dh(){return(dh=Tl(kl.mark((function t(e,n){var r,i,o;return kl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.json();case 5:return i=t.sent,t.next=8,hh(i,n);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var gh={light:{text:"#222",muted:"#777",pale:"#f0f0f0",background:"#fff"},dark:{text:"#fff",muted:"#bbb",pale:"#333",background:"#222"},lightblue:{text:"#206095",muted:"#707070",pale:"#f0f0f0",background:"rgb(188, 207, 222)"}},mh={seq:["rgb(234, 236, 177)","rgb(169, 216, 145)","rgb(0, 167, 186)","rgb(0, 78, 166)","rgb(0, 13, 84)"],cat:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]},yh={density:"sq.km",age_med:"years"};function vh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,A=t[Symbol.iterator]();!(r=(a=A.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==A.return||A.return()}finally{if(i)throw o}}return n}}(t,e)||vn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function wh(t){Uc(t,"svelte-1ly5odw","nav.svelte-1ly5odw.svelte-1ly5odw{-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;height:46px;margin-bottom:-46px;border-bottom:1px solid #777;z-index:1}picture.svelte-1ly5odw.svelte-1ly5odw{position:relative;top:-3px;padding:0 5px}img.svelte-1ly5odw.svelte-1ly5odw{width:270px}a.svelte-1ly5odw img.svelte-1ly5odw:hover{cursor:pointer}")}function xh(t){var e;return{c:function(){sc((e=kc("img")).src,"./img/ons-logo-black-en.svg")||Pc(e,"src","./img/ons-logo-black-en.svg"),Pc(e,"alt","Office for National Statistics"),Pc(e,"class","svelte-1ly5odw")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function Bh(t){var e;return{c:function(){sc((e=kc("img")).src,"./img/ons-logo-pos-en.svg")||Pc(e,"src","./img/ons-logo-pos-en.svg"),Pc(e,"alt","Office for National Statistics"),Pc(e,"class","svelte-1ly5odw")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function bh(t){var e;return{c:function(){sc((e=kc("img")).src,"./img/ons-logo-neg-en.svg")||Pc(e,"src","./img/ons-logo-neg-en.svg"),Pc(e,"alt","Office for National Statistics"),Pc(e,"class","svelte-1ly5odw")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function Ch(t){var e,n,r,i,o;function a(t,e){return"dark"==t[0]?bh:1==t[1]?Bh:xh}var A=a(t),s=A(t);return{c:function(){e=kc("nav"),n=kc("div"),r=kc("a"),i=kc("picture"),s.c(),Pc(i,"class","svelte-1ly5odw"),Pc(r,"href","https://www.ons.gov.uk/"),Pc(r,"class","svelte-1ly5odw"),Pc(n,"class","col-wide middle"),Nc(n,"center",t[2]),Pc(e,"style",o="border-bottom-color: "+gh[t[0]].muted+"; "+(t[1]?"background-color: "+gh[t[0]].background+";":"")),Pc(e,"class","svelte-1ly5odw")},m:function(t,o){Ec(t,e,o),Fc(e,n),Fc(n,r),Fc(r,i),s.m(i,null)},p:function(t,r){var u=vh(r,1)[0];A!==(A=a(t))&&(s.d(1),(s=A(t))&&(s.c(),s.m(i,null))),4&u&&Nc(n,"center",t[2]),3&u&&o!==(o="border-bottom-color: "+gh[t[0]].muted+"; "+(t[1]?"background-color: "+gh[t[0]].background+";":""))&&Pc(e,"style",o)},i:Yu,o:Yu,d:function(t){t&&Qc(e),s.d()}}}function Fh(t,e,n){var r=e.theme,i=void 0===r?Wc("theme"):r,o=e.filled,a=void 0!==o&&o,A=e.center,s=void 0===A||A;return t.$$set=function(t){"theme"in t&&n(0,i=t.theme),"filled"in t&&n(1,a=t.filled),"center"in t&&n(2,s=t.center)},[i,a,s]}var Uh=function(t){fn(n,t);var e=_h(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Fh,Ch,Ac,{theme:0,filled:1,center:2},wh),r}return n}(Bl);function Eh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Qh(t){Uc(t,"svelte-137hs7y","footer.svelte-137hs7y.svelte-137hs7y{padding-bottom:72px;padding-top:36px;font-size:18px}footer.svelte-137hs7y a.link.svelte-137hs7y{-webkit-box-sizing:border-box;box-sizing:border-box;text-decoration:underline;display:inline-block}footer.svelte-137hs7y a.link.svelte-137hs7y:hover{text-decoration:none}footer.svelte-137hs7y a.link.svelte-137hs7y:active{outline:3px solid transparent;background-color:#fd0;-webkit-box-shadow:0 -2px #fd0, 0 4px #222;box-shadow:0 -2px #fd0, 0 4px #222;color:#222;text-decoration:none}footer.svelte-137hs7y hr.svelte-137hs7y{margin-bottom:27px;margin-top:36px;border:none;border-top:1px solid #777}ul.svelte-137hs7y.svelte-137hs7y{padding:0;margin:0}li.svelte-137hs7y.svelte-137hs7y{margin-right:18px;display:inline-block}.logo-img.svelte-137hs7y.svelte-137hs7y{margin-bottom:27px}.ogl-img.svelte-137hs7y.svelte-137hs7y{margin:0 0.5rem 0.2rem 0;width:59px;height:24px;vertical-align:middle}.license.svelte-137hs7y.svelte-137hs7y{vertical-align:top}a.svelte-137hs7y img.svelte-137hs7y:hover{cursor:pointer}")}function Ih(t){var e;return{c:function(){Pc(e=kc("img"),"class","logo-img svelte-137hs7y"),sc(e.src,"./img/ons-logo-black-en.svg")||Pc(e,"src","./img/ons-logo-black-en.svg"),Pc(e,"alt","Office for National Statistics")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function kh(t){var e;return{c:function(){Pc(e=kc("img"),"class","logo-img svelte-137hs7y"),sc(e.src,"./img/ons-logo-neg-en.svg")||Pc(e,"src","./img/ons-logo-neg-en.svg"),Pc(e,"alt","Office for National Statistics")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function Sh(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C;function F(t,e){return"dark"==t[0]?kh:Ih}var U=F(t),E=U(t);return{c:function(){e=kc("footer"),n=kc("div"),r=kc("a"),E.c(),i=Mc(),o=kc("ul"),a=kc("li"),A=kc("a"),s=Tc("Contact us"),u=Mc(),c=kc("li"),l=kc("a"),h=Tc("Cookies and privacy"),f=Mc(),p=kc("hr"),d=Mc(),g=kc("div"),m=Sc("svg"),y=Sc("title"),v=Tc("UK Open Government Licence"),_=Sc("path"),x=Tc("\n\t\t\tAll content is available under the\n\t\t\t"),B=kc("a"),b=Tc("Open Government Licence v3.0"),C=Tc(", \n\t\t\texcept where otherwise stated"),Pc(r,"href","https://www.ons.gov.uk/"),Pc(r,"class","svelte-137hs7y"),Pc(A,"href","https://www.ons.gov.uk/aboutus/contactus"),Pc(A,"class","link svelte-137hs7y"),$c(A,"color",gh[t[0]].text),Pc(a,"class","svelte-137hs7y"),Pc(l,"href","https://www.ons.gov.uk/help/privacynotice"),Pc(l,"class","link svelte-137hs7y"),$c(l,"color",gh[t[0]].text),Pc(c,"class","svelte-137hs7y"),Pc(o,"class","svelte-137hs7y"),$c(p,"border-top-color",gh[t[0]].muted),Pc(p,"class","svelte-137hs7y"),Pc(_,"fill",w=gh[t[0]].muted),Pc(_,"d","M59,17.5v6.2H45.3V4l6.2-3.9v17.4H59z M33.6,13h9.8v10.7H43L40.6,21c-2.1,1.8-4.9,3-7.9,3 c-4.4,0-8.3-2.4-10.4-6.1c-2.1,3.6-5.9,6.1-10.4,6.1C5.4,23.9,0,18.6,0,12C0,5.4,5.4,0.1,11.9,0.1c4.5,0,8.4,2.5,10.4,6.1 c2.1-3.6,5.9-6.1,10.4-6.1c4.2,0,7.9,2.2,10.1,5.5l-5.2,3.3c-1-1.6-2.8-2.7-4.8-2.7C29.6,6.2,27,8.8,27,12s2.6,5.8,5.8,5.8 c1.5,0,2.8-0.5,3.8-1.4L33.6,13z M17.7,12c0-3.2-2.6-5.7-5.8-5.7S6.2,8.8,6.2,12s2.6,5.8,5.8,5.8S17.7,15.2,17.7,12z"),Pc(m,"class","ogl-img svelte-137hs7y"),Pc(m,"viewBox","0 0 59 24"),Pc(m,"xmlns","http://www.w3.org/2000/svg"),Pc(B,"href","https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"),Pc(B,"class","link svelte-137hs7y"),Pc(B,"target","_blank"),Pc(B,"rel","noopener"),$c(B,"color",gh[t[0]].text),Pc(g,"class","license svelte-137hs7y"),Pc(n,"class","col-wide"),Pc(n,"data-analytics","footer"),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].pale),Pc(e,"class","svelte-137hs7y")},m:function(t,w){Ec(t,e,w),Fc(e,n),Fc(n,r),E.m(r,null),Fc(n,i),Fc(n,o),Fc(o,a),Fc(a,A),Fc(A,s),Fc(o,u),Fc(o,c),Fc(c,l),Fc(l,h),Fc(n,f),Fc(n,p),Fc(n,d),Fc(n,g),Fc(g,m),Fc(m,y),Fc(y,v),Fc(m,_),Fc(g,x),Fc(g,B),Fc(B,b),Fc(g,C)},p:function(t,n){var i=vh(n,1)[0];U!==(U=F(t))&&(E.d(1),(E=U(t))&&(E.c(),E.m(r,null))),1&i&&$c(A,"color",gh[t[0]].text),1&i&&$c(l,"color",gh[t[0]].text),1&i&&$c(p,"border-top-color",gh[t[0]].muted),1&i&&w!==(w=gh[t[0]].muted)&&Pc(_,"fill",w),1&i&&$c(B,"color",gh[t[0]].text),1&i&&$c(e,"color",gh[t[0]].text),1&i&&$c(e,"background-color",gh[t[0]].pale)},i:Yu,o:Yu,d:function(t){t&&Qc(e),E.d()}}}function Th(t,e,n){var r=e.theme,i=void 0===r?Wc("theme"):r;return t.$$set=function(t){"theme"in t&&n(0,i=t.theme)},[i]}var Mh=function(t){fn(n,t);var e=Eh(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Th,Sh,Ac,{theme:0},Qh),r}return n}(Bl);function Dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Lh(t){Uc(t,"svelte-19u0sv3",".short.svelte-19u0sv3{min-height:85vh}.v-padded.svelte-19u0sv3{box-sizing:border-box;padding:40px 0}")}function Ph(t){var e,n,r,i,o,a=t[8].default,A=lc(a,t,t[7],null);return{c:function(){e=kc("header"),n=kc("div"),r=kc("div"),A&&A.c(),Nc(r,"center",t[2]),Pc(n,"class","v-padded col-wide middle svelte-19u0sv3"),$c(n,"position","relative"),Nc(n,"short",t[3]),Nc(n,"height-full",!t[3]),Pc(e,"style",i="color: "+gh[t[0]].text+"; background-color: "+(t[1]?t[1]:gh[t[0]].background)+"; "+t[4]),Pc(e,"class","svelte-19u0sv3"),Nc(e,"short",t[3])},m:function(t,i){Ec(t,e,i),Fc(e,n),Fc(n,r),A&&A.m(r,null),o=!0},p:function(t,s){var u=vh(s,1)[0];A&&A.p&&(!o||128&u)&&pc(A,a,t,t[7],o?fc(a,t[7],u,null):dc(t[7]),null),(!o||4&u)&&Nc(r,"center",t[2]),(!o||8&u)&&Nc(n,"short",t[3]),(!o||8&u)&&Nc(n,"height-full",!t[3]),(!o||19&u&&i!==(i="color: "+gh[t[0]].text+"; background-color: "+(t[1]?t[1]:gh[t[0]].background)+"; "+t[4]))&&Pc(e,"style",i),(!o||8&u)&&Nc(e,"short",t[3])},i:function(t){o||(dl(A,t),o=!0)},o:function(t){gl(A,t),o=!1},d:function(t){t&&Qc(e),A&&A.d(t)}}}function Hh(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.theme,A=void 0===a?Wc("theme"):a,s=e.bgimage,u=void 0===s?null:s,c=e.bgcolor,l=void 0===c?null:c,h=e.bgfixed,f=void 0!==h&&h,p=e.center,d=void 0===p||p,g=e.short,m=void 0!==g&&g,y="";return y+=u?"background-image: url(".concat(u,");"):"background-image: none;",f&&(y+=" background-attachment: fixed;"),t.$$set=function(t){"theme"in t&&n(0,A=t.theme),"bgimage"in t&&n(5,u=t.bgimage),"bgcolor"in t&&n(1,l=t.bgcolor),"bgfixed"in t&&n(6,f=t.bgfixed),"center"in t&&n(2,d=t.center),"short"in t&&n(3,m=t.short),"$$scope"in t&&n(7,o=t.$$scope)},[A,l,d,m,y,u,f,o,i]}var zh=function(t){fn(n,t);var e=Dh(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Hh,Ph,Ac,{theme:0,bgimage:5,bgcolor:1,bgfixed:6,center:2,short:3},Lh),r}return n}(Bl);function $h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Rh(t){var e,n,r,i=t[2].default,o=lc(i,t,t[1],null);return{c:function(){e=kc("section"),n=kc("div"),o&&o.c(),Pc(n,"class","col-medium"),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].background)},m:function(t,i){Ec(t,e,i),Fc(e,n),o&&o.m(n,null),r=!0},p:function(t,n){var a=vh(n,1)[0];o&&o.p&&(!r||2&a)&&pc(o,i,t,t[1],r?fc(i,t[1],a,null):dc(t[1]),null),(!r||1&a)&&$c(e,"color",gh[t[0]].text),(!r||1&a)&&$c(e,"background-color",gh[t[0]].background)},i:function(t){r||(dl(o,t),r=!0)},o:function(t){gl(o,t),r=!1},d:function(t){t&&Qc(e),o&&o.d(t)}}}function Oh(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.theme,A=void 0===a?Wc("theme"):a;return t.$$set=function(t){"theme"in t&&n(0,A=t.theme),"$$scope"in t&&n(1,o=t.$$scope)},[A,o,i]}var Kh=function(t){fn(n,t);var e=$h(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Oh,Rh,Ac,{theme:0}),r}return n}(Bl),Vh=bt.f,Nh=Q.f,Gh=S.f,jh=Wa.trim,qh="Number",Zh=i[qh],Xh=Zh.prototype,Wh=f(be(Xh))==qh,Jh=function(t){var e,n,r,i,o,a,A,s,u=_(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=jh(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,A=0;A<a;A++)if((s=o.charCodeAt(A))<48||s>i)return NaN;return parseInt(o,r)}return+u};if(Mt(qh,!Zh(" 0o1")||!Zh("0b1")||Zh("+0x1"))){for(var Yh,tf=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof tf&&(Wh?o((function(){Xh.valueOf.call(n)})):f(n)!=qh)?wi(new Zh(Jh(e)),n,tf):Jh(e)},ef=a?Vh(Zh):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),nf=0;ef.length>nf;nf++)x(Zh,Yh=ef[nf])&&!x(tf,Yh)&&Gh(tf,Yh,Nh(Zh,Yh));tf.prototype=Xh,Xh.constructor=tf,at(i,qh,tf)}function rf(t,e,n){var r,i,o,a,A;function s(){var u=Date.now()-a;u<e&&u>=0?r=setTimeout(s,e-u):(r=null,n||(A=t.apply(o,i),o=i=null))}null==e&&(e=100);var u=function(){o=this,i=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(s,e)),u&&(A=t.apply(o,i),o=i=null),A};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(A=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}Lt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),rf.debounce=rf;var of=rf;function af(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Af(t){Uc(t,"svelte-15qq8ff",".grid-ms.svelte-15qq8ff{display:grid;display:-ms-grid;-ms-grid-columns:1fr;grid-template-columns:1fr;margin-top:40px}.grid.svelte-15qq8ff{display:-ms-grid;display:grid;grid-template-columns:repeat(auto-fill, 100%);margin:40px 0 0 0}.grid-narrow.svelte-15qq8ff{grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)) !important}.grid-medium.svelte-15qq8ff{grid-template-columns:repeat(auto-fill, minmax(300px, 1fr)) !important}.grid-wide.svelte-15qq8ff{grid-template-columns:repeat(auto-fill, minmax(500px, 1fr)) !important}.grid > div{min-height:inherit}")}function sf(t){var e,n,r,i,o,a=t[13].default,A=lc(a,t,t[12],null);return{c:function(){e=kc("figure"),n=kc("div"),r=kc("div"),A&&A.c(),Pc(r,"class","grid"+t[5]+" svelte-15qq8ff"),$c(r,"grid-gap",t[8]),$c(r,"min-height",t[7]),Pc(n,"class",i="col-"+t[1]+" svelte-15qq8ff"),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].background)},m:function(t,i){Ec(t,e,i),Fc(e,n),Fc(n,r),A&&A.m(r,null),o=!0},p:function(t,r){A&&A.p&&(!o||4096&r)&&pc(A,a,t,t[12],o?fc(a,t[12],r,null):dc(t[12]),null),(!o||2&r&&i!==(i="col-"+t[1]+" svelte-15qq8ff"))&&Pc(n,"class",i),(!o||1&r)&&$c(e,"color",gh[t[0]].text),(!o||1&r)&&$c(e,"background-color",gh[t[0]].background)},i:function(t){o||(dl(A,t),o=!0)},o:function(t){gl(A,t),o=!1},d:function(t){t&&Qc(e),A&&A.d(t)}}}function uf(t){var e,n,r,i,o,a,A=t[13].default,s=lc(A,t,t[12],null);return{c:function(){e=kc("figure"),n=kc("div"),r=kc("div"),s&&s.c(),Pc(r,"class","grid-ms svelte-15qq8ff"),ol((function(){return t[15].call(r)})),Pc(n,"class",o="col-"+t[1]+" svelte-15qq8ff"),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].background)},m:function(o,A){Ec(o,e,A),Fc(e,n),Fc(n,r),s&&s.m(r,null),t[14](r),i=Vc(r,t[15].bind(r)),a=!0},p:function(t,r){s&&s.p&&(!a||4096&r)&&pc(s,A,t,t[12],a?fc(A,t[12],r,null):dc(t[12]),null),(!a||2&r&&o!==(o="col-"+t[1]+" svelte-15qq8ff"))&&Pc(n,"class",o),(!a||1&r)&&$c(e,"color",gh[t[0]].text),(!a||1&r)&&$c(e,"background-color",gh[t[0]].background)},i:function(t){a||(dl(s,t),a=!0)},o:function(t){gl(s,t),a=!1},d:function(n){n&&Qc(e),s&&s.d(n),t[14](null),i()}}}function cf(t){var e,n,r;return{c:function(){e=kc("caption"),n=kc("div"),Pc(r=kc("div"),"class","caption"),Pc(n,"class","col-medium"),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].background)},m:function(i,o){Ec(i,e,o),Fc(e,n),Fc(n,r),r.innerHTML=t[2]},p:function(t,n){4&n&&(r.innerHTML=t[2]),1&n&&$c(e,"color",gh[t[0]].text),1&n&&$c(e,"background-color",gh[t[0]].background)},d:function(t){t&&Qc(e)}}}function lf(t){var e,n,r,i,o,a=[uf,sf],A=[];e=function(t,e){return t[6]?0:1}(t),n=A[e]=a[e](t);var s=t[2]&&cf(t);return{c:function(){n.c(),r=Mc(),s&&s.c(),i=Dc()},m:function(t,n){A[e].m(t,n),Ec(t,r,n),s&&s.m(t,n),Ec(t,i,n),o=!0},p:function(t,e){var r=vh(e,1)[0];n.p(t,r),t[2]?s?s.p(t,r):((s=cf(t)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i:function(t){o||(dl(n),o=!0)},o:function(t){gl(n),o=!1},d:function(t){A[e].d(t),t&&Qc(r),s&&s.d(t),t&&Qc(i)}}}function hf(t,e,n){var r,i,o,a,A,s=e.$$slots,u=void 0===s?{}:s,c=e.$$scope,l={narrow:200,medium:300,wide:500},h=e.theme,f=void 0===h?Wc("theme"):h,p=e.col,d=void 0===p?"medium":p,g=e.grid,m=void 0===g?null:g,y=e.caption,v=void 0===y?null:y,_=e.height,w=void 0===_?200:_,x=e.gap,B=void 0===x?12:x,b=m?" grid-".concat(m):"",C=!("grid-gap"in document.body.style),F=Number.isNaN(w)?w:w+"px",U=Number.isNaN(B)?B:B+"px",E=m&&l[m]?l[m]:null;C&&qc((function(){I()}));var Q=of.debounce(I,200);function I(){if(o&&!a){var t=[];o.childNodes.forEach((function(e){"DIV"==e.nodeName&&t.push(e)})),a=t}A=a.length,i=!E||r<=E?1:Math.floor(r/E),function(){var t=Math.ceil(A/i)>1?"-ms-grid-rows: 1fr (".concat(B,"px 1fr)[").concat(Math.ceil(A/i)-1,"]; grid-template-rows: 1fr repeat(").concat(Math.ceil(A/i)-1,", ").concat(B,"px 1fr);"):"-ms-grid-rows: 1fr; grid-template-rows: 1fr;",e=i>1?"-ms-grid-columns: 1fr (".concat(B,"px 1fr)[").concat(i-1,"]; grid-template-columns: 1fr repeat(").concat(i-1,", ").concat(B,"px 1fr);"):"";n(4,o.style.cssText=t+e,o),a.forEach((function(t,e){var n=e%i*2+1,r=2*Math.floor(e/i)+1;t.style.cssText="-ms-grid-column: ".concat(n,"; -ms-grid-row: ").concat(r,"; grid-column: ").concat(n,"; grid-row: ").concat(r,"; min-height: ").concat(F,";")}))}()}return t.$$set=function(t){"theme"in t&&n(0,f=t.theme),"col"in t&&n(1,d=t.col),"grid"in t&&n(9,m=t.grid),"caption"in t&&n(2,v=t.caption),"height"in t&&n(10,w=t.height),"gap"in t&&n(11,B=t.gap),"$$scope"in t&&n(12,c=t.$$scope)},t.$$.update=function(){8&t.$$.dirty&&C&&(E||r)&&Q()},[f,d,v,r,o,b,C,F,U,m,w,B,c,u,function(t){tl[t?"unshift":"push"]((function(){n(4,o=t)}))},function(){r=this.clientWidth,n(3,r)}]}var ff=function(t){fn(n,t);var e=af(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,hf,lf,Ac,{theme:0,col:1,grid:9,caption:2,height:10,gap:11},Af),r}return n}(Bl);function pf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}var df=Cc.window;function gf(t){Uc(t,"svelte-3stote","svelte-scroller-outer.svelte-3stote{display:block;position:relative;max-width:100%}svelte-scroller-background.svelte-3stote{display:block;position:relative;width:100%}svelte-scroller-foreground.svelte-3stote{display:block;position:relative;z-index:2}svelte-scroller-foreground.svelte-3stote::after{content:' ';display:block;clear:both}svelte-scroller-background-container.svelte-3stote{display:block;position:absolute;width:100%;max-width:100%;pointer-events:none;will-change:transform}")}var mf=function(t){return{}},yf=function(t){return{}},vf=function(t){return{}},_f=function(t){return{}};function wf(t){var e,n,r,i,o,a,A,s;ol(t[19]);var u=t[18].background,c=lc(u,t,t[17],_f),l=t[18].foreground,h=lc(l,t,t[17],yf);return{c:function(){e=kc("svelte-scroller-outer"),n=kc("svelte-scroller-background-container"),r=kc("svelte-scroller-background"),c&&c.c(),i=Mc(),o=kc("svelte-scroller-foreground"),h&&h.c(),Hc(r,"class","svelte-3stote"),Hc(n,"class","background-container svelte-3stote"),Hc(o,"class","svelte-3stote"),Hc(e,"class","svelte-3stote"),Nc(e,"splitscreen",t[0])},m:function(u,l){Ec(u,e,l),Fc(e,n),Fc(n,r),c&&c.m(r,null),t[20](r),t[21](n),Fc(e,i),Fc(e,o),h&&h.m(o,null),t[22](o),t[23](e),a=!0,A||(s=Lc(df,"resize",t[19]),A=!0)},p:function(t,n){c&&c.p&&(!a||131072&n[0])&&pc(c,u,t,t[17],a?fc(u,t[17],n,vf):dc(t[17]),_f),h&&h.p&&(!a||131072&n[0])&&pc(h,l,t,t[17],a?fc(l,t[17],n,mf):dc(t[17]),yf),(!a||1&n[0])&&Nc(e,"splitscreen",t[0])},i:function(t){a||(dl(c,t),dl(h,t),a=!0)},o:function(t){gl(c,t),gl(h,t),a=!1},d:function(n){n&&Qc(e),c&&c.d(n),t[20](null),t[21](null),h&&h.d(n),t[22](null),t[23](null),A=!1,s()}}}var xf,Bf=[];if("undefined"!=typeof window){var bf=function(){return Bf.forEach((function(t){return t()}))};window.addEventListener("scroll",bf),window.addEventListener("resize",bf)}if("undefined"!=typeof IntersectionObserver){var Cf=new Map,Ff=new IntersectionObserver((function(t,e){t.forEach((function(t){var e=Cf.get(t.target),n=Bf.indexOf(e);t.isIntersecting?-1===n&&Bf.push(e):(e(),-1!==n&&Bf.splice(n,1))}))}),{rootMargin:"400px 0px"});xf={add:function(t){var e=t.outer,n=t.update,r=e.getBoundingClientRect(),i=r.top,o=r.bottom;i<window.innerHeight&&o>0&&Bf.push(n),Cf.set(e,n),Ff.observe(e)},remove:function(t){var e=t.outer,n=t.update,r=Bf.indexOf(n);-1!==r&&Bf.splice(r,1),Cf.delete(e),Ff.unobserve(e)}}}else xf={add:function(t){var e=t.update;Bf.push(e)},remove:function(t){var e=t.update,n=Bf.indexOf(e);-1!==n&&Bf.splice(n,1)}};function Uf(t,e,n){var r,i,o,a,A,s,u,c,l,h,f=e.$$slots,p=void 0===f?{}:f,d=e.$$scope,g=e.top,m=void 0===g?0:g,y=e.bottom,v=void 0===y?1:y,_=e.threshold,w=void 0===_?.5:_,x=e.query,B=void 0===x?"section":x,b=e.parallax,C=void 0!==b&&b,F=e.index,U=void 0===F?0:F,E=e.count,Q=void 0===E?0:E,I=e.offset,k=void 0===I?0:I,S=e.progress,T=void 0===S?0:S,M=e.visible,D=void 0!==M&&M,L=e.splitscreen,P=void 0!==L&&L,H=e.id,z=void 0===H?null:H,$=0,R=1;function O(){if(A){var t="position: ".concat(l?"fixed":"absolute","; top: 0; transform: translate(0, ").concat(h,"px); width: ").concat(R,"px; z-index: ").concat(1,";");n(3,A.style.cssText=t,A)}}function K(){if(s){var t=a.getBoundingClientRect();t.left,R=t.right-t.left;var e=s.getBoundingClientRect(),A=u.getBoundingClientRect();n(10,D=e.top<$&&e.bottom>0);var f=e.bottom-e.top,p=A.bottom-A.top,d=i-r;for(n(9,T=(r-e.top)/(f-d)),T<=0?(h=0,l&&(l=!1,O())):T>=1?(h=C?f-p:f-d,l&&(l=!1,O())):(h=C?Math.round(r-T*(p-d)):r,l||(l=!0,O())),n(6,U=0);U<c.length;n(6,U+=1)){var g=c[U],m=g.getBoundingClientRect().top,y=c[U+1],v=y?y.getBoundingClientRect().top:e.bottom;if(n(8,k=(o-m)/(v-m)),n(11,z=g.dataset.id?g.dataset.id:null),v>=o)break}}}return qc((function(){c=s.querySelectorAll(B),n(7,Q=c.length),K();var t={outer:a,update:K};return xf.add(t),function(){return xf.remove(t)}})),t.$$set=function(t){"top"in t&&n(12,m=t.top),"bottom"in t&&n(13,v=t.bottom),"threshold"in t&&n(14,w=t.threshold),"query"in t&&n(15,B=t.query),"parallax"in t&&n(16,C=t.parallax),"index"in t&&n(6,U=t.index),"count"in t&&n(7,Q=t.count),"offset"in t&&n(8,k=t.offset),"progress"in t&&n(9,T=t.progress),"visible"in t&&n(10,D=t.visible),"splitscreen"in t&&n(0,P=t.splitscreen),"id"in t&&n(11,z=t.id),"$$scope"in t&&n(17,d=t.$$scope)},t.$$.update=function(){4098&t.$$.dirty[0]&&(r=Math.round(m*$)),8194&t.$$.dirty[0]&&(i=Math.round(v*$)),16386&t.$$.dirty[0]&&(o=Math.round(w*$)),94208&t.$$.dirty[0]&&K()},[P,$,a,A,s,u,U,Q,k,T,D,z,m,v,w,B,C,d,p,function(){n(1,$=df.innerHeight)},function(t){tl[t?"unshift":"push"]((function(){n(5,u=t)}))},function(t){tl[t?"unshift":"push"]((function(){n(3,A=t)}))},function(t){tl[t?"unshift":"push"]((function(){n(4,s=t)}))},function(t){tl[t?"unshift":"push"]((function(){n(2,a=t)}))}]}var Ef=function(t){fn(n,t);var e=pf(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Uf,wf,Ac,{top:12,bottom:13,threshold:14,query:15,parallax:16,index:6,count:7,offset:8,progress:9,visible:10,splitscreen:0,id:11},gf,[-1,-1]),r}return n}(Bl);function Qf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function If(t){Uc(t,"svelte-1odf9sx","section.svelte-1odf9sx{padding:36px 0}.short.svelte-1odf9sx{min-height:70vh}")}function kf(t){var e,n,r,i=t[5].default,o=lc(i,t,t[4],null);return{c:function(){e=kc("section"),n=kc("div"),o&&o.c(),Pc(n,"class","middle svelte-1odf9sx"),Nc(n,"center",t[1]),Nc(n,"col-medium",!t[2]),Nc(n,"col-wide",t[2]),Nc(n,"height-full",!t[3]),Nc(n,"short",t[3]),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].background),Pc(e,"class","svelte-1odf9sx")},m:function(t,i){Ec(t,e,i),Fc(e,n),o&&o.m(n,null),r=!0},p:function(t,a){var A=vh(a,1)[0];o&&o.p&&(!r||16&A)&&pc(o,i,t,t[4],r?fc(i,t[4],A,null):dc(t[4]),null),(!r||2&A)&&Nc(n,"center",t[1]),(!r||4&A)&&Nc(n,"col-medium",!t[2]),(!r||4&A)&&Nc(n,"col-wide",t[2]),(!r||8&A)&&Nc(n,"height-full",!t[3]),(!r||8&A)&&Nc(n,"short",t[3]),(!r||1&A)&&$c(e,"color",gh[t[0]].text),(!r||1&A)&&$c(e,"background-color",gh[t[0]].background)},i:function(t){r||(dl(o,t),r=!0)},o:function(t){gl(o,t),r=!1},d:function(t){t&&Qc(e),o&&o.d(t)}}}function Sf(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.theme,A=void 0===a?Wc("theme"):a,s=e.center,u=void 0===s||s,c=e.wide,l=void 0!==c&&c,h=e.short,f=void 0!==h&&h;return t.$$set=function(t){"theme"in t&&n(0,A=t.theme),"center"in t&&n(1,u=t.center),"wide"in t&&n(2,l=t.wide),"short"in t&&n(3,f=t.short),"$$scope"in t&&n(4,o=t.$$scope)},[A,u,l,f,o,i]}var Tf=function(t){fn(n,t);var e=Qf(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Sf,kf,Ac,{theme:0,center:1,wide:2,short:3},If),r}return n}(Bl);function Mf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Df(t){Uc(t,"svelte-1l2to1w","hr.svelte-1l2to1w{width:75px;border:none;border-top:2px solid;margin:40px auto -10px auto}")}function Lf(t){var e;return{c:function(){$c(e=kc("hr"),"color",gh[t[0]].muted),$c(e,"border","none"),Pc(e,"class","svelte-1l2to1w")},m:function(t,n){Ec(t,e,n)},p:function(t,n){1&n&&$c(e,"color",gh[t[0]].muted)},d:function(t){t&&Qc(e)}}}function Pf(t){var e;return{c:function(){$c(e=kc("hr"),"color",gh[t[0]].muted),Pc(e,"class","svelte-1l2to1w")},m:function(t,n){Ec(t,e,n)},p:function(t,n){1&n&&$c(e,"color",gh[t[0]].muted)},d:function(t){t&&Qc(e)}}}function Hf(t){var e,n;function r(t,e){return t[1]?Pf:Lf}var i=r(t),o=i(t);return{c:function(){e=kc("section"),n=kc("div"),o.c(),Pc(n,"class","col-medium"),$c(e,"color",gh[t[0]].text),$c(e,"background-color",gh[t[0]].background)},m:function(t,r){Ec(t,e,r),Fc(e,n),o.m(n,null)},p:function(t,a){var A=vh(a,1)[0];i===(i=r(t))&&o?o.p(t,A):(o.d(1),(o=i(t))&&(o.c(),o.m(n,null))),1&A&&$c(e,"color",gh[t[0]].text),1&A&&$c(e,"background-color",gh[t[0]].background)},i:Yu,o:Yu,d:function(t){t&&Qc(e),o.d()}}}function zf(t,e,n){var r=e.theme,i=void 0===r?Wc("theme"):r,o=e.hr,a=void 0===o||o;return t.$$set=function(t){"theme"in t&&n(0,i=t.theme),"hr"in t&&n(1,a=t.hr)},[i,a]}var $f=function(t){fn(n,t);var e=Mf(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,zf,Hf,Ac,{theme:0,hr:1},Df),r}return n}(Bl);function Rf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Of(t){Uc(t,"svelte-g1x8yy",'.switch.svelte-g1x8yy.svelte-g1x8yy{position:relative;display:inline-block}.switch-input.svelte-g1x8yy.svelte-g1x8yy{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.switch-label.svelte-g1x8yy.svelte-g1x8yy::before,.switch-label.svelte-g1x8yy.svelte-g1x8yy::after{content:"";display:block;position:absolute;cursor:pointer}.switch-label.svelte-g1x8yy.svelte-g1x8yy{display:block;cursor:pointer;margin-top:-4px;margin-left:58px}.switch-label.svelte-g1x8yy.svelte-g1x8yy::before{-webkit-box-sizing:border-box;box-sizing:border-box;top:0;left:0;width:48px;height:24px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#aaa;border-radius:9999em;-webkit-transition:background-color 0.25s ease;-o-transition:background-color 0.25s ease;transition:background-color 0.25s ease}.switch-label.svelte-g1x8yy.svelte-g1x8yy::after{top:3px;left:3px;width:18px;height:18px;border-radius:50%;background-color:#fff;-webkit-transition:left 0.25s ease;-o-transition:left 0.25s ease;transition:left 0.25s ease}.switch-input.svelte-g1x8yy:checked+.switch-label.svelte-g1x8yy::before{background-color:rgb(32, 96, 149)}.switch-input.svelte-g1x8yy:checked+.switch-label.svelte-g1x8yy::after{left:27px;top:3px}.mono.svelte-g1x8yy.svelte-g1x8yy::before{border:2px solid white;background:none !important}')}function Kf(t){var e,n,r,i,o,a,A;return{c:function(){e=kc("div"),n=kc("input"),r=Mc(),i=kc("label"),o=Tc(t[2]),Pc(n,"id",t[1]),function(t,e){try{t.type=e}catch(t){}}(n,"checkbox"),Pc(n,"class","switch-input svelte-g1x8yy"),Pc(n,"tabindex","0"),Pc(i,"for",t[1]),Pc(i,"class","switch-label svelte-g1x8yy"),Nc(i,"mono",t[3]),Pc(e,"class","switch svelte-g1x8yy")},m:function(s,u){Ec(s,e,u),Fc(e,n),n.checked=t[0],Fc(e,r),Fc(e,i),Fc(i,o),a||(A=Lc(n,"change",t[4]),a=!0)},p:function(t,e){var r=vh(e,1)[0];2&r&&Pc(n,"id",t[1]),1&r&&(n.checked=t[0]),4&r&&zc(o,t[2]),2&r&&Pc(i,"for",t[1]),8&r&&Nc(i,"mono",t[3])},i:Yu,o:Yu,d:function(t){t&&Qc(e),a=!1,A()}}}function Vf(t,e,n){var r=e.id,i=void 0===r?"switch":r,o=e.label,a=void 0===o?"Label":o,A=e.mono,s=void 0!==A&&A,u=e.checked;return t.$$set=function(t){"id"in t&&n(1,i=t.id),"label"in t&&n(2,a=t.label),"mono"in t&&n(3,s=t.mono),"checked"in t&&n(0,u=t.checked)},[u,i,a,s,function(){u=this.checked,n(0,u)}]}var Nf=function(t){fn(n,t);var e=Rf(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Vf,Kf,Ac,{id:1,label:2,mono:3,checked:0},Of),r}return n}(Bl),Gf=vt.includes;function jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function qf(t){Uc(t,"svelte-1prdo3z",".arrow.svelte-1prdo3z{width:48px;height:48px}.left.svelte-1prdo3z{margin-right:10px}.bounce.svelte-1prdo3z{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:svelte-1prdo3z-bounce;animation-name:svelte-1prdo3z-bounce;-webkit-animation-timing-function:ease;animation-timing-function:ease}@-webkit-keyframes svelte-1prdo3z-bounce{0%{-webkit-transform:translateY(10px);transform:translateY(10px)}30%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}50%{-webkit-transform:translateY(10px);transform:translateY(10px)}100%{-webkit-transform:translateY(10px);transform:translateY(10px)}}@keyframes svelte-1prdo3z-bounce{0%{-webkit-transform:translateY(10px);transform:translateY(10px)}30%{-webkit-transform:translateY(-10px);transform:translateY(-10px)}50%{-webkit-transform:translateY(10px);transform:translateY(10px)}100%{-webkit-transform:translateY(10px);transform:translateY(10px)}}")}function Zf(t){var e,n,r,i=t[4].default,o=lc(i,t,t[3],null);return{c:function(){e=kc("img"),o&&o.c(),sc(e.src,n="./img/scroll-down-"+t[0]+".svg")||Pc(e,"src",n),Pc(e,"class","arrow left svelte-1prdo3z"),Pc(e,"alt",""),Pc(e,"aria-hidden","true"),Nc(e,"bounce",t[1])},m:function(t,n){Ec(t,e,n),o&&o.m(t,n),r=!0},p:function(t,a){(!r||1&a&&!sc(e.src,n="./img/scroll-down-"+t[0]+".svg"))&&Pc(e,"src",n),(!r||2&a)&&Nc(e,"bounce",t[1]),o&&o.p&&(!r||8&a)&&pc(o,i,t,t[3],r?fc(i,t[3],a,null):dc(t[3]),null)},i:function(t){r||(dl(o,t),r=!0)},o:function(t){gl(o,t),r=!1},d:function(t){t&&Qc(e),o&&o.d(t)}}}function Xf(t){var e,n,r,i,o,a=t[4].default,A=lc(a,t,t[3],null);return{c:function(){A&&A.c(),e=kc("br"),n=Mc(),sc((r=kc("img")).src,i="./img/scroll-down-"+t[0]+".svg")||Pc(r,"src",i),Pc(r,"class","arrow svelte-1prdo3z"),Pc(r,"alt",""),Pc(r,"aria-hidden","true"),Nc(r,"bounce",t[1])},m:function(t,i){A&&A.m(t,i),Ec(t,e,i),Ec(t,n,i),Ec(t,r,i),o=!0},p:function(t,e){A&&A.p&&(!o||8&e)&&pc(A,a,t,t[3],o?fc(a,t[3],e,null):dc(t[3]),null),(!o||1&e&&!sc(r.src,i="./img/scroll-down-"+t[0]+".svg"))&&Pc(r,"src",i),(!o||2&e)&&Nc(r,"bounce",t[1])},i:function(t){o||(dl(A,t),o=!0)},o:function(t){gl(A,t),o=!1},d:function(t){A&&A.d(t),t&&Qc(e),t&&Qc(n),t&&Qc(r)}}}function Wf(t){var e,n,r,i,o=[Xf,Zf],a=[];function A(t,e){return t[2]?0:1}return e=A(t),n=a[e]=o[e](t),{c:function(){n.c(),r=Dc()},m:function(t,n){a[e].m(t,n),Ec(t,r,n),i=!0},p:function(t,i){var s=vh(i,1)[0],u=e;(e=A(t))===u?a[e].p(t,s):(fl(),gl(a[u],1,1,(function(){a[u]=null})),pl(),(n=a[e])?n.p(t,s):(n=a[e]=o[e](t)).c(),dl(n,1),n.m(r.parentNode,r))},i:function(t){i||(dl(n),i=!0)},o:function(t){gl(n),i=!1},d:function(t){a[e].d(t),t&&Qc(r)}}}function Jf(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope,a=e.color,A=void 0===a?"black":a,s=e.animation,u=void 0===s||s,c=e.center,l=void 0===c||c;return A=["black","white"].includes(A)?A:"black",t.$$set=function(t){"color"in t&&n(0,A=t.color),"animation"in t&&n(1,u=t.animation),"center"in t&&n(2,l=t.center),"$$scope"in t&&n(3,o=t.$$scope)},[A,u,l,o,i]}Lt({target:"Array",proto:!0},{includes:function(t){return Gf(this,t,arguments.length>1?arguments[1]:void 0)}}),Ue("includes");var Yf=function(t){fn(n,t);var e=jf(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Jf,Wf,Ac,{color:0,animation:1,center:2},qf),r}return n}(Bl),tp={rgb2hsl:ep,rgb2hsv:np,rgb2hwb:rp,rgb2cmyk:ip,rgb2keyword:op,rgb2xyz:ap,rgb2lab:Ap,rgb2lch:function(t){return dp(Ap(t))},hsl2rgb:sp,hsl2hsv:function(t){var e=t[0],n=t[1]/100,r=t[2]/100;if(0===r)return[0,0,0];return[e,100*(2*(n*=(r*=2)<=1?r:2-r)/(r+n)),100*((r+n)/2)]},hsl2hwb:function(t){return rp(sp(t))},hsl2cmyk:function(t){return ip(sp(t))},hsl2keyword:function(t){return op(sp(t))},hsv2rgb:up,hsv2hsl:function(t){var e,n,r=t[0],i=t[1]/100,o=t[2]/100;return e=i*o,[r,100*(e=(e/=(n=(2-i)*o)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return rp(up(t))},hsv2cmyk:function(t){return ip(up(t))},hsv2keyword:function(t){return op(up(t))},hwb2rgb:cp,hwb2hsl:function(t){return ep(cp(t))},hwb2hsv:function(t){return np(cp(t))},hwb2cmyk:function(t){return ip(cp(t))},hwb2keyword:function(t){return op(cp(t))},cmyk2rgb:lp,cmyk2hsl:function(t){return ep(lp(t))},cmyk2hsv:function(t){return np(lp(t))},cmyk2hwb:function(t){return rp(lp(t))},cmyk2keyword:function(t){return op(lp(t))},keyword2rgb:yp,keyword2hsl:function(t){return ep(yp(t))},keyword2hsv:function(t){return np(yp(t))},keyword2hwb:function(t){return rp(yp(t))},keyword2cmyk:function(t){return ip(yp(t))},keyword2lab:function(t){return Ap(yp(t))},keyword2xyz:function(t){return ap(yp(t))},xyz2rgb:hp,xyz2lab:fp,xyz2lch:function(t){return dp(fp(t))},lab2xyz:pp,lab2rgb:gp,lab2lch:dp,lch2lab:mp,lch2xyz:function(t){return pp(mp(t))},lch2rgb:function(t){return gp(mp(t))}};function ep(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),A=Math.max(r,i,o),s=A-a;return A==a?e=0:r==A?e=(i-o)/s:i==A?e=2+(o-r)/s:o==A&&(e=4+(r-i)/s),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+A)/2,[e,100*(A==a?0:n<=.5?s/(A+a):s/(2-A-a)),100*n]}function np(t){var e,n,r=t[0],i=t[1],o=t[2],a=Math.min(r,i,o),A=Math.max(r,i,o),s=A-a;return n=0==A?0:s/A*1e3/10,A==a?e=0:r==A?e=(i-o)/s:i==A?e=2+(o-r)/s:o==A&&(e=4+(r-i)/s),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,A/255*1e3/10]}function rp(t){var e=t[0],n=t[1],r=t[2];return[ep(t)[0],100*(1/255*Math.min(e,Math.min(n,r))),100*(r=1-1/255*Math.max(e,Math.max(n,r)))]}function ip(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]}function op(t){return _p[JSON.stringify(t)]}function ap(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]}function Ap(t){var e=ap(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function sp(t){var e,n,r,i,o,a=t[0]/360,A=t[1]/100,s=t[2]/100;if(0==A)return[o=255*s,o,o];e=2*s-(n=s<.5?s*(1+A):s+A-s*A),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e,i[u]=255*o;return i}function up(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),A=255*r*(1-n*o),s=255*r*(1-n*(1-o));r*=255;switch(i){case 0:return[r,s,a];case 1:return[A,r,a];case 2:return[a,r,s];case 3:return[a,A,r];case 4:return[s,a,r];case 5:return[r,a,A]}}function cp(t){var e,n,i,o,a=t[0]/360,A=t[1]/100,s=t[2]/100,u=A+s;switch(u>1&&(A/=u,s/=u),i=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(i=1-i),o=A+i*((n=1-s)-A),e){default:case 6:case 0:r=n,g=o,b=A;break;case 1:r=o,g=n,b=A;break;case 2:r=A,g=n,b=o;break;case 3:r=A,g=o,b=n;break;case 4:r=o,g=A,b=n;break;case 5:r=n,g=A,b=o}return[255*r,255*g,255*b]}function lp(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]}function hp(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function fp(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function pp(t){var e,n,r,i,o=t[0],a=t[1],A=t[2];return o<=8?i=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),i=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+i-16/116)/7.787:95.047*Math.pow(a/500+i,3),n,r=r/108.883<=.008859?r=108.883*(i-A/200-16/116)/7.787:108.883*Math.pow(i-A/200,3)]}function dp(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]}function gp(t){return hp(pp(t))}function mp(t){var e,n=t[0],r=t[1];return e=t[2]/360*2*Math.PI,[n,r*Math.cos(e),r*Math.sin(e)]}function yp(t){return vp[t]}var vp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_p={};for(var wp in vp)_p[JSON.stringify(vp[wp])]=wp;var xp=function(){return new Up};for(var Bp in tp){xp[Bp+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),tp[t](e)}}(Bp);var bp=/(\w+)2(\w+)/.exec(Bp),Cp=bp[1],Fp=bp[2];(xp[Cp]=xp[Cp]||{})[Fp]=xp[Bp]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=tp[t](e);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(Bp)}var Up=function(){this.convs={}};Up.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},Up.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},Up.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,r=this.convs[n];e=xp[n][t](r),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(t){Up.prototype[t]=function(e){return this.routeSpace(t,arguments)}}));var Ep=xp;function Qp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Ip(t){Uc(t,"svelte-s1t2y4",".em.svelte-s1t2y4{padding:1px 4px 1px 4px;font-weight:bold}.nowrap.svelte-s1t2y4{white-space:nowrap}")}function kp(t){var e,n,r=t[5].default,i=lc(r,t,t[4],null);return{c:function(){e=kc("span"),i&&i.c(),Pc(e,"class","em svelte-s1t2y4"),$c(e,"background-color",t[0]),$c(e,"color",t[2]),Pc(e,"role","presentation"),Nc(e,"nowrap",t[1])},m:function(t,r){Ec(t,e,r),i&&i.m(e,null),n=!0},p:function(t,o){var a=vh(o,1)[0];i&&i.p&&(!n||16&a)&&pc(i,r,t,t[4],n?fc(r,t[4],a,null):dc(t[4]),null),(!n||1&a)&&$c(e,"background-color",t[0]),(!n||4&a)&&$c(e,"color",t[2]),(!n||2&a)&&Nc(e,"nowrap",t[1])},i:function(t){n||(dl(i,t),n=!0)},o:function(t){gl(i,t),n=!1},d:function(t){t&&Qc(e),i&&i.d(t)}}}function Sp(t,e,n){var r,i=e.$$slots,o=void 0===i?{}:i,a=e.$$scope,A=e.color,s=void 0===A?"lightgrey":A,u=e.nowrap,c=void 0===u||u;var l="black";return t.$$set=function(t){"color"in t&&n(0,s=t.color),"nowrap"in t&&n(1,c=t.nowrap),"$$scope"in t&&n(4,a=t.$$scope)},t.$$.update=function(){1&t.$$.dirty&&n(3,r=function(t){var e,n,r,i;if(e=/^((?:rgb|hs[lv]|cmyk|xyz|lab)a?)\s*\(([^\)]*)\)/.exec(t)){var o=e[1],a="cmyk"===(A=o.replace(/a$/,""))?4:3;n=Ep[A],r=e[2].replace(/^\s+|\s+$/g,"").split(/\s*,\s*/).map((function(t,e){return/%$/.test(t)&&e===a?parseFloat(t)/100:(/%$/.test(t),parseFloat(t))})),o===A&&r.push(1),i=void 0===r[a]?1:r[a],r=r.slice(0,a),n[A]=function(){return r}}else if(/^#[A-Fa-f0-9]+$/.test(t)){var A;a=(A=t.replace(/^#/,"")).length,n=Ep.rgb,r=(r=A.split(3===a?/(.)/:/(..)/)).filter(Boolean).map((function(t){return 3===a?parseInt(t+t,16):parseInt(t,16)})),i=1,n.rgb=function(){return r},r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0)}else(n=Ep.keyword).keyword=function(){return t},r=t,i=1;var s={rgb:void 0,hsl:void 0,hsv:void 0,cmyk:void 0,keyword:void 0,hex:void 0};try{s.rgb=n.rgb(r)}catch(t){}try{s.hsl=n.hsl(r)}catch(t){}try{s.hsv=n.hsv(r)}catch(t){}try{s.cmyk=n.cmyk(r)}catch(t){}try{s.keyword=n.keyword(r)}catch(t){}return s.rgb&&(s.hex="#"+s.rgb.map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("")),s.rgb&&(s.rgba=s.rgb.concat(i)),s.hsl&&(s.hsla=s.hsl.concat(i)),s.hsv&&(s.hsva=s.hsv.concat(i)),s.cmyk&&(s.cmyka=s.cmyk.concat(i)),s}(s).rgb),8&t.$$.dirty&&r&&n(2,l=function(t){return(299*t[0]+587*t[1]+114*t[2])/1e3>125?"black":"white"}(r))},[s,c,l,r,a,o]}var Tp=function(t){fn(n,t);var e=Qp(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Sp,kp,Ac,{color:0,nowrap:1},Ip),r}return n}(Bl);function Mp(t,e,n){if(null!==t)for(var r,i,o,a,A,s,u,c,l=0,h=0,f=t.type,p="FeatureCollection"===f,d="Feature"===f,g=p?t.features.length:1,m=0;m<g;m++){A=(c=!!(u=p?t.features[m].geometry:d?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<A;y++){var v=0,_=0;if(null!==(a=c?u.geometries[y]:u)){s=a.coordinates;var w=a.type;switch(l=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(s,h,m,v,_))return!1;h++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<s.length;r++){if(!1===e(s[r],h,m,v,_))return!1;h++,"MultiPoint"===w&&v++}"LineString"===w&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<s.length;r++){for(i=0;i<s[r].length-l;i++){if(!1===e(s[r][i],h,m,v,_))return!1;h++}"MultiLineString"===w&&v++,"Polygon"===w&&_++}"Polygon"===w&&v++;break;case"MultiPolygon":for(r=0;r<s.length;r++){for(_=0,i=0;i<s[r].length;i++){for(o=0;o<s[r][i].length-l;o++){if(!1===e(s[r][i][o],h,m,v,_))return!1;h++}_++}v++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===Mp(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Dp(t){var e=[1/0,1/0,-1/0,-1/0];return Mp(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function Lp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Pp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function Pp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Dp.default=Dp,Lt({target:"String",proto:!0,forced:!$a("includes")},{includes:function(t){return!!~String(m(this)).indexOf(Ha(t),arguments.length>1?arguments[1]:void 0)}}),Lt({target:"Object",stat:!0},{fromEntries:function(t){var e={};return vi(t,(function(t,n){zt(e,t,n)}),{AS_ENTRIES:!0}),e}});var Hp=[];function zp(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yu,r=new Set;function i(n){if(Ac(t,n)&&(t=n,e)){var i,o=!Hp.length,a=Lp(r);try{for(a.s();!(i=a.n()).done;){var A=i.value;A[1](),Hp.push(A,t)}}catch(t){a.e(t)}finally{a.f()}if(o){for(var s=0;s<Hp.length;s+=2)Hp[s][0](Hp[s+1]);Hp.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(o){var a=[o,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yu];return r.add(a),1===r.size&&(e=n(i)||Yu),o(t),function(){r.delete(a),0===r.size&&e&&(e(),e=null)}}}}function $p(t,e,n){var r,i=!Array.isArray(t),o=i?[t]:t,a=e.length<2;return r=function(t){var n=!1,r=[],A=0,s=Yu,u=function(){if(!A){s();var n=e(i?r[0]:r,t);a?t(n):s=ac(n)?n:Yu}},c=o.map((function(t,e){return uc(t,(function(t){r[e]=t,A&=~(1<<e),n&&u()}),(function(){A|=1<<e}))}));return n=!0,u(),function(){oc(c),s(),n=!1}},{subscribe:zp(n,r).subscribe}}function Rp(t){return 0===(e=t)||e?Array.isArray(t)?function(e){return t.map((function(t){return"function"!=typeof t?e[t]:t(e)}))}:"function"!=typeof t?function(e){return e[t]}:t:null;var e}var Op=c.f,Kp=function(t){return function(e){for(var n,r=y(e),i=de(r),o=i.length,A=0,s=[];o>A;)n=i[A++],a&&!Op.call(r,n)||s.push(t?[n,r[n]]:r[n]);return s}},Vp={entries:Kp(!0),values:Kp(!1)}.entries;function Np(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function Gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){var e,n={},r=Np(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(Object(i)!==i)throw new TypeError("iterable for fromEntries should yield objects");var o=i[0],a=i[1];Object.defineProperty(n,o,{configurable:!0,enumerable:!0,writable:!0,value:a})}}catch(t){r.e(t)}finally{r.f()}return n}(Object.entries(t).filter((function(t){var n=vh(t,2),r=n[0];return void 0!==n[1]&&void 0===e[r]})))}Lt({target:"Object",stat:!0},{entries:function(t){return Vp(t)}});var qp=nu.left,Zp=Pe("reduce");function Xp(t,e){return t.length===e.length&&t.every((function(t){return e.includes(t)}))}function Wp(t){return"function"==typeof t.bandwidth||!!Xp(Object.keys(t),["domain","range","unknown","copy"])}function Jp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jp(Object(n),!0).forEach((function(e){mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function td(t,e,n){var r=Object.keys(n).reduce((function(t,r){var i=!0===Wp(n[r])?"ordinal":"other";return t[i]||(t[i]={}),t[i][r]=e[r],t}),{ordinal:!1,other:!1}),i={};return r.ordinal&&(i=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).sort,r=void 0!==n&&n;if(!Array.isArray(t))throw new TypeError("The first argument of calcUniques() must be an array. You passed in a ".concat(pn(t),". If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata"));if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");var i,o,a,A,s,u,c,l={},h=Object.keys(e),f=h.length,p=t.length;for(i=0;i<f;i+=1){for(c=new Set,s=e[A=h[i]],o=0;o<p;o+=1)if(u=s(t[o]),Array.isArray(u)){var d=u.length;for(a=0;a<d;a+=1)c.add(u[a])}else c.add(u);var g=Array.from(c);l[A]=!0===r?g.sort():g}return l}(t,r.ordinal)),r.other&&(i=Yp(Yp({},i),function(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array. You passed in a ".concat(pn(t),". If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata"));if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");var n,r,i,o,a,A,s,u,c={},l=Object.keys(e),h=l.length,f=t.length;for(n=0;n<h;n+=1){for(s=e[o=l[n]],a=null,A=null,r=0;r<f;r+=1)if(u=s(t[r]),Array.isArray(u)){var p=u.length;for(i=0;i<p;i+=1)!1!==u[i]&&void 0!==u[i]&&null!==u[i]&&!1===Number.isNaN(u[i])&&((null===a||u[i]<a)&&(a=u[i]),(null===A||u[i]>A)&&(A=u[i]))}else!1!==u&&null!=u&&!1===Number.isNaN(u)&&((null===a||u<a)&&(a=u),(null===A||u>A)&&(A=u));c[o]=[a,A]}return c}(t,r.other))),i}function ed(t){return function(e){var n=vh(e,2),r=n[0],i=n[1];return"function"==typeof i&&(i=i(r[t])),r?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return!0===Array.isArray(e)?e.map((function(e,n){return null===e?t[n]:e})):t}(r[t],i):i}}function nd(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rd(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function id(t){var e,n,r;function i(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{var a=i+o>>>1;n(t[a],r)<0?i=a+1:o=a}while(i<o)}return i}return 2!==t.length?(e=nd,n=function(e,n){return nd(t(e),n)},r=function(e,n){return t(e)-n}):(e=t===nd||t===rd?t:od,n=t,r=t),{left:i,center:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{var a=i+o>>>1;n(t[a],r)<=0?i=a+1:o=a}while(i<o)}return i}}}function od(){return 0}Lt({target:"Array",proto:!0,forced:!Zp||!Oi&&Jt>79&&Jt<83},{reduce:function(t){return qp(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var ad=id(nd).right;id((function(t){return null===t?NaN:+t})).center;ps("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,_A.exportTypedArrayStaticMethod)("from",fs,bA);var Ad=function(t,e,n,r,i,o,a,A){for(var s,u=i,c=0,l=!!a&&se(a,A,3);c<r;){if(c in n){if(s=l?l(n[c],c,e):n[c],o>0&&Pt(s))u=Ad(t,e,s,pt(s.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[u]=s}u++}c++}return u},sd=Ad;function ud(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function cd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ld(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}var hd=function(t){fn(n,t);var e=ld(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd;cn(this,n),t=e.call(this),Object.defineProperties(ln(t),{_intern:{value:new Map},_key:{value:i}});var o,a=ud(r);try{for(a.s();!(o=a.n()).done;){var A=vh(o.value,2),s=A[0],u=A[1];t.set(s,u)}}catch(t){a.e(t)}finally{a.f()}return t}return Ju(n,[{key:"get",value:function(t){return Xu(gn(n.prototype),"get",this).call(this,fd(this,t))}},{key:"has",value:function(t){return Xu(gn(n.prototype),"has",this).call(this,fd(this,t))}},{key:"set",value:function(t,e){return Xu(gn(n.prototype),"set",this).call(this,function(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):(n.set(r,e),e)}(this,t),e)}},{key:"delete",value:function(t){return Xu(gn(n.prototype),"delete",this).call(this,function(t,e){var n=t._intern,r=(0,t._key)(e);n.has(r)&&(e=n.get(e),n.delete(r));return e}(this,t))}}]),n}(Zu(Map));function fd(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):e}function pd(t){return null!==t&&"object"===pn(t)?t.valueOf():t}ps("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var dd=Math.log,gd=Math.LOG10E;Lt({target:"Math",stat:!0},{log10:function(t){return dd(t)*gd}});var md=Math.sqrt(50),yd=Math.sqrt(10),vd=Math.sqrt(2);function _d(t,e,n){var r,i,o,a=(e-t)/Math.max(0,n),A=Math.floor(Math.log10(a)),s=a/Math.pow(10,A),u=s>=md?10:s>=yd?5:s>=vd?2:1;return A<0?(o=Math.pow(10,-A)/u,(r=Math.round(t*o))/o<t&&++r,(i=Math.round(e*o))/o>e&&--i,o=-o):(o=Math.pow(10,A)*u,(r=Math.round(t/o))*o<t&&++r,(i=Math.round(e/o))*o>e&&--i),i<r&&.5<=n&&n<2?_d(t,e,2*n):[r,i,o]}function wd(t,e,n){return _d(t=+t,e=+e,n=+n)[2]}function xd(t,e,n){n=+n;var r=(e=+e)<(t=+t),i=r?wd(e,t,n):wd(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}var Bd=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};function bd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Cd(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Fd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function Fd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ud=Symbol("implicit");function Ed(){var t=new hd,e=[],n=[],r=Ud;function i(i){var o=t.get(i);if(void 0===o){if(r!==Ud)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new hd;var r,o=Cd(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.has(a)||t.set(a,e.push(a)-1)}}catch(t){o.e(t)}finally{o.f()}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ed(e,n).unknown(r)},bd.apply(i,arguments),i}function Qd(){var t,e,n=Ed().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,A=!1,s=0,u=0,c=.5;function l(){var n=r().length,l=a<o,h=l?a:o,f=l?o:a;t=(f-h)/Math.max(1,n-s+2*u),A&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*c,e=t*(1-s),A&&(h=Math.round(h),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return h+t*e}));return i(l?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),l()):r()},n.range=function(t){var e;return arguments.length?(e=vh(t,2),o=e[0],a=e[1],o=+o,a=+a,l()):[o,a]},n.rangeRound=function(t){var e;return e=vh(t,2),o=e[0],a=e[1],o=+o,a=+a,A=!0,l()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(A=!!t,l()):A},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),l()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,l()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},n.copy=function(){return Qd(r(),[o,a]).round(A).paddingInner(s).paddingOuter(u).align(c)},bd.apply(l(),arguments)}function Id(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function kd(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sd(){}var Td=.7,Md=1/Td,Dd="\\s*([+-]?\\d+)\\s*",Ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hd=/^#([0-9a-f]{3,8})$/,zd=new RegExp("^rgb\\(".concat(Dd,",").concat(Dd,",").concat(Dd,"\\)$")),$d=new RegExp("^rgb\\(".concat(Pd,",").concat(Pd,",").concat(Pd,"\\)$")),Rd=new RegExp("^rgba\\(".concat(Dd,",").concat(Dd,",").concat(Dd,",").concat(Ld,"\\)$")),Od=new RegExp("^rgba\\(".concat(Pd,",").concat(Pd,",").concat(Pd,",").concat(Ld,"\\)$")),Kd=new RegExp("^hsl\\(".concat(Ld,",").concat(Pd,",").concat(Pd,"\\)$")),Vd=new RegExp("^hsla\\(".concat(Ld,",").concat(Pd,",").concat(Pd,",").concat(Ld,"\\)$")),Nd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Gd(){return this.rgb().formatHex()}function jd(){return this.rgb().formatRgb()}function qd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hd.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Zd(e):3===n?new Jd(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xd(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zd.exec(t))?new Jd(e[1],e[2],e[3],1):(e=$d.exec(t))?new Jd(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Rd.exec(t))?Xd(e[1],e[2],e[3],e[4]):(e=Od.exec(t))?Xd(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Kd.exec(t))?ig(e[1],e[2]/100,e[3]/100,1):(e=Vd.exec(t))?ig(e[1],e[2]/100,e[3]/100,e[4]):Nd.hasOwnProperty(t)?Zd(Nd[t]):"transparent"===t?new Jd(NaN,NaN,NaN,0):null}function Zd(t){return new Jd(t>>16&255,t>>8&255,255&t,1)}function Xd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jd(t,e,n,r)}function Wd(t,e,n,r){return 1===arguments.length?((i=t)instanceof Sd||(i=qd(i)),i?new Jd((i=i.rgb()).r,i.g,i.b,i.opacity):new Jd):new Jd(t,e,n,null==r?1:r);var i}function Jd(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yd(){return"#".concat(rg(this.r)).concat(rg(this.g)).concat(rg(this.b))}function tg(){var t=eg(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(ng(this.r),", ").concat(ng(this.g),", ").concat(ng(this.b)).concat(1===t?")":", ".concat(t,")"))}function eg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ng(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rg(t){return((t=ng(t))<16?"0":"")+t.toString(16)}function ig(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ag(t,e,n,r)}function og(t){if(t instanceof ag)return new ag(t.h,t.s,t.l,t.opacity);if(t instanceof Sd||(t=qd(t)),!t)return new ag;if(t instanceof ag)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,A=o-i,s=(o+i)/2;return A?(a=e===o?(n-r)/A+6*(n<r):n===o?(r-e)/A+2:(e-n)/A+4,A/=s<.5?o+i:2-o-i,a*=60):A=s>0&&s<1?0:a,new ag(a,A,s,t.opacity)}function ag(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ag(t){return(t=(t||0)%360)<0?t+360:t}function sg(t){return Math.max(0,Math.min(1,t||0))}function ug(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Id(Sd,qd,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Gd,formatHex:Gd,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return og(this).formatHsl()},formatRgb:jd,toString:jd}),Id(Jd,Wd,kd(Sd,{brighter:function(t){return t=null==t?Md:Math.pow(Md,t),new Jd(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Td:Math.pow(Td,t),new Jd(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new Jd(ng(this.r),ng(this.g),ng(this.b),eg(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yd,formatHex:Yd,formatHex8:function(){return"#".concat(rg(this.r)).concat(rg(this.g)).concat(rg(this.b)).concat(rg(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:tg,toString:tg})),Id(ag,(function(t,e,n,r){return 1===arguments.length?og(t):new ag(t,e,n,null==r?1:r)}),kd(Sd,{brighter:function(t){return t=null==t?Md:Math.pow(Md,t),new ag(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Td:Math.pow(Td,t),new ag(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jd(ug(t>=240?t-240:t+120,i,r),ug(t,i,r),ug(t<120?t+240:t-120,i,r),this.opacity)},clamp:function(){return new ag(Ag(this.h),sg(this.s),sg(this.l),eg(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=eg(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(Ag(this.h),", ").concat(100*sg(this.s),"%, ").concat(100*sg(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));var cg=function(t){return function(){return t}};function lg(t){return 1==(t=+t)?hg:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):cg(isNaN(e)?n:e)}}function hg(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):cg(isNaN(t)?e:t)}var fg=function t(e){var n=lg(e);function r(t,e){var r=n((t=Wd(t)).r,(e=Wd(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=hg(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1),pg="ArrayBuffer",dg=cs[pg],gg=i[pg];function mg(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function yg(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Cg(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function vg(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _g(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wg(t,e){var n,r={},i={};for(n in null!==t&&"object"===pn(t)||(t={}),null!==e&&"object"===pn(e)||(e={}),e)n in t?r[n]=Cg(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}Lt({global:!0,forced:gg!==dg},{ArrayBuffer:dg}),Ci(pg);var xg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bg=new RegExp(xg.source,"g");function bg(t,e){var n,r,i,o=xg.lastIndex=Bg.lastIndex=0,a=-1,A=[],s=[];for(t+="",e+="";(n=xg.exec(t))&&(r=Bg.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),A[a]?A[a]+=i:A[++a]=i),(n=n[0])===(r=r[0])?A[a]?A[a]+=r:A[++a]=r:(A[++a]=null,s.push({i:a,x:_g(n,r)})),o=Bg.lastIndex;return o<e.length&&(i=e.slice(o),A[a]?A[a]+=i:A[++a]=i),A.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)A[(n=s[r]).i]=n.x(t);return A.join("")})}function Cg(t,e){var n,r,i=pn(e);return null==e||"boolean"===i?cg(e):("number"===i?_g:"string"===i?(n=qd(e))?(e=n,fg):bg:e instanceof qd?fg:e instanceof Date?vg:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?yg:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?wg:_g:mg))(t,e)}function Fg(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ug(t){return+t}var Eg=[0,1];function Qg(t){return t}function Ig(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function kg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ig(i,r),o=n(a,o)):(r=Ig(r,i),o=n(o,a)),function(t){return o(r(t))}}function Sg(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ig(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=ad(t,e,1,r)-1;return o[n](i[n](e))}}function Tg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mg(){var t,e,n,r,i,o,a=Eg,A=Eg,s=Cg,u=Qg;function c(){var t=Math.min(a.length,A.length);return u!==Qg&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Sg:kg,i=o=null,l}function l(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),A,s)))(t(u(e)))}return l.invert=function(n){return u(e((o||(o=r(A,a.map(t),_g)))(n)))},l.domain=function(t){return arguments.length?(a=Array.from(t,Ug),c()):a.slice()},l.range=function(t){return arguments.length?(A=Array.from(t),c()):A.slice()},l.rangeRound=function(t){return A=Array.from(t),s=Fg,c()},l.clamp=function(t){return arguments.length?(u=!!t||Qg,c()):u!==Qg},l.interpolate=function(t){return arguments.length?(s=t,c()):s},l.unknown=function(t){return arguments.length?(n=t,l):n},function(n,r){return t=n,e=r,c()}}function Dg(){return Mg()(Qg,Qg)}function Lg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pg(t){return(t=Lg(Math.abs(t)))?t[1]:NaN}var Hg,zg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $g(t){if(!(e=zg.exec(t)))throw new Error("invalid format: "+t);var e;return new Rg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Rg(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Og(t,e){var n=Lg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}$g.prototype=Rg.prototype,Rg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Kg={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Og(100*t,e)},r:Og,s:function(t,e){var n=Lg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Hg=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lg(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Vg(t){return t}var Ng,Gg,jg,qg=Array.prototype.map,Zg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Xg(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Vg:(e=qg.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,A=e[0],s=0;i>0&&A>0&&(s+A+1>r&&(A=Math.max(1,r-s)),o.push(t.substring(i-=A,i+A)),!((s+=A+1)>r));)A=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",A=void 0===t.numerals?Vg:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(qg.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function l(t){var e=(t=$g(t)).fill,n=t.align,l=t.sign,h=t.symbol,f=t.zero,p=t.width,d=t.comma,g=t.precision,m=t.trim,y=t.type;"n"===y?(d=!0,y="g"):Kg[y]||(void 0===g&&(g=12),m=!0,y="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===h?o:/[%p]/.test(y)?s:"",w=Kg[y],x=/[defgprs%]/.test(y);function B(t){var i,o,s,h=v,B=_;if("c"===y)B=w(t)+B,t="";else{var b=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:w(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),b&&0==+t&&"+"!==l&&(b=!1),h=(b?"("===l?l:u:"-"===l||"("===l?"":l)+h,B=("s"===y?Zg[8+Hg/3]:"")+B+(b&&"("===l?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){B=(46===s?a+t.slice(i+1):t.slice(i))+B,t=t.slice(0,i);break}}d&&!f&&(t=r(t,1/0));var C=h.length+t.length+B.length,F=C<p?new Array(p-C+1).join(e):"";switch(d&&f&&(t=r(F+t,F.length?p-B.length:1/0),F=""),n){case"<":t=h+t+B+F;break;case"=":t=h+F+t+B;break;case"^":t=F.slice(0,C=F.length>>1)+h+t+B+F.slice(C);break;default:t=F+h+t+B}return A(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),B.toString=function(){return t+""},B}return{format:l,formatPrefix:function(t,e){var n=l(((t=$g(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Pg(e)/3))),i=Math.pow(10,-r),o=Zg[8+r/3];return function(t){return n(i*t)+o}}}}function Wg(t,e,n,r){var i,o=xd(t,e,n);switch((r=$g(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pg(e)/3)))-Pg(Math.abs(t)))}(o,a))||(r.precision=i),jg(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pg(e)-Pg(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Pg(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Gg(r)}function Jg(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];var r=e<t,i=vh(r?_d(e,t,n):_d(t,e,n),3),o=i[0],a=i[1],A=i[2];if(!(a>=o))return[];var s=a-o+1,u=new Array(s);if(r)if(A<0)for(var c=0;c<s;++c)u[c]=(a-c)/-A;else for(var l=0;l<s;++l)u[l]=(a-l)*A;else if(A<0)for(var h=0;h<s;++h)u[h]=(o+h)/-A;else for(var f=0;f<s;++f)u[f]=(o+f)*A;return u}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Wg(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,A=o.length-1,s=o[a],u=o[A],c=10;for(u<s&&(i=s,s=u,u=i,i=a,a=A,A=i);c-- >0;){if((i=wd(s,u,n))===r)return o[a]=s,o[A]=u,e(o);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Yg(){var t=Dg();return t.copy=function(){return Tg(t,Yg())},bd.apply(t,arguments),Jg(t)}Ng=Xg({thousands:",",grouping:[3],currency:["$",""]}),Gg=Ng.format,jg=Ng.formatPrefix;var tm=Math.expm1,em=Math.exp,nm=!tm||tm(10)>22025.465794806718||tm(10)<22025.465794806718||-2e-17!=tm(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:em(t)-1}:tm;Lt({target:"Math",stat:!0,forced:nm!=Math.expm1},{expm1:nm});var rm=Math.log,im=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:rm(1+t)};function om(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function am(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Am(){var t=function(t){var e=1,n=t(om(e),am(e));return n.constant=function(n){return arguments.length?t(om(e=+n),am(e)):e},Jg(n)}(Mg());return t.copy=function(){return Tg(t,Am()).constant(t.constant())},bd.apply(t,arguments)}function sm(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function um(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cm(t){return t<0?-t*t:t*t}function lm(t){var e=t(Qg,Qg),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Qg,Qg):.5===n?t(um,cm):t(sm(n),sm(1/n)):n},Jg(e)}function hm(){var t=lm(Mg());return t.copy=function(){return Tg(t,hm()).exponent(t.exponent())},bd.apply(t,arguments),t}Lt({target:"Math",stat:!0},{log1p:im}),Lt({target:"Math",stat:!0},{sign:Bd});var fm=new Date,pm=new Date;function dm(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,A=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return A;do{A.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return A},i.filter=function(n){return dm((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return fm.setTime(+e),pm.setTime(+r),t(fm),t(pm),Math.floor(n(fm,pm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var gm=dm((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));gm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?dm((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):gm:null};var mm=1e3,ym=6e4,vm=36e5,_m=864e5,wm=6048e5,xm=2592e6,Bm=31536e6,bm=dm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*mm)}),(function(t,e){return(e-t)/mm}),(function(t){return t.getUTCSeconds()})),Cm=dm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mm)}),(function(t,e){t.setTime(+t+e*ym)}),(function(t,e){return(e-t)/ym}),(function(t){return t.getMinutes()})),Fm=dm((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*ym)}),(function(t,e){return(e-t)/ym}),(function(t){return t.getUTCMinutes()})),Um=dm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mm-t.getMinutes()*ym)}),(function(t,e){t.setTime(+t+e*vm)}),(function(t,e){return(e-t)/vm}),(function(t){return t.getHours()})),Em=dm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*vm)}),(function(t,e){return(e-t)/vm}),(function(t){return t.getUTCHours()})),Qm=dm((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ym)/_m}),(function(t){return t.getDate()-1})),Im=dm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/_m}),(function(t){return t.getUTCDate()-1})),km=dm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/_m}),(function(t){return Math.floor(t/_m)}));function Sm(t){return dm((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ym)/wm}))}var Tm=Sm(0),Mm=Sm(1),Dm=(Sm(2),Sm(3),Sm(4));Sm(5),Sm(6);function Lm(t){return dm((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/wm}))}var Pm=Lm(0),Hm=Lm(1),zm=(Lm(2),Lm(3),Lm(4)),$m=(Lm(5),Lm(6),dm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Rm=dm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Om=dm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Om.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dm((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Km=dm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function Vm(t,e,n,r,i,o){var a=[[bm,1,mm],[bm,5,5e3],[bm,15,15e3],[bm,30,3e4],[o,1,ym],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,vm],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,_m],[r,2,1728e5],[n,1,wm],[e,1,xm],[e,3,7776e6],[t,1,Bm]];function A(e,n,r){var i=Math.abs(n-e)/r,o=id((function(t){return vh(t,3)[2]})).right(a,i);if(o===a.length)return t.every(xd(e/Bm,n/Bm,r));if(0===o)return gm.every(Math.max(xd(e,n,r),1));var A=vh(a[i/a[o-1][2]<a[o][2]/i?o-1:o],2),s=A[0],u=A[1];return s.every(u)}return[function(t,e,n){var r=e<t;if(r){var i=[e,t];t=i[0],e=i[1]}var o=n&&"function"==typeof n.range?n:A(t,e,n),a=o?o.range(t,+e+1):[];return r?a.reverse():a},A]}Km.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dm((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Nm=vh(Vm(Km,Rm,Pm,km,Em,Fm),2),Gm=(Nm[0],Nm[1],vh(Vm(Om,$m,Tm,Qm,Um,Cm),2)),jm=Gm[0],qm=Gm[1];function Zm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Jm,Ym,ty={"-":"",_:" ",0:"0"},ey=/^\s*\d+/,ny=/^%/,ry=/[\\^$*+?|[\]().{}]/g;function iy(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function oy(t){return t.replace(ry,"\\$&")}function ay(t){return new RegExp("^(?:"+t.map(oy).join("|")+")","i")}function Ay(t){return new Map(t.map((function(t,e){return[t.toLowerCase(),e]})))}function sy(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uy(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ly(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fy(t,e,n){var r=ey.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function py(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gy(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function my(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vy(t,e,n){var r=ey.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _y(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xy(t,e,n){var r=ey.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function By(t,e,n){var r=ey.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function by(t,e,n){var r=ey.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cy(t,e,n){var r=ny.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fy(t,e,n){var r=ey.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Uy(t,e,n){var r=ey.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ey(t,e){return iy(t.getDate(),e,2)}function Qy(t,e){return iy(t.getHours(),e,2)}function Iy(t,e){return iy(t.getHours()%12||12,e,2)}function ky(t,e){return iy(1+Qm.count(Om(t),t),e,3)}function Sy(t,e){return iy(t.getMilliseconds(),e,3)}function Ty(t,e){return Sy(t,e)+"000"}function My(t,e){return iy(t.getMonth()+1,e,2)}function Dy(t,e){return iy(t.getMinutes(),e,2)}function Ly(t,e){return iy(t.getSeconds(),e,2)}function Py(t){var e=t.getDay();return 0===e?7:e}function Hy(t,e){return iy(Tm.count(Om(t)-1,t),e,2)}function zy(t){var e=t.getDay();return e>=4||0===e?Dm(t):Dm.ceil(t)}function $y(t,e){return t=zy(t),iy(Dm.count(Om(t),t)+(4===Om(t).getDay()),e,2)}function Ry(t){return t.getDay()}function Oy(t,e){return iy(Mm.count(Om(t)-1,t),e,2)}function Ky(t,e){return iy(t.getFullYear()%100,e,2)}function Vy(t,e){return iy((t=zy(t)).getFullYear()%100,e,2)}function Ny(t,e){return iy(t.getFullYear()%1e4,e,4)}function Gy(t,e){var n=t.getDay();return iy((t=n>=4||0===n?Dm(t):Dm.ceil(t)).getFullYear()%1e4,e,4)}function jy(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+iy(e/60|0,"0",2)+iy(e%60,"0",2)}function qy(t,e){return iy(t.getUTCDate(),e,2)}function Zy(t,e){return iy(t.getUTCHours(),e,2)}function Xy(t,e){return iy(t.getUTCHours()%12||12,e,2)}function Wy(t,e){return iy(1+Im.count(Km(t),t),e,3)}function Jy(t,e){return iy(t.getUTCMilliseconds(),e,3)}function Yy(t,e){return Jy(t,e)+"000"}function tv(t,e){return iy(t.getUTCMonth()+1,e,2)}function ev(t,e){return iy(t.getUTCMinutes(),e,2)}function nv(t,e){return iy(t.getUTCSeconds(),e,2)}function rv(t){var e=t.getUTCDay();return 0===e?7:e}function iv(t,e){return iy(Pm.count(Km(t)-1,t),e,2)}function ov(t){var e=t.getUTCDay();return e>=4||0===e?zm(t):zm.ceil(t)}function av(t,e){return t=ov(t),iy(zm.count(Km(t),t)+(4===Km(t).getUTCDay()),e,2)}function Av(t){return t.getUTCDay()}function sv(t,e){return iy(Hm.count(Km(t)-1,t),e,2)}function uv(t,e){return iy(t.getUTCFullYear()%100,e,2)}function cv(t,e){return iy((t=ov(t)).getUTCFullYear()%100,e,2)}function lv(t,e){return iy(t.getUTCFullYear()%1e4,e,4)}function hv(t,e){var n=t.getUTCDay();return iy((t=n>=4||0===n?zm(t):zm.ceil(t)).getUTCFullYear()%1e4,e,4)}function fv(){return"+0000"}function pv(){return"%"}function dv(t){return+t}function gv(t){return Math.floor(+t/1e3)}function mv(t){return new Date(t)}function yv(t){return t instanceof Date?+t:+new Date(+t)}function vv(t,e,n,r,i,o,a,A,s,u){var c=Dg(),l=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),d=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),y=u("%b %d"),v=u("%B"),_=u("%Y");function w(t){return(s(t)<t?f:A(t)<t?p:a(t)<t?d:o(t)<t?g:r(t)<t?i(t)<t?m:y:n(t)<t?v:_)(t)}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?h(Array.from(t,yv)):h().map(mv)},c.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(n,t)):c},c.copy=function(){return Tg(c,vv(t,e,n,r,i,o,a,A,s,u))},c}function _v(){return bd.apply(vv(jm,qm,Om,$m,Tm,Qm,Um,Cm,bm,Ym).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function(t){Jm=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,A=t.months,s=t.shortMonths,u=ay(i),c=Ay(i),l=ay(o),h=Ay(o),f=ay(a),p=Ay(a),d=ay(A),g=Ay(A),m=ay(s),y=Ay(s),v={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return A[t.getMonth()]},c:null,d:Ey,e:Ey,f:Ty,g:Vy,G:Gy,H:Qy,I:Iy,j:ky,L:Sy,m:My,M:Dy,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:dv,s:gv,S:Ly,u:Py,U:Hy,V:$y,w:Ry,W:Oy,x:null,X:null,y:Ky,Y:Ny,Z:jy,"%":pv},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return A[t.getUTCMonth()]},c:null,d:qy,e:qy,f:Yy,g:cv,G:hv,H:Zy,I:Xy,j:Wy,L:Jy,m:tv,M:ev,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:dv,s:gv,S:nv,u:rv,U:iv,V:av,w:Av,W:sv,x:null,X:null,y:uv,Y:lv,Z:fv,"%":pv},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return b(t,e,n,r)},d:yy,e:yy,f:by,g:py,G:fy,H:_y,I:_y,j:vy,L:By,m:my,M:wy,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:gy,Q:Fy,s:Uy,S:xy,u:uy,U:cy,V:ly,w:sy,W:hy,x:function(t,e,r){return b(t,n,e,r)},X:function(t,e,n){return b(t,r,e,n)},y:py,Y:fy,Z:dy,"%":Cy};function x(t,e){return function(n){var r,i,o,a=[],A=-1,s=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++A<u;)37===t.charCodeAt(A)&&(a.push(t.slice(s,A)),null!=(i=ty[r=t.charAt(++A)])?r=t.charAt(++A):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=A+1);return a.push(t.slice(s,A)),a.join("")}}function B(t,e){return function(n){var r,i,o=Wm(1900,void 0,1);if(b(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Xm(Wm(o.y,0,1))).getUTCDay(),r=i>4||0===i?Hm.ceil(r):Hm(r),r=Im.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Zm(Wm(o.y,0,1))).getDay(),r=i>4||0===i?Mm.ceil(r):Mm(r),r=Qm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Xm(Wm(o.y,0,1)).getUTCDay():Zm(Wm(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Xm(o)):Zm(o)}}function b(t,e,n,r){for(var i,o,a=0,A=e.length,s=n.length;a<A;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in ty?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=B(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=B(t+="",!0);return e.toString=function(){return t},e}}}(t),Ym=Jm.format,Jm.parse,Jm.utcFormat,Jm.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var wv={x:Yg,y:Yg,z:Yg,r:function(){return hm.apply(null,arguments).exponent(.5)}};function xv(t){return t}function Bv(t){return function(e){return Math.log(t*e)}}function bv(t){return function(e){return t*Math.exp(e)}}function Cv(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fv(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Uv(t){return t.replace(/^\w/,(function(t){return t.toUpperCase()}))}function Ev(t){return"scale".concat(Uv(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")).concat(Uv(t))}function Qv(t){if("function"==typeof t.bandwidth)return"function"==typeof t.paddingInner?Ev("band"):Ev("point");if(Xp(Object.keys(t),["domain","range","unknown","copy"]))return Ev("ordinal");var e="";if(t.interpolator&&(e=3===t.domain().length?"diverging":"sequential"),t.quantiles)return Ev("quantile",e);if(t.thresholds)return Ev("quantize",e);if(t.constant)return Ev("symlog",e);if(t.base)return Ev("log",e);if(t.exponent)return.5===t.exponent()?Ev("sqrt",e):Ev("pow",e);if(Xp(Object.keys(t),["domain","range","invertExtent","unknown","copy"]))return Ev("threshold");if(Xp(Object.keys(t),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Ev("identity");if(Xp(Object.keys(t),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Ev("radial");if(e)return Ev(e);if(t.domain()[0]instanceof Date){var n,r=new Date;return r.getDay=function(){return n="time"},r.getUTCDay=function(){return n="utc"},t.tickFormat(0,"%a")(r),Ev(n)}return Ev("linear")}var Iv=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function kv(t,e){if("function"!=typeof t.range)throw console.log(t),new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e)||Iv.includes(Qv(t)))return t.domain();if(!0===Wp(t))return t.domain();var n=function(t){var e,n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){var r=Math.sign(t.domain()[0]);return{lift:Bv(r),ground:bv(r),scaleType:n}}if("pow"===n)return{lift:Fv(1),ground:Fv(1),scaleType:n};if("sqrt"===n)return{lift:Fv(.5),ground:Fv(2),scaleType:n};if("symlog"===n)return{lift:(e=1,function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}),ground:Cv(1),scaleType:n};return{lift:xv,ground:xv,scaleType:n}}(t),r=n.lift,i=n.ground,o=t.domain()[0],a="[object Date]"===Object.prototype.toString.call(o),A=vh(t.domain().map((function(t){return r(a?t.getTime():t)})),2),s=A[0],u=A[1],c=vh(t.range(),2),l=c[0],h=c[1],f=e[0]||0,p=e[1]||0,d=(u-s)/(Math.abs(h-l)-f-p);return[s-f*d,p*d+u].map((function(t){return i(a?new Date(t):t)}))}function Sv(t){return function(e){var n=vh(e,10),r=n[0],i=n[1],o=n[2],a=n[3],A=n[4],s=n[5],u=n[6],c=n[7],l=n[8],h=n[9];if(null===i)return null;var f=function(t,e,n,r,i,o){return i?"function"==typeof i?i({width:e,height:n}):i:function(t,e,n,r,i){var o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?n:"r"===t?25:e),!0===r?[a,o]:[o,a]}(t,e,n,r,o)}(t,u,c,s,l,h),p=r===wv[t]?r():r.copy();return p.domain(o),(!p.interpolator||"function"==typeof p.interpolator&&p.interpolator().name.startsWith("identity"))&&p.range(f),a&&p.domain(kv(p,a)),!0!==A&&"number"!=typeof A||("function"==typeof p.nice?p.nice("number"==typeof A?A:void 0):console.error("[Layer Cake] You set `".concat(t,"Nice: true` but the ").concat(t,"Scale does not have a `.nice` method. Ignoring..."))),p}}function Tv(t){var e=vh(t,2),n=e[0],r=e[1];return function(t){var e=n(t);return Array.isArray(e)?e.map((function(t){return r(t)})):r(e)}}function Mv(t){var e=vh(t,1)[0];if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Dv="    ";function Lv(t){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),function(t){Object.entries(t).forEach((function(t){var e=vh(t,2),n=e[0],r=e[1];console.log("".concat(Dv).concat(n,":"),r)}))}(t.boundingBox),console.log("Scales:\n"),Object.keys(t.activeGetters).forEach((function(e){var n,r,i,o;n=e,r=t["".concat(e,"Scale")],i=t[e],o=Qv(r),console.log("".concat(Dv).concat(n,":")),console.log("".concat(Dv).concat(Dv,'Accessor: "').concat(i.toString(),'"')),console.log("".concat(Dv).concat(Dv,"Type: ").concat(o)),Pv(r,"domain"),Pv(r,"range"," ")})),console.log("/************ End LayerCake Debug ***************/\n")}function Pv(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t[e](),i=function(t){var e=[],n=t.map((function(n,r){var i=function(t){var e=Wd(t),n=e.r,r=e.g,i=e.b,o=e.opacity;return!![n,r,i].every((function(t){return t>=0&&t<=255}))&&{r:n,g:r,b:i,o:o}}(n);if(!1!==i){e.push(i);var o=r===t.length-1?" ":"";return"%c ".concat(n).concat(o)}return n}));if(e.length)return["%c[ ".concat(n.join(", ")),e.map((function(t){return"background-color: rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.o,"); color:").concat((.2126*(e=t).r+.7152*e.g+.0722*e.b)/255>.6?"black":"white",";");var e}))];return null}(r);i?function(t,e,n){var r;(r=console).log.apply(r,["".concat(Dv).concat(Dv).concat(Uv(e),":    %cArray%c(").concat(n.length,") ")+t[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4"].concat(_n(t[1]),["color: #1478e4"]))}(i,e,r):console.log("".concat(Dv).concat(Dv).concat(Uv(e),":").concat(n),r)}function Hv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function zv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zv(Object(n),!0).forEach((function(e){mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rv(t){Uc(t,"svelte-vhzpsp",".layercake-container.svelte-vhzpsp,.layercake-container.svelte-vhzpsp *{box-sizing:border-box}.layercake-container.svelte-vhzpsp{width:100%;height:100%}")}var Ov=function(t){return{element:4&t[0],width:8&t[1],height:16&t[1],aspectRatio:32&t[1],containerWidth:2&t[1],containerHeight:1&t[1],activeGetters:1024&t[0],percentRange:4&t[1],x:268435456&t[0],y:134217728&t[0],z:67108864&t[0],r:33554432&t[0],custom:4096&t[0],data:1073741824&t[0],xNice:16777216&t[0],yNice:8388608&t[0],zNice:4194304&t[0],rNice:2097152&t[0],xReverse:1048576&t[0],yReverse:524288&t[0],zReverse:262144&t[0],rReverse:131072&t[0],xPadding:65536&t[0],yPadding:32768&t[0],zPadding:16384&t[0],rPadding:8192&t[0],padding:64&t[1],flatData:536870912&t[0],extents:128&t[1],xDomain:256&t[1],yDomain:512&t[1],zDomain:1024&t[1],rDomain:2048&t[1],xRange:4096&t[1],yRange:8192&t[1],zRange:16384&t[1],rRange:32768&t[1],config:2048&t[0],xScale:512&t[0],xGet:65536&t[1],yScale:256&t[0],yGet:131072&t[1],zScale:128&t[0],zGet:262144&t[1],rScale:64&t[0],rGet:524288&t[1]}},Kv=function(t){return{element:t[2],width:t[34],height:t[35],aspectRatio:t[36],containerWidth:t[32],containerHeight:t[31],activeGetters:t[10],percentRange:t[33],x:t[28],y:t[27],z:t[26],r:t[25],custom:t[12],data:t[30],xNice:t[24],yNice:t[23],zNice:t[22],rNice:t[21],xReverse:t[20],yReverse:t[19],zReverse:t[18],rReverse:t[17],xPadding:t[16],yPadding:t[15],zPadding:t[14],rPadding:t[13],padding:t[37],flatData:t[29],extents:t[38],xDomain:t[39],yDomain:t[40],zDomain:t[41],rDomain:t[42],xRange:t[43],yRange:t[44],zRange:t[45],rRange:t[46],config:t[11],xScale:t[9],xGet:t[47],yScale:t[8],yGet:t[48],zScale:t[7],zGet:t[49],rScale:t[6],rGet:t[50]}};function Vv(t){var e,n,r,i=t[153].default,o=lc(i,t,t[152],Kv);return{c:function(){e=kc("div"),o&&o.c(),Pc(e,"class","layercake-container svelte-vhzpsp"),ol((function(){return t[155].call(e)})),$c(e,"position",t[5]),$c(e,"top","absolute"===t[5]?"0":null),$c(e,"right","absolute"===t[5]?"0":null),$c(e,"bottom","absolute"===t[5]?"0":null),$c(e,"left","absolute"===t[5]?"0":null),$c(e,"pointer-events",!1===t[4]?"none":null)},m:function(i,a){Ec(i,e,a),o&&o.m(e,null),t[154](e),n=Vc(e,t[155].bind(e)),r=!0},p:function(t,n){o&&o.p&&(!r||2147483588&n[0]|1048575&n[1]|268435456&n[4])&&pc(o,i,t,t[152],r?fc(i,t[152],n,Ov):dc(t[152]),Kv),32&n[0]&&$c(e,"position",t[5]),32&n[0]&&$c(e,"top","absolute"===t[5]?"0":null),32&n[0]&&$c(e,"right","absolute"===t[5]?"0":null),32&n[0]&&$c(e,"bottom","absolute"===t[5]?"0":null),32&n[0]&&$c(e,"left","absolute"===t[5]?"0":null),16&n[0]&&$c(e,"pointer-events",!1===t[4]?"none":null)},i:function(t){r||(dl(o,t),r=!0)},o:function(t){gl(o,t),r=!1},d:function(r){r&&Qc(e),o&&o.d(r),t[154](null),n()}}}function Nv(t){var e,n,r=(!0===t[3]||"undefined"!=typeof window)&&Vv(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,i){r&&r.m(t,i),Ec(t,e,i),n=!0},p:function(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&dl(r,1)):((r=Vv(t)).c(),dl(r,1),r.m(e.parentNode,e)):r&&(fl(),gl(r,1,1,(function(){r=null})),pl())},i:function(t){n||(dl(r),n=!0)},o:function(t){gl(r),n=!1},d:function(t){r&&r.d(t),t&&Qc(e)}}}function Gv(t,e,n){var r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U,E,Q,I,k,S,T,M,D,L,P,H,z,$,R,O,K,V,N,G,j,q,Z,X,W,J,Y,tt,et,nt,rt,it,ot,at,At,st,ut,ct,lt=e.$$slots,ht=void 0===lt?{}:lt,ft=e.$$scope,pt=function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(e),e=setTimeout((function(){t.apply(n,o)}),r)}}(Lv,200),dt=e.ssr,gt=void 0!==dt&&dt,mt=e.pointerEvents,yt=void 0===mt||mt,vt=e.position,_t=void 0===vt?"relative":vt,wt=e.percentRange,xt=void 0!==wt&&wt,Bt=e.width,bt=void 0===Bt?void 0:Bt,Ct=e.height,Ft=void 0===Ct?void 0:Ct,Ut=e.containerWidth,Et=void 0===Ut?bt||100:Ut,Qt=e.containerHeight,It=void 0===Qt?Ft||100:Qt,kt=e.element,St=void 0===kt?void 0:kt,Tt=e.x,Mt=void 0===Tt?void 0:Tt,Dt=e.y,Lt=void 0===Dt?void 0:Dt,Pt=e.z,Ht=void 0===Pt?void 0:Pt,zt=e.r,$t=void 0===zt?void 0:zt,Rt=e.data,Ot=void 0===Rt?[]:Rt,Kt=e.xDomain,Vt=void 0===Kt?void 0:Kt,Nt=e.yDomain,Gt=void 0===Nt?void 0:Nt,jt=e.zDomain,qt=void 0===jt?void 0:jt,Zt=e.rDomain,Xt=void 0===Zt?void 0:Zt,Wt=e.xNice,Jt=void 0!==Wt&&Wt,Yt=e.yNice,te=void 0!==Yt&&Yt,ee=e.zNice,ne=void 0!==ee&&ee,re=e.rNice,ie=void 0!==re&&re,oe=e.xPadding,ae=void 0===oe?void 0:oe,Ae=e.yPadding,se=void 0===Ae?void 0:Ae,ue=e.zPadding,ce=void 0===ue?void 0:ue,le=e.rPadding,he=void 0===le?void 0:le,fe=e.xScale,pe=void 0===fe?wv.x:fe,de=e.yScale,ge=void 0===de?wv.y:de,me=e.zScale,ye=void 0===me?wv.z:me,ve=e.rScale,_e=void 0===ve?wv.r:ve,we=e.xRange,xe=void 0===we?void 0:we,Be=e.yRange,be=void 0===Be?void 0:Be,Ce=e.zRange,Fe=void 0===Ce?void 0:Ce,Ue=e.rRange,Ee=void 0===Ue?void 0:Ue,Qe=e.xReverse,Ie=void 0!==Qe&&Qe,ke=e.yReverse,Se=void 0===ke?void 0:ke,Te=e.zReverse,Me=void 0!==Te&&Te,De=e.rReverse,Le=void 0!==De&&De,Pe=e.padding,He=void 0===Pe?{}:Pe,ze=e.extents,$e=void 0===ze?{}:ze,Re=e.flatData,Oe=void 0===Re?void 0:Re,Ke=e.custom,Ve=void 0===Ke?{}:Ke,Ne=e.debug,Ge=void 0!==Ne&&Ne,je=!1;qc((function(){je=!0}));var qe={},Ze=zp(xt);cc(t,Ze,(function(t){return n(33,j=t)}));var Xe=zp(Et);cc(t,Xe,(function(t){return n(32,G=t)}));var We=zp(It);cc(t,We,(function(t){return n(31,N=t)}));var Je=zp(jp($e));cc(t,Je,(function(t){return n(170,V=t)}));var Ye=zp(Ot);cc(t,Ye,(function(t){return n(30,K=t)}));var tn=zp(Oe||Ot);cc(t,tn,(function(t){return n(29,O=t)}));var en=zp(He);cc(t,en,(function(t){return n(169,R=t)}));var nn=zp(Rp(Mt));cc(t,nn,(function(t){return n(28,$=t)}));var rn=zp(Rp(Lt));cc(t,rn,(function(t){return n(27,z=t)}));var on=zp(Rp(Ht));cc(t,on,(function(t){return n(26,H=t)}));var an=zp(Rp($t));cc(t,an,(function(t){return n(25,P=t)}));var An=zp(Vt);cc(t,An,(function(t){return n(168,L=t)}));var sn=zp(Gt);cc(t,sn,(function(t){return n(167,D=t)}));var un=zp(qt);cc(t,un,(function(t){return n(166,M=t)}));var cn=zp(Xt);cc(t,cn,(function(t){return n(165,T=t)}));var ln=zp(Jt);cc(t,ln,(function(t){return n(24,S=t)}));var hn=zp(te);cc(t,hn,(function(t){return n(23,k=t)}));var fn=zp(ne);cc(t,fn,(function(t){return n(22,I=t)}));var pn=zp(ie);cc(t,pn,(function(t){return n(21,Q=t)}));var dn=zp(Ie);cc(t,dn,(function(t){return n(20,E=t)}));var gn=zp(r);cc(t,gn,(function(t){return n(19,U=t)}));var mn=zp(Me);cc(t,mn,(function(t){return n(18,F=t)}));var yn=zp(Le);cc(t,yn,(function(t){return n(17,C=t)}));var vn=zp(ae);cc(t,vn,(function(t){return n(16,b=t)}));var _n=zp(se);cc(t,_n,(function(t){return n(15,B=t)}));var wn=zp(ce);cc(t,wn,(function(t){return n(14,x=t)}));var xn=zp(he);cc(t,xn,(function(t){return n(13,w=t)}));var Bn=zp(xe);cc(t,Bn,(function(t){return n(164,_=t)}));var bn=zp(be);cc(t,bn,(function(t){return n(163,v=t)}));var Cn=zp(Fe);cc(t,Cn,(function(t){return n(162,y=t)}));var Fn=zp(Ee);cc(t,Fn,(function(t){return n(161,m=t)}));var Un=zp(pe);cc(t,Un,(function(t){return n(160,g=t)}));var En=zp(ge);cc(t,En,(function(t){return n(159,d=t)}));var Qn=zp(ye);cc(t,Qn,(function(t){return n(158,p=t)}));var In=zp(_e);cc(t,In,(function(t){return n(157,f=t)}));var kn=zp(qe);cc(t,kn,(function(t){return n(11,l=t)}));var Sn=zp(Ve);cc(t,Sn,(function(t){return n(12,h=t)}));var Tn=$p([nn,rn,on,an],(function(t){var e=vh(t,4),n=e[0],r=e[1],i=e[2],o=e[3],a={};return n&&(a.x=n),r&&(a.y=r),i&&(a.z=i),o&&(a.r=o),a}));cc(t,Tn,(function(t){return n(10,u=t)}));var Mn=$p([en,Xe,We],(function(t){var e=vh(t,1)[0];return Object.assign({top:0,right:0,bottom:0,left:0},e)}));cc(t,Mn,(function(t){return n(37,W=t)}));var Dn=$p([Xe,We,Mn],(function(t){var e=vh(t,3),n=e[0],r=e[1],i=e[2],o={};return o.top=i.top,o.right=n-i.right,o.bottom=r-i.bottom,o.left=i.left,o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<=0&&!0===je&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),o.height<=0&&!0===je&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),o}));cc(t,Dn,(function(t){return n(151,c=t)}));var Ln=$p([Dn],(function(t){return vh(t,1)[0].width}));cc(t,Ln,(function(t){return n(34,q=t)}));var Pn=$p([Dn],(function(t){return vh(t,1)[0].height}));cc(t,Pn,(function(t){return n(35,Z=t)}));var Hn=$p([tn,Tn,Je,Un,En,In,Qn],(function(t){var e=vh(t,7),n=e[0],r=e[1],i=e[2],o={x:e[3],y:e[4],r:e[5],z:e[6]},a=jp(r,i),A=Object.fromEntries(Object.keys(a).map((function(t){return[t,o[t]]})));return Object.keys(a).length>0?$v($v({},td(n,a,A)),i):{}}));cc(t,Hn,(function(t){return n(38,J=t)}));var zn=$p([Hn,An],ed("x"));cc(t,zn,(function(t){return n(39,Y=t)}));var $n=$p([Hn,sn],ed("y"));cc(t,$n,(function(t){return n(40,tt=t)}));var Rn=$p([Hn,un],ed("z"));cc(t,Rn,(function(t){return n(41,et=t)}));var On=$p([Hn,cn],ed("r"));cc(t,On,(function(t){return n(42,nt=t)}));var Kn=$p([Un,Hn,zn,vn,ln,dn,Ln,Pn,Bn,Ze],Sv("x"));cc(t,Kn,(function(t){return n(9,s=t)}));var Vn=$p([nn,Kn],Tv);cc(t,Vn,(function(t){return n(47,At=t)}));var Nn=$p([En,Hn,$n,_n,hn,gn,Ln,Pn,bn,Ze],Sv("y"));cc(t,Nn,(function(t){return n(8,A=t)}));var Gn=$p([rn,Nn],Tv);cc(t,Gn,(function(t){return n(48,st=t)}));var jn=$p([Qn,Hn,Rn,wn,fn,mn,Ln,Pn,Cn,Ze],Sv("z"));cc(t,jn,(function(t){return n(7,a=t)}));var qn=$p([on,jn],Tv);cc(t,qn,(function(t){return n(49,ut=t)}));var Zn=$p([In,Hn,On,xn,pn,yn,Ln,Pn,Fn,Ze],Sv("r"));cc(t,Zn,(function(t){return n(6,o=t)}));var Xn=$p([an,Zn],Tv);cc(t,Xn,(function(t){return n(50,ct=t)}));var Wn=$p([Kn],Mv);cc(t,Wn,(function(t){return n(43,rt=t)}));var Jn=$p([Nn],Mv);cc(t,Jn,(function(t){return n(44,it=t)}));var Yn=$p([jn],Mv);cc(t,Yn,(function(t){return n(45,ot=t)}));var tr=$p([Zn],Mv);cc(t,tr,(function(t){return n(46,at=t)}));var er=$p([Ln,Pn],(function(t){var e=vh(t,2);return e[0]/e[1]}));return cc(t,er,(function(t){return n(36,X=t)})),t.$$set=function(t){"ssr"in t&&n(3,gt=t.ssr),"pointerEvents"in t&&n(4,yt=t.pointerEvents),"position"in t&&n(5,_t=t.position),"percentRange"in t&&n(111,xt=t.percentRange),"width"in t&&n(112,bt=t.width),"height"in t&&n(113,Ft=t.height),"containerWidth"in t&&n(0,Et=t.containerWidth),"containerHeight"in t&&n(1,It=t.containerHeight),"element"in t&&n(2,St=t.element),"x"in t&&n(114,Mt=t.x),"y"in t&&n(115,Lt=t.y),"z"in t&&n(116,Ht=t.z),"r"in t&&n(117,$t=t.r),"data"in t&&n(118,Ot=t.data),"xDomain"in t&&n(119,Vt=t.xDomain),"yDomain"in t&&n(120,Gt=t.yDomain),"zDomain"in t&&n(121,qt=t.zDomain),"rDomain"in t&&n(122,Xt=t.rDomain),"xNice"in t&&n(123,Jt=t.xNice),"yNice"in t&&n(124,te=t.yNice),"zNice"in t&&n(125,ne=t.zNice),"rNice"in t&&n(126,ie=t.rNice),"xPadding"in t&&n(127,ae=t.xPadding),"yPadding"in t&&n(128,se=t.yPadding),"zPadding"in t&&n(129,ce=t.zPadding),"rPadding"in t&&n(130,he=t.rPadding),"xScale"in t&&n(131,pe=t.xScale),"yScale"in t&&n(132,ge=t.yScale),"zScale"in t&&n(133,ye=t.zScale),"rScale"in t&&n(134,_e=t.rScale),"xRange"in t&&n(135,xe=t.xRange),"yRange"in t&&n(136,be=t.yRange),"zRange"in t&&n(137,Fe=t.zRange),"rRange"in t&&n(138,Ee=t.rRange),"xReverse"in t&&n(139,Ie=t.xReverse),"yReverse"in t&&n(140,Se=t.yReverse),"zReverse"in t&&n(141,Me=t.zReverse),"rReverse"in t&&n(142,Le=t.rReverse),"padding"in t&&n(143,He=t.padding),"extents"in t&&n(144,$e=t.extents),"flatData"in t&&n(145,Oe=t.flatData),"custom"in t&&n(146,Ve=t.custom),"debug"in t&&n(147,Ge=t.debug),"$$scope"in t&&n(152,ft=t.$$scope)},t.$$.update=function(){65792&t.$$.dirty[4]&&n(150,r=void 0===Se?"function"!=typeof ge.bandwidth:Se),2097152&t.$$.dirty[3]&&Mt&&n(148,qe.x=Mt,qe),4194304&t.$$.dirty[3]&&Lt&&n(148,qe.y=Lt,qe),8388608&t.$$.dirty[3]&&Ht&&n(148,qe.z=Ht,qe),16777216&t.$$.dirty[3]&&$t&&n(148,qe.r=$t,qe),67108864&t.$$.dirty[3]&&Vt&&n(148,qe.xDomain=Vt,qe),134217728&t.$$.dirty[3]&&Gt&&n(148,qe.yDomain=Gt,qe),268435456&t.$$.dirty[3]&&qt&&n(148,qe.zDomain=qt,qe),536870912&t.$$.dirty[3]&&Xt&&n(148,qe.rDomain=Xt,qe),2048&t.$$.dirty[4]&&xe&&n(148,qe.xRange=xe,qe),4096&t.$$.dirty[4]&&be&&n(148,qe.yRange=be,qe),8192&t.$$.dirty[4]&&Fe&&n(148,qe.zRange=Fe,qe),16384&t.$$.dirty[4]&&Ee&&n(148,qe.rRange=Ee,qe),262144&t.$$.dirty[3]&&gc(Ze,j=xt,j),1&t.$$.dirty[0]&&gc(Xe,G=Et,G),2&t.$$.dirty[0]&&gc(We,N=It,N),1048576&t.$$.dirty[4]&&gc(Je,V=jp($e),V),33554432&t.$$.dirty[3]&&gc(Ye,K=Ot,K),33554432&t.$$.dirty[3]|2097152&t.$$.dirty[4]&&gc(tn,O=Oe||Ot,O),524288&t.$$.dirty[4]&&gc(en,R=He,R),2097152&t.$$.dirty[3]&&gc(nn,$=Rp(Mt),$),4194304&t.$$.dirty[3]&&gc(rn,z=Rp(Lt),z),8388608&t.$$.dirty[3]&&gc(on,H=Rp(Ht),H),16777216&t.$$.dirty[3]&&gc(an,P=Rp($t),P),67108864&t.$$.dirty[3]&&gc(An,L=Vt,L),134217728&t.$$.dirty[3]&&gc(sn,D=Gt,D),268435456&t.$$.dirty[3]&&gc(un,M=qt,M),536870912&t.$$.dirty[3]&&gc(cn,T=Xt,T),1073741824&t.$$.dirty[3]&&gc(ln,S=Jt,S),1&t.$$.dirty[4]&&gc(hn,k=te,k),2&t.$$.dirty[4]&&gc(fn,I=ne,I),4&t.$$.dirty[4]&&gc(pn,Q=ie,Q),32768&t.$$.dirty[4]&&gc(dn,E=Ie,E),67108864&t.$$.dirty[4]&&gc(gn,U=r,U),131072&t.$$.dirty[4]&&gc(mn,F=Me,F),262144&t.$$.dirty[4]&&gc(yn,C=Le,C),8&t.$$.dirty[4]&&gc(vn,b=ae,b),16&t.$$.dirty[4]&&gc(_n,B=se,B),32&t.$$.dirty[4]&&gc(wn,x=ce,x),64&t.$$.dirty[4]&&gc(xn,w=he,w),2048&t.$$.dirty[4]&&gc(Bn,_=xe,_),4096&t.$$.dirty[4]&&gc(bn,v=be,v),8192&t.$$.dirty[4]&&gc(Cn,y=Fe,y),16384&t.$$.dirty[4]&&gc(Fn,m=Ee,m),128&t.$$.dirty[4]&&gc(Un,g=pe,g),256&t.$$.dirty[4]&&gc(En,d=ge,d),512&t.$$.dirty[4]&&gc(Qn,p=ye,p),1024&t.$$.dirty[4]&&gc(In,f=_e,f),4194304&t.$$.dirty[4]&&gc(Sn,h=Ve,h),16777216&t.$$.dirty[4]&&gc(kn,l=qe,l),33554432&t.$$.dirty[4]&&Xc("LayerCake",i),1992&t.$$.dirty[0]|159383552&t.$$.dirty[4]&&(!c||!0!==Ge||!0!==gt&&"undefined"==typeof window||pt({boundingBox:c,activeGetters:u,x:qe.x,y:qe.y,z:qe.z,r:qe.r,xScale:s,yScale:A,zScale:a,rScale:o}))},n(149,i={activeGetters:Tn,width:Ln,height:Pn,percentRange:Ze,aspectRatio:er,containerWidth:Xe,containerHeight:We,x:nn,y:rn,z:on,r:an,custom:Sn,data:Ye,xNice:ln,yNice:hn,zNice:fn,rNice:pn,xReverse:dn,yReverse:gn,zReverse:mn,rReverse:yn,xPadding:vn,yPadding:_n,zPadding:wn,rPadding:xn,padding:Mn,flatData:tn,extents:Hn,xDomain:zn,yDomain:$n,zDomain:Rn,rDomain:On,xRange:Wn,yRange:Jn,zRange:Yn,rRange:tr,config:kn,xScale:Kn,xGet:Vn,yScale:Nn,yGet:Gn,zScale:jn,zGet:qn,rScale:Zn,rGet:Xn}),[Et,It,St,gt,yt,_t,o,a,A,s,u,l,h,w,x,B,b,C,F,U,E,Q,I,k,S,P,H,z,$,O,K,N,G,j,q,Z,X,W,J,Y,tt,et,nt,rt,it,ot,at,At,st,ut,ct,Ze,Xe,We,Je,Ye,tn,en,nn,rn,on,an,An,sn,un,cn,ln,hn,fn,pn,dn,gn,mn,yn,vn,_n,wn,xn,Bn,bn,Cn,Fn,Un,En,Qn,In,kn,Sn,Tn,Mn,Dn,Ln,Pn,Hn,zn,$n,Rn,On,Kn,Vn,Nn,Gn,jn,qn,Zn,Xn,Wn,Jn,Yn,tr,er,xt,bt,Ft,Mt,Lt,Ht,$t,Ot,Vt,Gt,qt,Xt,Jt,te,ne,ie,ae,se,ce,he,pe,ge,ye,_e,xe,be,Fe,Ee,Ie,Se,Me,Le,He,$e,Oe,Ve,Ge,qe,i,r,c,ft,ht,function(t){tl[t?"unshift":"push"]((function(){n(2,St=t)}))},function(){Et=this.clientWidth,It=this.clientHeight,n(0,Et),n(1,It)}]}var jv=function(t){fn(n,t);var e=Hv(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Gv,Nv,Ac,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},Rv,[-1,-1,-1,-1,-1,-1]),r}return n}(Bl);function qv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Zv(t){Uc(t,"svelte-u84d8d","svg.svelte-u84d8d{position:absolute;top:0;left:0;overflow:visible}")}var Xv=function(t){return{element:1&t}},Wv=function(t){return{element:t[0]}},Jv=function(t){return{element:1&t}},Yv=function(t){return{element:t[0]}},t_=function(t){return{element:1&t}},e_=function(t){return{element:t[0]}};function n_(t){var e,n;return{c:function(){e=Sc("title"),n=Tc(t[8])},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,e){256&e&&zc(n,t[8])},d:function(t){t&&Qc(e)}}}function r_(t){var e,n,r,i,o,a=t[16].title,A=lc(a,t,t[15],e_),s=A||function(t){var e,n=t[8]&&n_(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){t[8]?n?n.p(t,r):((n=n_(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d:function(t){n&&n.d(t),t&&Qc(e)}}}(t),u=t[16].defs,c=lc(u,t,t[15],Yv),l=t[16].default,h=lc(l,t,t[15],Wv);return{c:function(){e=Sc("svg"),s&&s.c(),n=Sc("defs"),c&&c.c(),r=Sc("g"),h&&h.c(),Pc(r,"class","layercake-layout-svg_g"),Pc(r,"transform",i="translate("+t[11].left+", "+t[11].top+")"),Pc(e,"class","layercake-layout-svg svelte-u84d8d"),Pc(e,"viewBox",t[4]),Pc(e,"width",t[9]),Pc(e,"height",t[10]),Pc(e,"aria-label",t[5]),Pc(e,"aria-labelledby",t[6]),Pc(e,"aria-describedby",t[7]),$c(e,"z-index",t[2]),$c(e,"pointer-events",!1===t[3]?"none":null)},m:function(i,a){Ec(i,e,a),s&&s.m(e,null),Fc(e,n),c&&c.m(n,null),Fc(e,r),h&&h.m(r,null),t[17](r),t[18](e),o=!0},p:function(t,n){var f=vh(n,1)[0];A?A.p&&(!o||32769&f)&&pc(A,a,t,t[15],o?fc(a,t[15],f,t_):dc(t[15]),e_):s&&s.p&&(!o||256&f)&&s.p(t,o?f:-1),c&&c.p&&(!o||32769&f)&&pc(c,u,t,t[15],o?fc(u,t[15],f,Jv):dc(t[15]),Yv),h&&h.p&&(!o||32769&f)&&pc(h,l,t,t[15],o?fc(l,t[15],f,Xv):dc(t[15]),Wv),(!o||2048&f&&i!==(i="translate("+t[11].left+", "+t[11].top+")"))&&Pc(r,"transform",i),(!o||16&f)&&Pc(e,"viewBox",t[4]),(!o||512&f)&&Pc(e,"width",t[9]),(!o||1024&f)&&Pc(e,"height",t[10]),(!o||32&f)&&Pc(e,"aria-label",t[5]),(!o||64&f)&&Pc(e,"aria-labelledby",t[6]),(!o||128&f)&&Pc(e,"aria-describedby",t[7]),4&f&&$c(e,"z-index",t[2]),8&f&&$c(e,"pointer-events",!1===t[3]?"none":null)},i:function(t){o||(dl(s,t),dl(c,t),dl(h,t),o=!0)},o:function(t){gl(s,t),gl(c,t),gl(h,t),o=!1},d:function(n){n&&Qc(e),s&&s.d(n),c&&c.d(n),h&&h.d(n),t[17](null),t[18](null)}}}function i_(t,e,n){var r,i,o,a=e.$$slots,A=void 0===a?{}:a,s=e.$$scope,u=e.element,c=void 0===u?void 0:u,l=e.innerElement,h=void 0===l?void 0:l,f=e.zIndex,p=void 0===f?void 0:f,d=e.pointerEvents,g=void 0===d?void 0:d,m=e.viewBox,y=void 0===m?void 0:m,v=e.label,_=void 0===v?void 0:v,w=e.labelledBy,x=void 0===w?void 0:w,B=e.describedBy,b=void 0===B?void 0:B,C=e.title,F=void 0===C?void 0:C,U=Wc("LayerCake"),E=U.containerWidth,Q=U.containerHeight,I=U.padding;return cc(t,E,(function(t){return n(9,r=t)})),cc(t,Q,(function(t){return n(10,i=t)})),cc(t,I,(function(t){return n(11,o=t)})),t.$$set=function(t){"element"in t&&n(0,c=t.element),"innerElement"in t&&n(1,h=t.innerElement),"zIndex"in t&&n(2,p=t.zIndex),"pointerEvents"in t&&n(3,g=t.pointerEvents),"viewBox"in t&&n(4,y=t.viewBox),"label"in t&&n(5,_=t.label),"labelledBy"in t&&n(6,x=t.labelledBy),"describedBy"in t&&n(7,b=t.describedBy),"title"in t&&n(8,F=t.title),"$$scope"in t&&n(15,s=t.$$scope)},[c,h,p,g,y,_,x,b,F,r,i,o,E,Q,I,s,A,function(t){tl[t?"unshift":"push"]((function(){n(1,h=t)}))},function(t){tl[t?"unshift":"push"]((function(){n(0,c=t)}))}]}var o_=function(t){fn(n,t);var e=qv(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,i_,r_,Ac,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8},Zv),r}return n}(Bl);function a_(t){t.nextSibling&&t.parentNode.appendChild(t)}function A_(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function s_(t){return"[object Date]"===Object.prototype.toString.call(t)}function u_(t,e){if(t===e||t!=t)return function(){return t};var n=pn(t);if(n!==pn(e)||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){var r=e.map((function(e,n){return u_(t[n],e)}));return function(t){return r.map((function(e){return e(t)}))}}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(s_(t)&&s_(e)){t=t.getTime();var i=(e=e.getTime())-t;return function(e){return new Date(t+e*i)}}var o=Object.keys(e),a={};return o.forEach((function(n){a[n]=u_(t[n],e[n])})),function(t){var e={};return o.forEach((function(n){e[n]=a[n](t)})),e}}if("number"===n){var A=e-t;return function(e){return t+e*A}}throw new Error("Cannot interpolate ".concat(n," values"))}function c_(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=zp(t),i=t;function o(o,a){if(null==t)return r.set(t=o),Promise.resolve();i=o;var A=e,s=!1,u=nc(nc({},n),a),c=u.delay,l=void 0===c?0:c,h=u.duration,f=void 0===h?400:h,p=u.easing,d=void 0===p?ec:p,g=u.interpolate,m=void 0===g?u_:g;if(0===f)return A&&(A.abort(),A=null),r.set(t=i),Promise.resolve();var y,v=vc()+l;return e=function(t){var e;return 0===wc.size&&_c(xc),{promise:new Promise((function(n){wc.add(e={c:t,f:n})})),abort:function(){wc.delete(e)}}}((function(e){if(e<v)return!0;s||(y=m(t,o),"function"==typeof f&&(f=f(t,o)),s=!0),A&&(A.abort(),A=null);var n=e-v;return n>f?(r.set(t=o),!1):(r.set(t=y(d(n/f))),!0)})),e.promise}return{set:o,update:function(e,n){return o(e(i,t),n)},subscribe:r.subscribe}}a&&("g"!=/./g.flags||Aa.UNSUPPORTED_Y)&&S.f(RegExp.prototype,"flags",{configurable:!0,get:ra});var l_=String.fromCharCode,h_=String.fromCodePoint,f_=!!h_&&1!=h_.length;Lt({target:"String",stat:!0,forced:f_},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],mt(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?l_(e):l_(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),Lt({target:"String",proto:!0},{repeat:qe}),ps("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),ps("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var p_=e((function(t,e){
/*!
	   * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
	   * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
	   * Released under MIT License
	   */
t.exports=function(){
/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.
	      Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.
	      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */
var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},n.apply(this,arguments)};function r(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{s(r.next(t))}catch(t){o(t)}}function A(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?n(t.value):i(t.value).then(a,A)}s((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function A(t){return function(e){return s([t,e])}}function s(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}for(var a=function(){function t(t,e,n,r){this.left=t,this.top=e,this.width=n,this.height=r}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find((function(t){return 0!==t.width}));return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),A=function(t,e){return a.fromClientRect(t,e.getBoundingClientRect())},s=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new a(0,0,r,i)},u=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e},c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<l.length;f++)h[l.charCodeAt(f)]=f;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)d[p.charCodeAt(g)]=g;for(var m=function(t){var e,n,r,i,o,a=.75*t.length,A=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(u)?u:new Uint8Array(u);for(e=0;e<A;e+=4)n=d[t.charCodeAt(e)],r=d[t.charCodeAt(e+1)],i=d[t.charCodeAt(e+2)],o=d[t.charCodeAt(e+3)],c[s++]=n<<2|r>>4,c[s++]=(15&r)<<4|i>>2,c[s++]=(3&i)<<6|63&o;return u},y=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},v=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},_=5,w=11,x=2,B=65536>>_,b=(1<<_)-1,C=B+(1024>>_)+32,F=65536>>w,U=(1<<w-_)-1,E=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Q=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},I=function(t,e){var n=m(t),r=Array.isArray(n)?v(n):new Uint32Array(n),i=Array.isArray(n)?y(n):new Uint16Array(n),o=24,a=E(i,o/2,r[4]/2),A=2===r[5]?E(i,(o+r[4])/2):Q(r,Math.ceil((o+r[4])/4));return new k(r[0],r[1],r[2],r[3],a,A)},k=function(){function t(t,e,n,r,i,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>_])<<x)+(t&b),this.data[e];if(t<=65535)return e=((e=this.index[B+(t-55296>>_)])<<x)+(t&b),this.data[e];if(t<this.highStart)return e=C-F+(t>>w),e=this.index[e],e+=t>>_&U,e=((e=this.index[e])<<x)+(t&b),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T="undefined"==typeof Uint8Array?[]:new Uint8Array(256),M=0;M<S.length;M++)T[S.charCodeAt(M)]=M;var D=50,L=1,P=2,H=3,z=4,$=5,R=7,O=8,K=9,V=10,N=11,G=12,j=13,q=14,Z=15,X=16,W=17,J=18,Y=19,tt=20,et=21,nt=22,rt=23,it=24,ot=25,at=26,At=27,st=28,ut=29,ct=30,lt=31,ht=32,ft=33,pt=34,dt=35,gt=36,mt=37,yt=38,vt=39,_t=40,wt=41,xt=42,Bt=43,bt=[9001,65288],Ct="!",Ft="×",Ut="÷",Et=I("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Qt=[ct,gt],It=[L,P,H,$],kt=[V,O],St=[At,at],Tt=It.concat(kt),Mt=[yt,vt,_t,pt,dt],Dt=[Z,j],Lt=function(t,e){void 0===e&&(e="strict");var n=[],r=[],i=[];return t.forEach((function(t,o){var a=Et.get(t);if(a>D?(i.push(!0),a-=D):i.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(o),n.push(X);if(a===z||a===N){if(0===o)return r.push(o),n.push(ct);var A=n[o-1];return-1===Tt.indexOf(A)?(r.push(r[o-1]),n.push(A)):(r.push(o),n.push(ct))}return r.push(o),a===lt?n.push("strict"===e?et:mt):a===xt||a===ut?n.push(ct):a===Bt?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(mt):n.push(ct):void n.push(a)})),[r,n,i]},Pt=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?-1!==t.indexOf(i):t===i)for(var o=n;o<=r.length;){if((s=r[++o])===e)return!0;if(s!==V)break}if(i===V)for(o=n;o>0;){var a=r[--o];if(Array.isArray(t)?-1!==t.indexOf(a):t===a)for(var A=n;A<=r.length;){var s;if((s=r[++A])===e)return!0;if(s!==V)break}if(a!==V)break}return!1},Ht=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r!==V)return r;n--}return 0},zt=function(t,e,n,r,i){if(0===n[r])return Ft;var o=r-1;if(Array.isArray(i)&&!0===i[o])return Ft;var a=o-1,A=o+1,s=e[o],u=a>=0?e[a]:0,c=e[A];if(s===P&&c===H)return Ft;if(-1!==It.indexOf(s))return Ct;if(-1!==It.indexOf(c))return Ft;if(-1!==kt.indexOf(c))return Ft;if(Ht(o,e)===O)return Ut;if(Et.get(t[o])===N)return Ft;if((s===ht||s===ft)&&Et.get(t[A])===N)return Ft;if(s===R||c===R)return Ft;if(s===K)return Ft;if(-1===[V,j,Z].indexOf(s)&&c===K)return Ft;if(-1!==[W,J,Y,it,st].indexOf(c))return Ft;if(Ht(o,e)===nt)return Ft;if(Pt(rt,nt,o,e))return Ft;if(Pt([W,J],et,o,e))return Ft;if(Pt(G,G,o,e))return Ft;if(s===V)return Ut;if(s===rt||c===rt)return Ft;if(c===X||s===X)return Ut;if(-1!==[j,Z,et].indexOf(c)||s===q)return Ft;if(u===gt&&-1!==Dt.indexOf(s))return Ft;if(s===st&&c===gt)return Ft;if(c===tt)return Ft;if(-1!==Qt.indexOf(c)&&s===ot||-1!==Qt.indexOf(s)&&c===ot)return Ft;if(s===At&&-1!==[mt,ht,ft].indexOf(c)||-1!==[mt,ht,ft].indexOf(s)&&c===at)return Ft;if(-1!==Qt.indexOf(s)&&-1!==St.indexOf(c)||-1!==St.indexOf(s)&&-1!==Qt.indexOf(c))return Ft;if(-1!==[At,at].indexOf(s)&&(c===ot||-1!==[nt,Z].indexOf(c)&&e[A+1]===ot)||-1!==[nt,Z].indexOf(s)&&c===ot||s===ot&&-1!==[ot,st,it].indexOf(c))return Ft;if(-1!==[ot,st,it,W,J].indexOf(c))for(var l=o;l>=0;){if((h=e[l])===ot)return Ft;if(-1===[st,it].indexOf(h))break;l--}if(-1!==[At,at].indexOf(c))for(l=-1!==[W,J].indexOf(s)?a:o;l>=0;){var h;if((h=e[l])===ot)return Ft;if(-1===[st,it].indexOf(h))break;l--}if(yt===s&&-1!==[yt,vt,pt,dt].indexOf(c)||-1!==[vt,pt].indexOf(s)&&-1!==[vt,_t].indexOf(c)||-1!==[_t,dt].indexOf(s)&&c===_t)return Ft;if(-1!==Mt.indexOf(s)&&-1!==[tt,at].indexOf(c)||-1!==Mt.indexOf(c)&&s===At)return Ft;if(-1!==Qt.indexOf(s)&&-1!==Qt.indexOf(c))return Ft;if(s===it&&-1!==Qt.indexOf(c))return Ft;if(-1!==Qt.concat(ot).indexOf(s)&&c===nt&&-1===bt.indexOf(t[A])||-1!==Qt.concat(ot).indexOf(c)&&s===J)return Ft;if(s===wt&&c===wt){for(var f=n[o],p=1;f>0&&e[--f]===wt;)p++;if(p%2!=0)return Ft}return s===ht&&c===ft?Ft:Ut},$t=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=Lt(t,e.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map((function(t){return-1!==[ot,ct,xt].indexOf(t)?mt:t})));var a="keep-all"===e.wordBreak?o.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0;return[r,i,a]},Rt=function(){function t(t,e,n,r){this.codePoints=t,this.required=e===Ct,this.start=n,this.end=r}return t.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Ot=function(t,e){var n=u(t),r=$t(n,e),i=r[0],o=r[1],a=r[2],A=n.length,s=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var t=Ft;c<A&&(t=zt(n,o,i,++c,a))===Ft;);if(t!==Ft||c===A){var e=new Rt(n,t,s,c);return s=c,{value:e,done:!1}}return{done:!0,value:null}}}},Kt=1,Vt=2,Nt=4,Gt=8,jt=10,qt=47,Zt=92,Xt=9,Wt=32,Jt=34,Yt=61,te=35,ee=36,ne=37,re=39,ie=40,oe=41,ae=95,Ae=45,se=33,ue=60,ce=62,le=64,he=91,fe=93,pe=61,de=123,ge=63,me=125,ye=124,ve=126,_e=128,we=65533,xe=42,Be=43,be=44,Ce=58,Fe=59,Ue=46,Ee=0,Qe=8,Ie=11,ke=14,Se=31,Te=127,Me=-1,De=48,Le=97,Pe=101,He=102,ze=117,$e=122,Re=65,Oe=69,Ke=70,Ve=85,Ne=90,Ge=function(t){return t>=De&&t<=57},je=function(t){return t>=55296&&t<=57343},qe=function(t){return Ge(t)||t>=Re&&t<=Ke||t>=Le&&t<=He},Ze=function(t){return t>=Le&&t<=$e},Xe=function(t){return t>=Re&&t<=Ne},We=function(t){return Ze(t)||Xe(t)},Je=function(t){return t>=_e},Ye=function(t){return t===jt||t===Xt||t===Wt},tn=function(t){return We(t)||Je(t)||t===ae},en=function(t){return tn(t)||Ge(t)||t===Ae},nn=function(t){return t>=Ee&&t<=Qe||t===Ie||t>=ke&&t<=Se||t===Te},rn=function(t,e){return t===Zt&&e!==jt},on=function(t,e,n){return t===Ae?tn(e)||rn(e,n):!!tn(t)||!(t!==Zt||!rn(t,e))},an=function(t,e,n){return t===Be||t===Ae?!!Ge(e)||e===Ue&&Ge(n):Ge(t===Ue?e:t)},An=function(t){var e=0,n=1;t[e]!==Be&&t[e]!==Ae||(t[e]===Ae&&(n=-1),e++);for(var r=[];Ge(t[e]);)r.push(t[e++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;t[e]===Ue&&e++;for(var o=[];Ge(t[e]);)o.push(t[e++]);var a=o.length,A=a?parseInt(c.apply(void 0,o),10):0;t[e]!==Oe&&t[e]!==Pe||e++;var s=1;t[e]!==Be&&t[e]!==Ae||(t[e]===Ae&&(s=-1),e++);for(var u=[];Ge(t[e]);)u.push(t[e++]);var l=u.length?parseInt(c.apply(void 0,u),10):0;return n*(i+A*Math.pow(10,-a))*Math.pow(10,s*l)},sn={type:2},un={type:3},cn={type:4},ln={type:13},hn={type:8},fn={type:21},dn={type:9},gn={type:10},mn={type:11},yn={type:12},vn={type:14},_n={type:23},wn={type:1},xn={type:25},Bn={type:24},bn={type:26},Cn={type:27},Fn={type:28},Un={type:29},En={type:31},Qn={type:32},In=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(u(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Qn;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Jt:return this.consumeStringToken(Jt);case te:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(en(e)||rn(n,r)){var i=on(e,n,r)?Vt:Kt;return{type:5,value:this.consumeName(),flags:i}}break;case ee:if(this.peekCodePoint(0)===Yt)return this.consumeCodePoint(),ln;break;case re:return this.consumeStringToken(re);case ie:return sn;case oe:return un;case xe:if(this.peekCodePoint(0)===Yt)return this.consumeCodePoint(),vn;break;case Be:if(an(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case be:return cn;case Ae:var o=t,a=this.peekCodePoint(0),A=this.peekCodePoint(1);if(an(o,a,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(on(o,a,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(a===Ae&&A===ce)return this.consumeCodePoint(),this.consumeCodePoint(),Bn;break;case Ue:if(an(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case qt:if(this.peekCodePoint(0)===xe)for(this.consumeCodePoint();;){var s=this.consumeCodePoint();if(s===xe&&(s=this.consumeCodePoint())===qt)return this.consumeToken();if(s===Me)return this.consumeToken()}break;case Ce:return bn;case Fe:return Cn;case ue:if(this.peekCodePoint(0)===se&&this.peekCodePoint(1)===Ae&&this.peekCodePoint(2)===Ae)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case le:var u=this.peekCodePoint(0),l=this.peekCodePoint(1),h=this.peekCodePoint(2);if(on(u,l,h))return{type:7,value:this.consumeName()};break;case he:return Fn;case Zt:if(rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case fe:return Un;case pe:if(this.peekCodePoint(0)===Yt)return this.consumeCodePoint(),hn;break;case de:return mn;case me:return yn;case ze:case Ve:var f=this.peekCodePoint(0),p=this.peekCodePoint(1);return f!==Be||!qe(p)&&p!==ge||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case ye:if(this.peekCodePoint(0)===Yt)return this.consumeCodePoint(),dn;if(this.peekCodePoint(0)===ye)return this.consumeCodePoint(),fn;break;case ve:if(this.peekCodePoint(0)===Yt)return this.consumeCodePoint(),gn;break;case Me:return Qn}return Ye(t)?(this.consumeWhiteSpace(),En):Ge(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):tn(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:c(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();qe(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;e===ge&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,t.map((function(t){return t===ge?De:t}))),16),end:parseInt(c.apply(void 0,t.map((function(t){return t===ge?Ke:t}))),16)};var r=parseInt(c.apply(void 0,t),16);if(this.peekCodePoint(0)===Ae&&qe(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var i=[];qe(e)&&i.length<6;)i.push(e),e=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,i),16)}}return{type:30,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&this.peekCodePoint(0)===ie?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===ie?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Me)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===re||e===Jt){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Me||this.peekCodePoint(0)===oe)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),_n)}for(;;){var r=this.consumeCodePoint();if(r===Me||r===oe)return{type:22,value:c.apply(void 0,t)};if(Ye(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Me||this.peekCodePoint(0)===oe?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,t)}):(this.consumeBadUrlRemnants(),_n);if(r===Jt||r===re||r===ie||nn(r))return this.consumeBadUrlRemnants(),_n;if(r===Zt){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),_n;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;Ye(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===oe||t===Me)return;rn(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e=5e4,n="";t>0;){var r=Math.min(e,t);n+=c.apply(void 0,this._value.splice(0,r)),t-=r}return this._value.shift(),n},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var r=this._value[n];if(r===Me||void 0===r||r===t)return{type:0,value:e+=this.consumeStringSlice(n)};if(r===jt)return this._value.splice(0,n),wn;if(r===Zt){var i=this._value[n+1];i!==Me&&void 0!==i&&(i===jt?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(e+=this.consumeStringSlice(n),e+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=Nt,n=this.peekCodePoint(0);for(n!==Be&&n!==Ae||t.push(this.consumeCodePoint());Ge(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Ue&&Ge(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Gt;Ge(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Oe||n===Pe)&&((r===Be||r===Ae)&&Ge(i)||Ge(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Gt;Ge(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[An(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return on(r,i,o)?{type:15,number:e,flags:n,unit:this.consumeName()}:r===ne?(this.consumeCodePoint(),{type:16,number:e,flags:n}):{type:17,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(qe(t)){for(var e=c(t);qe(this.peekCodePoint(0))&&e.length<6;)e+=c(this.consumeCodePoint());Ye(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||je(n)||n>1114111?we:n}return t===Me?we:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(en(e))t+=c(e);else{if(!rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=c(this.consumeEscapedCodePoint())}}},t}(),kn=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new In;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(32===n.type||$n(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Qn:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Sn=function(t){return 15===t.type},Tn=function(t){return 17===t.type},Mn=function(t){return 20===t.type},Dn=function(t){return 0===t.type},Ln=function(t,e){return Mn(t)&&t.value===e},Pn=function(t){return 31!==t.type},Hn=function(t){return 31!==t.type&&4!==t.type},zn=function(t){var e=[],n=[];return t.forEach((function(t){if(4===t.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}31!==t.type&&n.push(t)})),n.length&&e.push(n),e},$n=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Rn=function(t){return 17===t.type||15===t.type},On=function(t){return 16===t.type||Rn(t)},Kn=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Vn={type:17,number:0,flags:Nt},Nn={type:16,number:50,flags:Nt},Gn={type:16,number:100,flags:Nt},jn=function(t,e,n){var r=t[0],i=t[1];return[qn(r,e),qn(void 0!==i?i:r,n)]},qn=function(t,e){if(16===t.type)return t.number/100*e;if(Sn(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},Zn="deg",Xn="grad",Wn="rad",Jn="turn",Yn={name:"angle",parse:function(t,e){if(15===e.type)switch(e.unit){case Zn:return Math.PI*e.number/180;case Xn:return Math.PI/200*e.number;case Wn:return e.number;case Jn:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")}},tr=function(t){return 15===t.type&&(t.unit===Zn||t.unit===Xn||t.unit===Wn||t.unit===Jn)},er=function(t){switch(t.filter(Mn).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vn,Vn];case"to top":case"bottom":return nr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vn,Gn];case"to right":case"left":return nr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gn,Gn];case"to bottom":case"top":return nr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gn,Vn];case"to left":case"right":return nr(270)}return 0},nr=function(t){return Math.PI*t/180},rr={name:"color",parse:function(t,e){if(18===e.type){var n=lr[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(5===e.type){if(3===e.value.length){var r=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===e.value.length){r=e.value.substring(0,1),i=e.value.substring(1,2),o=e.value.substring(2,3);var a=e.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(a+a,16)/255)}if(6===e.value.length)return r=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),ar(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===e.value.length)return r=e.value.substring(0,2),i=e.value.substring(2,4),o=e.value.substring(4,6),a=e.value.substring(6,8),ar(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(a,16)/255)}if(20===e.type){var A=fr[e.value.toUpperCase()];if(void 0!==A)return A}return fr.TRANSPARENT}},ir=function(t){return 0==(255&t)},or=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},ar=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(255*r)<<0)>>>0},Ar=function(t,e){if(17===t.type)return t.number;if(16===t.type){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},sr=function(t,e){var n=e.filter(Hn);if(3===n.length){var r=n.map(Ar),i=r[0],o=r[1],a=r[2];return ar(i,o,a,1)}if(4===n.length){var A=n.map(Ar),s=(i=A[0],o=A[1],a=A[2],A[3]);return ar(i,o,a,s)}return 0};function ur(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var cr=function(t,e){var n=e.filter(Hn),r=n[0],i=n[1],o=n[2],a=n[3],A=(17===r.type?nr(r.number):Yn.parse(t,r))/(2*Math.PI),s=On(i)?i.number/100:0,u=On(o)?o.number/100:0,c=void 0!==a&&On(a)?qn(a,1):1;if(0===s)return ar(255*u,255*u,255*u,1);var l=u<=.5?u*(s+1):u+s-u*s,h=2*u-l,f=ur(h,l,A+1/3),p=ur(h,l,A),d=ur(h,l,A-1/3);return ar(255*f,255*p,255*d,c)},lr={hsl:cr,hsla:cr,rgb:sr,rgba:sr},hr=function(t,e){return rr.parse(t,kn.create(e).parseComponentValue())},fr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},pr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},dr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gr=function(t,e){var n=rr.parse(t,e[0]),r=e[1];return r&&On(r)?{color:n,stop:r}:{color:n,stop:null}},mr=function(t,e){var n=t[0],r=t[t.length-1];null===n.stop&&(n.stop=Vn),null===r.stop&&(r.stop=Gn);for(var i=[],o=0,a=0;a<t.length;a++){var A=t[a].stop;if(null!==A){var s=qn(A,e);s>o?i.push(s):i.push(o),o=s}else i.push(null)}var u=null;for(a=0;a<i.length;a++){var c=i[a];if(null===c)null===u&&(u=a);else if(null!==u){for(var l=a-u,h=(c-i[u-1])/(l+1),f=1;f<=l;f++)i[u+f-1]=h*f;u=null}}return t.map((function(t,n){return{color:t.color,stop:Math.max(Math.min(1,i[n]/e),0)}}))},yr=function(t,e,n){var r=e/2,i=n/2,o=qn(t[0],e)-r,a=i-qn(t[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)},vr=function(t,e,n){var r="number"==typeof t?t:yr(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),o=e/2,a=n/2,A=i/2,s=Math.sin(r-Math.PI/2)*A,u=Math.cos(r-Math.PI/2)*A;return[i,o-u,o+u,a-s,a+s]},_r=function(t,e){return Math.sqrt(t*t+e*e)},wr=function(t,e,n,r,i){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var o=e[0],a=e[1],A=_r(n-o,r-a);return(i?A<t.optimumDistance:A>t.optimumDistance)?{optimumCorner:e,optimumDistance:A}:t}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},xr=function(t,e,n,r,i){var o=0,a=0;switch(t.size){case 0:0===t.shape?o=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):1===t.shape&&(o=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===t.shape)o=a=Math.min(_r(e,n),_r(e,n-i),_r(e-r,n),_r(e-r,n-i));else if(1===t.shape){var A=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),s=wr(r,i,e,n,!0),u=s[0],c=s[1];a=A*(o=_r(u-e,(c-n)/A))}break;case 1:0===t.shape?o=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):1===t.shape&&(o=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===t.shape)o=a=Math.max(_r(e,n),_r(e,n-i),_r(e-r,n),_r(e-r,n-i));else if(1===t.shape){A=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r));var l=wr(r,i,e,n,!1);u=l[0],c=l[1],a=A*(o=_r(u-e,(c-n)/A))}}return Array.isArray(t.size)&&(o=qn(t.size[0],r),a=2===t.size.length?qn(t.size[1],i):o),[o,a]},Br=function(t,e){var n=nr(180),r=[];return zn(e).forEach((function(e,i){if(0===i){var o=e[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=er(e));if(tr(o))return void(n=(Yn.parse(t,o)+nr(270))%nr(360))}var a=gr(t,e);r.push(a)})),{angle:n,stops:r,type:1}},br=function(t,e){var n=nr(180),r=[],i=1,o=0,a=3,A=[];return zn(e).forEach((function(e,n){var o=e[0];if(0===n){if(Mn(o)&&"linear"===o.value)return void(i=1);if(Mn(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var a=rr.parse(t,o.values[0]);r.push({stop:Vn,color:a})}else if("to"===o.name)a=rr.parse(t,o.values[0]),r.push({stop:Gn,color:a});else if("color-stop"===o.name){var A=o.values.filter(Hn);if(2===A.length){a=rr.parse(t,A[1]);var s=A[0];Tn(s)&&r.push({stop:{type:16,number:100*s.number,flags:s.flags},color:a})}}})),1===i?{angle:(n+nr(180))%nr(360),stops:r,type:i}:{size:a,shape:o,stops:r,position:A,type:i}},Cr="closest-side",Fr="farthest-side",Ur="closest-corner",Er="farthest-corner",Qr="circle",Ir="ellipse",kr="cover",Sr="contain",Tr=function(t,e){var n=0,r=3,i=[],o=[];return zn(e).forEach((function(e,a){var A=!0;if(0===a?A=e.reduce((function(t,e){if(Mn(e))switch(e.value){case"center":return o.push(Nn),!1;case"top":case"left":return o.push(Vn),!1;case"right":case"bottom":return o.push(Gn),!1}else if(On(e)||Rn(e))return o.push(e),!1;return t}),A):1===a&&(A=e.reduce((function(t,e){if(Mn(e))switch(e.value){case Qr:return n=0,!1;case Ir:return n=1,!1;case Sr:case Cr:return r=0,!1;case Fr:return r=1,!1;case Ur:return r=2,!1;case kr:case Er:return r=3,!1}else if(Rn(e)||On(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t}),A)),A){var s=gr(t,e);i.push(s)}})),{size:r,shape:n,stops:i,position:o,type:2}},Mr=function(t){return 1===t.type},Dr=function(t){return 2===t.type},Lr={name:"image",parse:function(t,e){if(22===e.type){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(18===e.type){var r=zr[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Pr(t){return!(20===t.type&&"none"===t.value||18===t.type&&!zr[t.name])}var Hr,zr={"linear-gradient":function(t,e){var n=nr(180),r=[];return zn(e).forEach((function(e,i){if(0===i){var o=e[0];if(20===o.type&&"to"===o.value)return void(n=er(e));if(tr(o))return void(n=Yn.parse(t,o))}var a=gr(t,e);r.push(a)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Br,"-ms-linear-gradient":Br,"-o-linear-gradient":Br,"-webkit-linear-gradient":Br,"radial-gradient":function(t,e){var n=0,r=3,i=[],o=[];return zn(e).forEach((function(e,a){var A=!0;if(0===a){var s=!1;A=e.reduce((function(t,e){if(s)if(Mn(e))switch(e.value){case"center":return o.push(Nn),t;case"top":case"left":return o.push(Vn),t;case"right":case"bottom":return o.push(Gn),t}else(On(e)||Rn(e))&&o.push(e);else if(Mn(e))switch(e.value){case Qr:return n=0,!1;case Ir:return n=1,!1;case"at":return s=!0,!1;case Cr:return r=0,!1;case kr:case Fr:return r=1,!1;case Sr:case Ur:return r=2,!1;case Er:return r=3,!1}else if(Rn(e)||On(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t}),A)}if(A){var u=gr(t,e);i.push(u)}})),{size:r,shape:n,stops:i,position:o,type:2}},"-moz-radial-gradient":Tr,"-ms-radial-gradient":Tr,"-o-radial-gradient":Tr,"-webkit-radial-gradient":Tr,"-webkit-gradient":br},$r={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e.filter((function(t){return Hn(t)&&Pr(t)})).map((function(e){return Lr.parse(t,e)}))}},Rr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Mn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Or={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return zn(e).map((function(t){return t.filter(On)})).map(Kn)}},Kr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return zn(e).map((function(t){return t.filter(Mn).map((function(t){return t.value})).join(" ")})).map(Vr)}},Vr=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(Hr||(Hr={}));var Nr,Gr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return zn(e).map((function(t){return t.filter(jr)}))}},jr=function(t){return Mn(t)||On(t)},qr=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zr=qr("top"),Xr=qr("right"),Wr=qr("bottom"),Jr=qr("left"),Yr=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return Kn(e.filter(On))}}},ti=Yr("top-left"),ei=Yr("top-right"),ni=Yr("bottom-right"),ri=Yr("bottom-left"),ii=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},oi=ii("top"),ai=ii("right"),Ai=ii("bottom"),si=ii("left"),ui=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Sn(e)?e.number:0}}},ci=ui("top"),li=ui("right"),hi=ui("bottom"),fi=ui("left"),pi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},gi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Mn).reduce((function(t,e){return t|mi(e.value)}),0)}},mi=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},yi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},vi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Nr||(Nr={}));var _i,wi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?Nr.STRICT:Nr.NORMAL}},xi={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bi=function(t,e){return Mn(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:On(t)?qn(t,e):e},bi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:Lr.parse(t,e)}},Ci={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},Fi={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ui=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ei=Ui("top"),Qi=Ui("right"),Ii=Ui("bottom"),ki=Ui("left"),Si={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Mn).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Ti={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},Mi=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Di=Mi("top"),Li=Mi("right"),Pi=Mi("bottom"),Hi=Mi("left"),zi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},$i={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ri={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Ln(e[0],"none")?[]:zn(e).map((function(e){for(var n={color:fr.TRANSPARENT,offsetX:Vn,offsetY:Vn,blur:Vn},r=0,i=0;i<e.length;i++){var o=e[i];Rn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=rr.parse(t,o)}return n}))}},Oi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ki={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var n=Vi[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Vi={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),n=e[0],r=e[1];e[2],e[3];var i=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],A=e[13];return e[14],e[15],16===e.length?[n,r,i,o,a,A]:null}},Ni={type:16,number:50,flags:Nt},Gi=[Ni,Ni],ji={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(On);return 2!==n.length?Gi:[n[0],n[1]]}},qi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(_i||(_i={}));for(var Zi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return _i.BREAK_ALL;case"keep-all":return _i.KEEP_ALL;default:return _i.NORMAL}}},Xi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Tn(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Wi={name:"time",parse:function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Ji={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Tn(e)?e.number:1}},Yi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},to={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Mn).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},eo={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach((function(t){switch(t.type){case 20:case 0:n.push(t.value);break;case 17:n.push(t.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},no={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ro={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Tn(e)?e.number:Mn(e)&&"bold"===e.value?700:400}},io={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Mn).map((function(t){return t.value}))}},oo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},ao=function(t,e){return 0!=(t&e)},Ao={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var n=e[0];return 20===n.type&&"none"===n.value?[]:e}},so={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=e.filter(Pn),o=0;o<i.length;o++){var a=i[o],A=i[o+1];if(20===a.type){var s=A&&Tn(A)?A.number:1;r.push({counter:a.value,increment:s})}}return r}},uo={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var n=[],r=e.filter(Pn),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(Mn(o)&&"none"!==o.value){var A=a&&Tn(a)?a.number:0;n.push({counter:o.value,reset:A})}}return n}},co={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Sn).map((function(e){return Wi.parse(t,e)}))}},lo={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var n=e[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=e.filter(Dn);if(i.length%2!=0)return null;for(var o=0;o<i.length;o+=2){var a=i[o].value,A=i[o+1].value;r.push({open:a,close:A})}return r}},ho=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},fo={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Ln(e[0],"none")?[]:zn(e).map((function(e){for(var n={color:255,offsetX:Vn,offsetY:Vn,blur:Vn,spread:Vn,inset:!1},r=0,i=0;i<e.length;i++){var o=e[i];Ln(o,"inset")?n.inset=!0:Rn(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=rr.parse(t,o)}return n}))}},po={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Mn).forEach((function(t){switch(t.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(t){-1===r.indexOf(t)&&r.push(t)})),r}},go={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mo={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Sn(e)?e.number:0}},yo=function(){function t(t,e){var n,r;this.animationDuration=wo(t,co,e.animationDuration),this.backgroundClip=wo(t,pr,e.backgroundClip),this.backgroundColor=wo(t,dr,e.backgroundColor),this.backgroundImage=wo(t,$r,e.backgroundImage),this.backgroundOrigin=wo(t,Rr,e.backgroundOrigin),this.backgroundPosition=wo(t,Or,e.backgroundPosition),this.backgroundRepeat=wo(t,Kr,e.backgroundRepeat),this.backgroundSize=wo(t,Gr,e.backgroundSize),this.borderTopColor=wo(t,Zr,e.borderTopColor),this.borderRightColor=wo(t,Xr,e.borderRightColor),this.borderBottomColor=wo(t,Wr,e.borderBottomColor),this.borderLeftColor=wo(t,Jr,e.borderLeftColor),this.borderTopLeftRadius=wo(t,ti,e.borderTopLeftRadius),this.borderTopRightRadius=wo(t,ei,e.borderTopRightRadius),this.borderBottomRightRadius=wo(t,ni,e.borderBottomRightRadius),this.borderBottomLeftRadius=wo(t,ri,e.borderBottomLeftRadius),this.borderTopStyle=wo(t,oi,e.borderTopStyle),this.borderRightStyle=wo(t,ai,e.borderRightStyle),this.borderBottomStyle=wo(t,Ai,e.borderBottomStyle),this.borderLeftStyle=wo(t,si,e.borderLeftStyle),this.borderTopWidth=wo(t,ci,e.borderTopWidth),this.borderRightWidth=wo(t,li,e.borderRightWidth),this.borderBottomWidth=wo(t,hi,e.borderBottomWidth),this.borderLeftWidth=wo(t,fi,e.borderLeftWidth),this.boxShadow=wo(t,fo,e.boxShadow),this.color=wo(t,pi,e.color),this.direction=wo(t,di,e.direction),this.display=wo(t,gi,e.display),this.float=wo(t,yi,e.cssFloat),this.fontFamily=wo(t,eo,e.fontFamily),this.fontSize=wo(t,no,e.fontSize),this.fontStyle=wo(t,oo,e.fontStyle),this.fontVariant=wo(t,io,e.fontVariant),this.fontWeight=wo(t,ro,e.fontWeight),this.letterSpacing=wo(t,vi,e.letterSpacing),this.lineBreak=wo(t,wi,e.lineBreak),this.lineHeight=wo(t,xi,e.lineHeight),this.listStyleImage=wo(t,bi,e.listStyleImage),this.listStylePosition=wo(t,Ci,e.listStylePosition),this.listStyleType=wo(t,Fi,e.listStyleType),this.marginTop=wo(t,Ei,e.marginTop),this.marginRight=wo(t,Qi,e.marginRight),this.marginBottom=wo(t,Ii,e.marginBottom),this.marginLeft=wo(t,ki,e.marginLeft),this.opacity=wo(t,Ji,e.opacity);var i=wo(t,Si,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=wo(t,Ti,e.overflowWrap),this.paddingTop=wo(t,Di,e.paddingTop),this.paddingRight=wo(t,Li,e.paddingRight),this.paddingBottom=wo(t,Pi,e.paddingBottom),this.paddingLeft=wo(t,Hi,e.paddingLeft),this.paintOrder=wo(t,po,e.paintOrder),this.position=wo(t,$i,e.position),this.textAlign=wo(t,zi,e.textAlign),this.textDecorationColor=wo(t,Yi,null!==(n=e.textDecorationColor)&&void 0!==n?n:e.color),this.textDecorationLine=wo(t,to,null!==(r=e.textDecorationLine)&&void 0!==r?r:e.textDecoration),this.textShadow=wo(t,Ri,e.textShadow),this.textTransform=wo(t,Oi,e.textTransform),this.transform=wo(t,Ki,e.transform),this.transformOrigin=wo(t,ji,e.transformOrigin),this.visibility=wo(t,qi,e.visibility),this.webkitTextStrokeColor=wo(t,go,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=wo(t,mo,e.webkitTextStrokeWidth),this.wordBreak=wo(t,Zi,e.wordBreak),this.zIndex=wo(t,Xi,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return ir(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return ao(this.display,4)||ao(this.display,33554432)||ao(this.display,268435456)||ao(this.display,536870912)||ao(this.display,67108864)||ao(this.display,134217728)},t}(),vo=function(){function t(t,e){this.content=wo(t,Ao,e.content),this.quotes=wo(t,lo,e.quotes)}return t}(),_o=function(){function t(t,e){this.counterIncrement=wo(t,so,e.counterIncrement),this.counterReset=wo(t,uo,e.counterReset)}return t}(),wo=function(t,e,n){var r=new In,i=null!=n?n.toString():e.initialValue;r.write(i);var o=new kn(r.read());switch(e.type){case 2:var a=o.parseComponentValue();return e.parse(t,Mn(a)?a.value:e.initialValue);case 0:return e.parse(t,o.parseComponentValue());case 1:return e.parse(t,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return Yn.parse(t,o.parseComponentValue());case"color":return rr.parse(t,o.parseComponentValue());case"image":return Lr.parse(t,o.parseComponentValue());case"length":var A=o.parseComponentValue();return Rn(A)?A:Vn;case"length-percentage":var s=o.parseComponentValue();return On(s)?s:Vn;case"time":return Wi.parse(t,o.parseComponentValue())}}},xo="data-html2canvas-debug",Bo=function(t){switch(t.getAttribute(xo)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bo=function(t,e){var n=Bo(t);return 1===n||e===n},Co=function(){function t(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,bo(e,3),this.styles=new yo(t,window.getComputedStyle(e,null)),hA(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=A(this.context,e),bo(e,4)&&(this.flags|=16)}return t}(),Fo="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eo="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Qo=0;Qo<Uo.length;Qo++)Eo[Uo.charCodeAt(Qo)]=Qo;for(var Io=function(t){var e,n,r,i,o,a=.75*t.length,A=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(u)?u:new Uint8Array(u);for(e=0;e<A;e+=4)n=Eo[t.charCodeAt(e)],r=Eo[t.charCodeAt(e+1)],i=Eo[t.charCodeAt(e+2)],o=Eo[t.charCodeAt(e+3)],c[s++]=n<<2|r>>4,c[s++]=(15&r)<<4|i>>2,c[s++]=(3&i)<<6|63&o;return u},ko=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},So=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},To=5,Mo=11,Do=2,Lo=65536>>To,Po=(1<<To)-1,Ho=Lo+(1024>>To)+32,zo=65536>>Mo,$o=(1<<Mo-To)-1,Ro=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Oo=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Ko=function(t,e){var n=Io(t),r=Array.isArray(n)?So(n):new Uint32Array(n),i=Array.isArray(n)?ko(n):new Uint16Array(n),o=24,a=Ro(i,o/2,r[4]/2),A=2===r[5]?Ro(i,(o+r[4])/2):Oo(r,Math.ceil((o+r[4])/4));return new Vo(r[0],r[1],r[2],r[3],a,A)},Vo=function(){function t(t,e,n,r,i,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>To])<<Do)+(t&Po),this.data[e];if(t<=65535)return e=((e=this.index[Lo+(t-55296>>To)])<<Do)+(t&Po),this.data[e];if(t<this.highStart)return e=Ho-zo+(t>>Mo),e=this.index[e],e+=t>>To&$o,e=((e=this.index[e])<<Do)+(t&Po),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Go="undefined"==typeof Uint8Array?[]:new Uint8Array(256),jo=0;jo<No.length;jo++)Go[No.charCodeAt(jo)]=jo;var qo,Zo=1,Xo=2,Wo=3,Jo=4,Yo=5,ta=7,ea=8,na=9,ra=10,ia=11,oa=12,aa=13,Aa=14,sa=15,ua=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e},ca=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},la=Ko(Fo),ha="×",fa="÷",pa=function(t){return la.get(t)},da=function(t,e,n){var r=n-2,i=e[r],o=e[n-1],a=e[n];if(o===Xo&&a===Wo)return ha;if(o===Xo||o===Wo||o===Jo)return fa;if(a===Xo||a===Wo||a===Jo)return fa;if(o===ea&&-1!==[ea,na,ia,oa].indexOf(a))return ha;if(!(o!==ia&&o!==na||a!==na&&a!==ra))return ha;if((o===oa||o===ra)&&a===ra)return ha;if(a===aa||a===Yo)return ha;if(a===ta)return ha;if(o===Zo)return ha;if(o===aa&&a===Aa){for(;i===Yo;)i=e[--r];if(i===Aa)return ha}if(o===sa&&a===sa){for(var A=0;i===sa;)A++,i=e[--r];if(A%2==0)return ha}return fa},ga=function(t){var e=ua(t),n=e.length,r=0,i=0,o=e.map(pa);return{next:function(){if(r>=n)return{done:!0,value:null};for(var t=ha;r<n&&(t=da(e,o,++r))===ha;);if(t!==ha||r===n){var a=ca.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},ma=function(t){for(var e,n=ga(t),r=[];!(e=n.next()).done;)e.value&&r.push(e.value.slice());return r},ya=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(t.body.removeChild(r),o===e)return!0}}return!1},va=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=e.firstChild,i=u(r.data).map((function(t){return c(t)})),o=0,a={},A=i.every((function(t,e){n.setStart(r,o),n.setEnd(r,o+t.length);var i=n.getBoundingClientRect();o+=t.length;var A=i.x>a.x||i.y>a.y;return a=i,0===e||A}));return t.body.removeChild(e),A},_a=function(){return void 0!==(new Image).crossOrigin},wa=function(){return"string"==typeof(new XMLHttpRequest).responseType},xa=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0},Ba=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},ba=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=e.toDataURL();i.src=o;var a=Ca(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Fa(a).then((function(e){r.drawImage(e,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=t.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height=n+"px",Ba(i)?Fa(Ca(n,n,0,0,a)):Promise.reject(!1)})).then((function(t){return r.drawImage(t,0,0),Ba(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Ca=function(t,e,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),A=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",n.toString()),A.setAttributeNS(null,"y",r.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(i),a},Fa=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Ua={get SUPPORT_RANGE_BOUNDS(){var t=ya(document);return Object.defineProperty(Ua,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ua.SUPPORT_RANGE_BOUNDS&&va(document);return Object.defineProperty(Ua,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=xa(document);return Object.defineProperty(Ua,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?ba(document):Promise.resolve(!1);return Object.defineProperty(Ua,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=_a();return Object.defineProperty(Ua,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=wa();return Object.defineProperty(Ua,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ua,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ua,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Ea=function(){function t(t,e){this.text=t,this.bounds=e}return t}(),Qa=function(t,e,n,r){var i=Ma(e,n),o=[],A=0;return i.forEach((function(e){if(n.textDecorationLine.length||e.trim().length>0)if(Ua.SUPPORT_RANGE_BOUNDS){var i=ka(r,A,e.length).getClientRects();if(i.length>1){var s=Sa(e),u=0;s.forEach((function(e){o.push(new Ea(e,a.fromDOMRectList(t,ka(r,u+A,e.length).getClientRects()))),u+=e.length}))}else o.push(new Ea(e,a.fromDOMRectList(t,i)))}else{var c=r.splitText(e.length);o.push(new Ea(e,Ia(t,r))),r=c}else Ua.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length));A+=e.length})),o},Ia=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var o=A(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return a.EMPTY},ka=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},Sa=function(t){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return ma(t)},Ta=function(t,e){if(Ua.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map((function(t){return t.segment}))}return La(t,e)},Ma=function(t,e){return 0!==e.letterSpacing?Sa(t):Ta(t,e)},Da=[32,160,4961,65792,65793,4153,4241],La=function(t,e){for(var n,r=Ot(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),i=[],o=function(){if(n.value){var t=n.value.slice(),e=u(t),r="";e.forEach((function(t){-1===Da.indexOf(t)?r+=c(t):(r.length&&i.push(r),i.push(c(t)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i},Pa=function(){function t(t,e,n){this.text=Ha(e.data,n.textTransform),this.textBounds=Qa(t,this.text,n,e)}return t}(),Ha=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(za,$a);case 2:return t.toUpperCase();default:return t}},za=/(^|\s|:|-|\(|\))([a-z])/g,$a=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Ra=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e(n,t),n}(Co),Oa=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e(n,t),n}(Co),Ka=function(t){function n(e,n){var r=t.call(this,e,n)||this,i=new XMLSerializer,o=A(e,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e(n,t),n}(Co),Va=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.value=n.value,r}return e(n,t),n}(Co),Na=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.start=n.start,r.reversed="boolean"==typeof n.reversed&&!0===n.reversed,r}return e(n,t),n}(Co),Ga=[{type:15,flags:0,unit:"px",number:3}],ja=[{type:16,flags:0,number:50}],qa=function(t){return t.width>t.height?new a(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new a(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Za=function(t){var e=t.type===Ja?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e},Xa="checkbox",Wa="radio",Ja="password",Ya=707406591,tA=function(t){function n(e,n){var r=t.call(this,e,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Za(n),r.type!==Xa&&r.type!==Wa||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=qa(r.bounds)),r.type){case Xa:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ga;break;case Wa:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=ja}return r}return e(n,t),n}(Co),eA=function(t){function n(e,n){var r=t.call(this,e,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return e(n,t),n}(Co),nA=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.value=n.value,r}return e(n,t),n}(Co),rA=function(t){function n(e,n){var r=t.call(this,e,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=AA(e,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?hr(e,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):fr.TRANSPARENT,o=n.contentWindow.document.body?hr(e,getComputedStyle(n.contentWindow.document.body).backgroundColor):fr.TRANSPARENT;r.backgroundColor=ir(i)?ir(o)?r.styles.backgroundColor:o:i}}catch(t){}return r}return e(n,t),n}(Co),iA=["OL","UL","MENU"],oA=function t(e,n,r,i){for(var o=n.firstChild,a=void 0;o;o=a)if(a=o.nextSibling,cA(o)&&o.data.trim().length>0)r.textNodes.push(new Pa(e,o,r.styles));else if(lA(o))if(EA(o)&&o.assignedNodes)o.assignedNodes().forEach((function(n){return t(e,n,r,i)}));else{var A=aA(e,o);A.styles.isVisible()&&(sA(o,A,i)?A.flags|=4:uA(A.styles)&&(A.flags|=2),-1!==iA.indexOf(o.tagName)&&(A.flags|=8),r.elements.push(A),o.slot,o.shadowRoot?t(e,o.shadowRoot,A,i):FA(o)||yA(o)||UA(o)||t(e,o,A,i))}},aA=function(t,e){return xA(e)?new Ra(t,e):_A(e)?new Oa(t,e):yA(e)?new Ka(t,e):pA(e)?new Va(t,e):dA(e)?new Na(t,e):gA(e)?new tA(t,e):UA(e)?new eA(t,e):FA(e)?new nA(t,e):BA(e)?new rA(t,e):new Co(t,e)},AA=function(t,e){var n=aA(t,e);return n.flags|=4,oA(t,e,n,n),n},sA=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||vA(t)&&n.styles.isTransparent()},uA=function(t){return t.isPositioned()||t.isFloating()},cA=function(t){return t.nodeType===Node.TEXT_NODE},lA=function(t){return t.nodeType===Node.ELEMENT_NODE},hA=function(t){return lA(t)&&void 0!==t.style&&!fA(t)},fA=function(t){return"object"===pn(t.className)},pA=function(t){return"LI"===t.tagName},dA=function(t){return"OL"===t.tagName},gA=function(t){return"INPUT"===t.tagName},mA=function(t){return"HTML"===t.tagName},yA=function(t){return"svg"===t.tagName},vA=function(t){return"BODY"===t.tagName},_A=function(t){return"CANVAS"===t.tagName},wA=function(t){return"VIDEO"===t.tagName},xA=function(t){return"IMG"===t.tagName},BA=function(t){return"IFRAME"===t.tagName},bA=function(t){return"STYLE"===t.tagName},CA=function(t){return"SCRIPT"===t.tagName},FA=function(t){return"TEXTAREA"===t.tagName},UA=function(t){return"SELECT"===t.tagName},EA=function(t){return"SLOT"===t.tagName},QA=function(t){return t.tagName.indexOf("-")>0},IA=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,r=t.counterReset,i=!0;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&0!==t.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=t.increment)}));var o=[];return i&&r.forEach((function(t){var n=e.counters[t.counter];o.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),o},t}(),kA={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},SA={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},TA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},MA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},DA=function(t,e,n,r,i,o){return t<e||t>n?qA(t,i,o.length>0):r.integers.reduce((function(e,n,i){for(;t>=n;)t-=n,e+=r.values[i];return e}),"")+o},LA=function(t,e,n,r){var i="";do{n||t--,i=r(t)+i,t/=e}while(t*e>=e);return i},PA=function(t,e,n,r,i){var o=n-e+1;return(t<0?"-":"")+(LA(Math.abs(t),o,r,(function(t){return c(Math.floor(t%o)+e)}))+i)},HA=function(t,e,n){void 0===n&&(n=". ");var r=e.length;return LA(Math.abs(t),r,!1,(function(t){return e[Math.floor(t%r)]}))+n},zA=1,$A=2,RA=4,OA=8,KA=function(t,e,n,r,i,o){if(t<-9999||t>9999)return qA(t,4,i.length>0);var a=Math.abs(t),A=i;if(0===a)return e[0]+A;for(var s=0;a>0&&s<=4;s++){var u=a%10;0===u&&ao(o,zA)&&""!==A?A=e[u]+A:u>1||1===u&&0===s||1===u&&1===s&&ao(o,$A)||1===u&&1===s&&ao(o,RA)&&t>100||1===u&&s>1&&ao(o,OA)?A=e[u]+(s>0?n[s-1]:"")+A:1===u&&s>0&&(A=n[s-1]+A),a=Math.floor(a/10)}return(t<0?r:"")+A},VA="十百千萬",NA="拾佰仟萬",GA="マイナス",jA="마이너스",qA=function(t,e,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"",a=n?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var A=PA(t,48,57,!0,r);return A.length<4?"0"+A:A;case 4:return HA(t,"〇一二三四五六七八九",i);case 6:return DA(t,1,3999,kA,3,r).toLowerCase();case 7:return DA(t,1,3999,kA,3,r);case 8:return PA(t,945,969,!1,r);case 9:return PA(t,97,122,!1,r);case 10:return PA(t,65,90,!1,r);case 11:return PA(t,1632,1641,!0,r);case 12:case 49:return DA(t,1,9999,SA,3,r);case 35:return DA(t,1,9999,SA,3,r).toLowerCase();case 13:return PA(t,2534,2543,!0,r);case 14:case 30:return PA(t,6112,6121,!0,r);case 15:return HA(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return HA(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return KA(t,"零一二三四五六七八九",VA,"負",i,$A|RA|OA);case 47:return KA(t,"零壹貳參肆伍陸柒捌玖",NA,"負",i,zA|$A|RA|OA);case 42:return KA(t,"零一二三四五六七八九",VA,"负",i,$A|RA|OA);case 41:return KA(t,"零壹贰叁肆伍陆柒捌玖",NA,"负",i,zA|$A|RA|OA);case 26:return KA(t,"〇一二三四五六七八九","十百千万",GA,i,0);case 25:return KA(t,"零壱弐参四伍六七八九","拾百千万",GA,i,zA|$A|RA);case 31:return KA(t,"영일이삼사오육칠팔구","십백천만",jA,o,zA|$A|RA);case 33:return KA(t,"零一二三四五六七八九","十百千萬",jA,o,0);case 32:return KA(t,"零壹貳參四五六七八九","拾百千",jA,o,zA|$A|RA);case 18:return PA(t,2406,2415,!0,r);case 20:return DA(t,1,19999,MA,3,r);case 21:return PA(t,2790,2799,!0,r);case 22:return PA(t,2662,2671,!0,r);case 22:return DA(t,1,10999,TA,3,r);case 23:return HA(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return HA(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return PA(t,3302,3311,!0,r);case 28:return HA(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return HA(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return PA(t,3792,3801,!0,r);case 37:return PA(t,6160,6169,!0,r);case 38:return PA(t,4160,4169,!0,r);case 39:return PA(t,2918,2927,!0,r);case 40:return PA(t,1776,1785,!0,r);case 43:return PA(t,3046,3055,!0,r);case 44:return PA(t,3174,3183,!0,r);case 45:return PA(t,3664,3673,!0,r);case 46:return PA(t,3872,3881,!0,r);default:return PA(t,48,57,!0,r)}},ZA="data-html2canvas-ignore",XA=function(){function t(t,e,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=e,this.counters=new IA,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var n=this,o=JA(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,A=t.defaultView.pageYOffset,s=o.contentWindow,u=s.document,c=es(o).then((function(){return r(n,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(as),s&&(s.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===e.top&&s.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-e.left,s.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ts(u)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(u,n)})).then((function(){return o}))]:[2,o]}}))}))}));return u.open(),u.write(is(document.doctype)+"<html></html>"),os(this.referenceElement.ownerDocument,a,A),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),c},t.prototype.createElementClone=function(t){if(bo(t,2),_A(t))return this.createCanvasClone(t);if(wA(t))return this.createVideoClone(t);if(bA(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return xA(e)&&(xA(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),QA(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return rs(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),r=t.cloneNode(!1);return r.textContent=n,r}}catch(t){if(this.context.logger.error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var i=t.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var a=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(a){var A=a.getContextAttributes();!1===(null==A?void 0:A.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return r}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var n=e.getContext("2d");try{return n&&(n.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||n.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},t.prototype.appendChildNode=function(t,e,n){lA(e)&&(CA(e)||e.hasAttribute(ZA)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&lA(e)&&bA(e)||t.appendChild(this.cloneNode(e,n))},t.prototype.cloneChildNodes=function(t,e,n){for(var r=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(lA(i)&&EA(i)&&"function"==typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(t){return r.appendChildNode(e,t,n)}))}else this.appendChildNode(e,i,n)},t.prototype.cloneNode=function(t,e){if(cA(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&lA(t)&&(hA(t)||fA(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),a=n.getComputedStyle(t,":after");this.referenceElement===t&&hA(r)&&(this.clonedReferenceElement=r),vA(r)&&hs(r);var A=this.counters.parse(new _o(this.context,i)),s=this.resolvePseudoContent(t,r,o,qo.BEFORE);QA(t)&&(e=!0),wA(t)||this.cloneChildNodes(t,r,e),s&&r.insertBefore(s,r.firstChild);var u=this.resolvePseudoContent(t,r,a,qo.AFTER);return u&&r.appendChild(u),this.counters.pop(A),(i&&(this.options.copyStyles||fA(t))&&!BA(t)||e)&&rs(i,r),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(FA(t)||UA(t))&&(FA(r)||UA(r))&&(r.value=t.value),r}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,r){var i=this;if(n){var o=n.content,a=e.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new _o(this.context,n));var A=new vo(this.context,n),s=a.createElement("html2canvaspseudoelement");rs(n,s),A.content.forEach((function(e){if(0===e.type)s.appendChild(a.createTextNode(e.value));else if(22===e.type){var n=a.createElement("img");n.src=e.value,n.style.opacity="1",s.appendChild(n)}else if(18===e.type){if("attr"===e.name){var r=e.values.filter(Mn);r.length&&s.appendChild(a.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(Hn),u=o[0],c=o[1];if(u&&Mn(u)){var l=i.counters.getCounterValue(u.value),h=c&&Mn(c)?Fi.parse(i.context,c.value):3;s.appendChild(a.createTextNode(qA(l,h,!1)))}}else if("counters"===e.name){var f=e.values.filter(Hn),p=(u=f[0],f[1]);if(c=f[2],u&&Mn(u)){var d=i.counters.getCounterValues(u.value),g=c&&Mn(c)?Fi.parse(i.context,c.value):3,m=p&&0===p.type?p.value:"",y=d.map((function(t){return qA(t,g,!1)})).join(m);s.appendChild(a.createTextNode(y))}}}else if(20===e.type)switch(e.value){case"open-quote":s.appendChild(a.createTextNode(ho(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":s.appendChild(a.createTextNode(ho(A.quotes,--i.quoteDepth,!1)));break;default:s.appendChild(a.createTextNode(e.value))}})),s.className=us+" "+cs;var u=r===qo.BEFORE?" "+us:" "+cs;return fA(e)?e.className.baseValue+=u:e.className+=u,s}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(qo||(qo={}));var WA,JA=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(ZA,"true"),t.body.appendChild(n),n},YA=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},ts=function(t){return Promise.all([].slice.call(t.images,0).map(YA))},es=function(t){return new Promise((function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),e(t))}),50)}}))},ns=["all","d","content"],rs=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);-1===ns.indexOf(r)&&e.style.setProperty(r,t.getPropertyValue(r))}return e},is=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},os=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},as=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},As=":before",ss=":after",us="___html2canvas___pseudoelement_before",cs="___html2canvas___pseudoelement_after",ls='{\n    content: "" !important;\n    display: none !important;\n}',hs=function(t){fs(t,"."+us+As+ls+"\n         ."+cs+ss+ls)},fs=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},ps=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ds=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:xs(t)||vs(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a=this;return i(this,(function(i){switch(i.label){case 0:return e=ps.isSameOrigin(t),n=!_s(t)&&!0===this._options.useCORS&&Ua.SUPPORT_CORS_IMAGES&&!e,r=!_s(t)&&!e&&!xs(t)&&"string"==typeof this._options.proxy&&Ua.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||_s(t)||xs(t)||r||n?(o=t,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,(ws(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return t(r)}),500),a._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+a._options.imageTimeout+"ms) loading image")}),a._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise((function(i,o){var a=Ua.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(200===A.status)if("text"===a)i(A.response);else{var t=new FileReader;t.addEventListener("load",(function(){return i(t.result)}),!1),t.addEventListener("error",(function(t){return o(t)}),!1),t.readAsDataURL(A.response)}else o("Failed to proxy resource "+r+" with status code "+A.status)},A.onerror=o;var s=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+s+"url="+encodeURIComponent(t)+"&responseType="+a),"text"!==a&&A instanceof XMLHttpRequest&&(A.responseType=a),e._options.imageTimeout){var u=e._options.imageTimeout;A.timeout=u,A.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+r)}}A.send()}))},t}(),gs=/^data:image\/svg\+xml/i,ms=/^data:image\/.*;base64,/i,ys=/^data:image\/.*/i,vs=function(t){return Ua.SUPPORT_SVG_DRAWING||!Bs(t)},_s=function(t){return ys.test(t)},ws=function(t){return ms.test(t)},xs=function(t){return"blob"===t.substr(0,4)},Bs=function(t){return"svg"===t.substr(-3).toLowerCase()||gs.test(t)},bs=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Cs=function(t,e,n){return new bs(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Fs=function(){function t(t,e,n,r){this.type=1,this.start=t,this.startControl=e,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,n){var r=Cs(this.start,this.startControl,e),i=Cs(this.startControl,this.endControl,e),o=Cs(this.endControl,this.end,e),a=Cs(r,i,e),A=Cs(i,o,e),s=Cs(a,A,e);return n?new t(this.start,r,a,s):new t(s,A,o,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Us=function(t){return 1===t.type},Es=function(){function t(t){var e=t.styles,n=t.bounds,r=jn(e.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=jn(e.borderTopRightRadius,n.width,n.height),A=a[0],s=a[1],u=jn(e.borderBottomRightRadius,n.width,n.height),c=u[0],l=u[1],h=jn(e.borderBottomLeftRadius,n.width,n.height),f=h[0],p=h[1],d=[];d.push((i+A)/n.width),d.push((f+c)/n.width),d.push((o+p)/n.height),d.push((s+l)/n.height);var g=Math.max.apply(Math,d);g>1&&(i/=g,o/=g,A/=g,s/=g,c/=g,l/=g,f/=g,p/=g);var m=n.width-A,y=n.height-l,v=n.width-c,_=n.height-p,w=e.borderTopWidth,x=e.borderRightWidth,B=e.borderBottomWidth,b=e.borderLeftWidth,C=qn(e.paddingTop,t.bounds.width),F=qn(e.paddingRight,t.bounds.width),U=qn(e.paddingBottom,t.bounds.width),E=qn(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Qs(n.left+b/3,n.top+w/3,i-b/3,o-w/3,WA.TOP_LEFT):new bs(n.left+b/3,n.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Qs(n.left+m,n.top+w/3,A-x/3,s-w/3,WA.TOP_RIGHT):new bs(n.left+n.width-x/3,n.top+w/3),this.bottomRightBorderDoubleOuterBox=c>0||l>0?Qs(n.left+v,n.top+y,c-x/3,l-B/3,WA.BOTTOM_RIGHT):new bs(n.left+n.width-x/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=f>0||p>0?Qs(n.left+b/3,n.top+_,f-b/3,p-B/3,WA.BOTTOM_LEFT):new bs(n.left+b/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Qs(n.left+2*b/3,n.top+2*w/3,i-2*b/3,o-2*w/3,WA.TOP_LEFT):new bs(n.left+2*b/3,n.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Qs(n.left+m,n.top+2*w/3,A-2*x/3,s-2*w/3,WA.TOP_RIGHT):new bs(n.left+n.width-2*x/3,n.top+2*w/3),this.bottomRightBorderDoubleInnerBox=c>0||l>0?Qs(n.left+v,n.top+y,c-2*x/3,l-2*B/3,WA.BOTTOM_RIGHT):new bs(n.left+n.width-2*x/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=f>0||p>0?Qs(n.left+2*b/3,n.top+_,f-2*b/3,p-2*B/3,WA.BOTTOM_LEFT):new bs(n.left+2*b/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=i>0||o>0?Qs(n.left+b/2,n.top+w/2,i-b/2,o-w/2,WA.TOP_LEFT):new bs(n.left+b/2,n.top+w/2),this.topRightBorderStroke=i>0||o>0?Qs(n.left+m,n.top+w/2,A-x/2,s-w/2,WA.TOP_RIGHT):new bs(n.left+n.width-x/2,n.top+w/2),this.bottomRightBorderStroke=c>0||l>0?Qs(n.left+v,n.top+y,c-x/2,l-B/2,WA.BOTTOM_RIGHT):new bs(n.left+n.width-x/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=f>0||p>0?Qs(n.left+b/2,n.top+_,f-b/2,p-B/2,WA.BOTTOM_LEFT):new bs(n.left+b/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||o>0?Qs(n.left,n.top,i,o,WA.TOP_LEFT):new bs(n.left,n.top),this.topRightBorderBox=A>0||s>0?Qs(n.left+m,n.top,A,s,WA.TOP_RIGHT):new bs(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||l>0?Qs(n.left+v,n.top+y,c,l,WA.BOTTOM_RIGHT):new bs(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||p>0?Qs(n.left,n.top+_,f,p,WA.BOTTOM_LEFT):new bs(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Qs(n.left+b,n.top+w,Math.max(0,i-b),Math.max(0,o-w),WA.TOP_LEFT):new bs(n.left+b,n.top+w),this.topRightPaddingBox=A>0||s>0?Qs(n.left+Math.min(m,n.width-x),n.top+w,m>n.width+x?0:Math.max(0,A-x),Math.max(0,s-w),WA.TOP_RIGHT):new bs(n.left+n.width-x,n.top+w),this.bottomRightPaddingBox=c>0||l>0?Qs(n.left+Math.min(v,n.width-b),n.top+Math.min(y,n.height-B),Math.max(0,c-x),Math.max(0,l-B),WA.BOTTOM_RIGHT):new bs(n.left+n.width-x,n.top+n.height-B),this.bottomLeftPaddingBox=f>0||p>0?Qs(n.left+b,n.top+Math.min(_,n.height-B),Math.max(0,f-b),Math.max(0,p-B),WA.BOTTOM_LEFT):new bs(n.left+b,n.top+n.height-B),this.topLeftContentBox=i>0||o>0?Qs(n.left+b+E,n.top+w+C,Math.max(0,i-(b+E)),Math.max(0,o-(w+C)),WA.TOP_LEFT):new bs(n.left+b+E,n.top+w+C),this.topRightContentBox=A>0||s>0?Qs(n.left+Math.min(m,n.width+b+E),n.top+w+C,m>n.width+b+E?0:A-b+E,s-(w+C),WA.TOP_RIGHT):new bs(n.left+n.width-(x+F),n.top+w+C),this.bottomRightContentBox=c>0||l>0?Qs(n.left+Math.min(v,n.width-(b+E)),n.top+Math.min(y,n.height+w+C),Math.max(0,c-(x+F)),l-(B+U),WA.BOTTOM_RIGHT):new bs(n.left+n.width-(x+F),n.top+n.height-(B+U)),this.bottomLeftContentBox=f>0||p>0?Qs(n.left+b+E,n.top+_,Math.max(0,f-(b+E)),p-(B+U),WA.BOTTOM_LEFT):new bs(n.left+b+E,n.top+n.height-(B+U))}return t}();!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(WA||(WA={}));var Qs=function(t,e,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,A=r*o,s=t+n,u=e+r;switch(i){case WA.TOP_LEFT:return new Fs(new bs(t,u),new bs(t,u-A),new bs(s-a,e),new bs(s,e));case WA.TOP_RIGHT:return new Fs(new bs(t,e),new bs(t+a,e),new bs(s,u-A),new bs(s,u));case WA.BOTTOM_RIGHT:return new Fs(new bs(s,e),new bs(s,e+A),new bs(t+a,u),new bs(t,u));case WA.BOTTOM_LEFT:default:return new Fs(new bs(s,u),new bs(s-a,u),new bs(t,e+A),new bs(t,e))}},Is=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},ks=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Ss=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Ts=function(){function t(t,e,n){this.offsetX=t,this.offsetY=e,this.matrix=n,this.type=0,this.target=6}return t}(),Ms=function(){function t(t,e){this.path=t,this.target=e,this.type=1}return t}(),Ds=function(){function t(t){this.opacity=t,this.type=2,this.target=6}return t}(),Ls=function(t){return 0===t.type},Ps=function(t){return 1===t.type},Hs=function(t){return 2===t.type},zs=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},$s=function(t,e,n,r,i){return t.map((function(t,o){switch(o){case 0:return t.add(e,n);case 1:return t.add(e+r,n);case 2:return t.add(e+r,n+i);case 3:return t.add(e,n+i)}return t}))},Rs=function(){function t(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),Os=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new Es(this.container),this.container.styles.opacity<1&&this.effects.push(new Ds(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Ts(n,r,i))}if(0!==this.container.styles.overflowX){var o=Is(this.curves),a=Ss(this.curves);zs(o,a)?this.effects.push(new Ms(o,6)):(this.effects.push(new Ms(o,2)),this.effects.push(new Ms(a,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(t){return!Ps(t)}));if(e||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),e=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=Is(n.curves),a=Ss(n.curves);zs(o,a)||r.unshift(new Ms(a,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(e){return ao(e.target,t)}))},t}(),Ks=function t(e,n,r,i){e.container.elements.forEach((function(o){var a=ao(o.flags,4),A=ao(o.flags,2),s=new Os(o,e);ao(o.styles.display,2048)&&i.push(s);var u=ao(o.flags,8)?[]:i;if(a||A){var c=a||o.styles.isPositioned()?r:n,l=new Rs(s);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var h=o.styles.zIndex.order;if(h<0){var f=0;c.negativeZIndex.some((function(t,e){return h>t.element.container.styles.zIndex.order?(f=e,!1):f>0})),c.negativeZIndex.splice(f,0,l)}else if(h>0){var p=0;c.positiveZIndex.some((function(t,e){return h>=t.element.container.styles.zIndex.order?(p=e+1,!1):p>0})),c.positiveZIndex.splice(p,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else o.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);t(s,l,a?l:r,u)}else o.styles.isInlineLevel()?n.inlineLevel.push(s):n.nonInlineLevel.push(s),t(s,n,r,u);ao(o.flags,8)&&Vs(o,u)}))},Vs=function(t,e){for(var n=t instanceof Na?t.start:1,r=t instanceof Na&&t.reversed,i=0;i<e.length;i++){var o=e[i];o.container instanceof Va&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=qA(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},Ns=function(t){var e=new Os(t,null),n=new Rs(e),r=[];return Ks(e,n,n,r),Vs(e.container,r),n},Gs=function(t,e){switch(e){case 0:return Ws(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ws(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ws(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return Ws(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},js=function(t,e){switch(e){case 0:return Ws(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ws(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ws(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return Ws(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},qs=function(t,e){switch(e){case 0:return Ws(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ws(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ws(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return Ws(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Zs=function(t,e){switch(e){case 0:return Xs(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Xs(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Xs(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Xs(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Xs=function(t,e){var n=[];return Us(t)?n.push(t.subdivide(.5,!1)):n.push(t),Us(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Ws=function(t,e,n,r){var i=[];return Us(t)?i.push(t.subdivide(.5,!1)):i.push(t),Us(n)?i.push(n.subdivide(.5,!0)):i.push(n),Us(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Us(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},Js=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Ys=function(t){var e=t.styles,n=t.bounds,r=qn(e.paddingLeft,n.width),i=qn(e.paddingRight,n.width),o=qn(e.paddingTop,n.width),a=qn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+o+a))},tu=function(t,e){return 0===t?e.bounds:2===t?Ys(e):Js(e)},eu=function(t,e){return 0===t?e.bounds:2===t?Ys(e):Js(e)},nu=function(t,e,n){var r=tu(au(t.styles.backgroundOrigin,e),t),i=eu(au(t.styles.backgroundClip,e),t),o=ou(au(t.styles.backgroundSize,e),n,r),a=o[0],A=o[1],s=jn(au(t.styles.backgroundPosition,e),r.width-a,r.height-A);return[Au(au(t.styles.backgroundRepeat,e),s,o,r,i),Math.round(r.left+s[0]),Math.round(r.top+s[1]),a,A]},ru=function(t){return Mn(t)&&t.value===Hr.AUTO},iu=function(t){return"number"==typeof t},ou=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=t[0],A=t[1];if(!a)return[0,0];if(On(a)&&A&&On(A))return[qn(a,n.width),qn(A,n.height)];var s=iu(o);if(Mn(a)&&(a.value===Hr.CONTAIN||a.value===Hr.COVER))return iu(o)?n.width/n.height<o!=(a.value===Hr.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var u=iu(r),c=iu(i),l=u||c;if(ru(a)&&(!A||ru(A)))return u&&c?[r,i]:s||l?l&&s?[u?r:i*o,c?i:r/o]:[u?r:n.width,c?i:n.height]:[n.width,n.height];if(s){var h=0,f=0;return On(a)?h=qn(a,n.width):On(A)&&(f=qn(A,n.height)),ru(a)?h=f*o:A&&!ru(A)||(f=h/o),[h,f]}var p=null,d=null;if(On(a)?p=qn(a,n.width):A&&On(A)&&(d=qn(A,n.height)),null===p||A&&!ru(A)||(d=u&&c?p/r*i:n.height),null!==d&&ru(a)&&(p=u&&c?d/i*r:n.width),null!==p&&null!==d)return[p,d];throw new Error("Unable to calculate background-size for element")},au=function(t,e){var n=t[e];return void 0===n?t[0]:n},Au=function(t,e,n,r,i){var o=e[0],a=e[1],A=n[0],s=n[1];switch(t){case 2:return[new bs(Math.round(r.left),Math.round(r.top+a)),new bs(Math.round(r.left+r.width),Math.round(r.top+a)),new bs(Math.round(r.left+r.width),Math.round(s+r.top+a)),new bs(Math.round(r.left),Math.round(s+r.top+a))];case 3:return[new bs(Math.round(r.left+o),Math.round(r.top)),new bs(Math.round(r.left+o+A),Math.round(r.top)),new bs(Math.round(r.left+o+A),Math.round(r.height+r.top)),new bs(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new bs(Math.round(r.left+o),Math.round(r.top+a)),new bs(Math.round(r.left+o+A),Math.round(r.top+a)),new bs(Math.round(r.left+o+A),Math.round(r.top+a+s)),new bs(Math.round(r.left+o),Math.round(r.top+a+s))];default:return[new bs(Math.round(i.left),Math.round(i.top)),new bs(Math.round(i.left+i.width),Math.round(i.top)),new bs(Math.round(i.left+i.width),Math.round(i.height+i.top)),new bs(Math.round(i.left),Math.round(i.height+i.top))]}},su="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",uu="Hidden Text",cu=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src=su,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(uu)),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(uu)),n.style.lineHeight="normal",r.style.verticalAlign="super";var A=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:A}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),lu=function(){function t(t,e){this.context=t,this.options=e}return t}(),hu=1e4,fu=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new cu(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e(n,t),n.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},n.prototype.applyEffect=function(t){this.ctx.save(),Hs(t)&&(this.ctx.globalAlpha=t.opacity),Ls(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Ps(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return ao(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(t,e,n){var r=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n):Sa(t.text).reduce((function(e,i){return r.ctx.fillText(i,e,t.bounds.top+n),e+r.ctx.measureText(i).width}),t.bounds.left)},n.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=yu(t.fontFamily).join(", "),r=Sn(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(t,e){return r(this,void 0,void 0,(function(){var n,r,o,a,A,s,u,c,l=this;return i(this,(function(i){return n=this.createFontStyle(e),r=n[0],o=n[1],a=n[2],this.ctx.font=r,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,a),s=A.baseline,u=A.middle,c=e.paintOrder,t.textBounds.forEach((function(t){c.forEach((function(n){switch(n){case 0:l.ctx.fillStyle=or(e.color),l.renderTextWithLetterSpacing(t,e.letterSpacing,s);var r=e.textShadow;r.length&&t.text.trim().length&&(r.slice(0).reverse().forEach((function(n){l.ctx.shadowColor=or(n.color),l.ctx.shadowOffsetX=n.offsetX.number*l.options.scale,l.ctx.shadowOffsetY=n.offsetY.number*l.options.scale,l.ctx.shadowBlur=n.blur.number,l.renderTextWithLetterSpacing(t,e.letterSpacing,s)})),l.ctx.shadowColor="",l.ctx.shadowOffsetX=0,l.ctx.shadowOffsetY=0,l.ctx.shadowBlur=0),e.textDecorationLine.length&&(l.ctx.fillStyle=or(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:l.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+s),t.bounds.width,1);break;case 2:l.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:l.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+u),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(l.ctx.strokeStyle=or(e.webkitTextStrokeColor),l.ctx.lineWidth=e.webkitTextStrokeWidth,l.ctx.lineJoin=window.chrome?"miter":"round",l.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+s)),l.ctx.strokeStyle="",l.ctx.lineWidth=0,l.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=Ys(t),i=Ss(e);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(t){return r(this,void 0,void 0,(function(){var e,r,o,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,r=t.curves,o=e.styles,A=0,s=e.textNodes,i.label=1;case 1:return A<s.length?(u=s[A],[4,this.renderTextNode(u,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return A++,[3,1];case 4:if(!(e instanceof Ra))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return y=i.sent(),this.renderReplacedElement(e,r,y),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof Oa&&this.renderReplacedElement(e,r,e.canvas),!(e instanceof Ka))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return y=i.sent(),this.renderReplacedElement(e,r,y),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof rA&&e.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:c=i.sent(),e.width&&e.height&&this.ctx.drawImage(c,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),i.label=14;case 14:if(e instanceof tA&&(l=Math.min(e.bounds.width,e.bounds.height),e.type===Xa?e.checked&&(this.ctx.save(),this.path([new bs(e.bounds.left+.39363*l,e.bounds.top+.79*l),new bs(e.bounds.left+.16*l,e.bounds.top+.5549*l),new bs(e.bounds.left+.27347*l,e.bounds.top+.44071*l),new bs(e.bounds.left+.39694*l,e.bounds.top+.5649*l),new bs(e.bounds.left+.72983*l,e.bounds.top+.23*l),new bs(e.bounds.left+.84*l,e.bounds.top+.34085*l),new bs(e.bounds.left+.39363*l,e.bounds.top+.79*l)]),this.ctx.fillStyle=or(Ya),this.ctx.fill(),this.ctx.restore()):e.type===Wa&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+l/2,e.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=or(Ya),this.ctx.fill(),this.ctx.restore())),pu(e)&&e.value.length){switch(h=this.createFontStyle(o),_=h[0],f=h[1],p=this.fontMetrics.getMetrics(_,f).baseline,this.ctx.font=_,this.ctx.fillStyle=or(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gu(e.styles.textAlign),w=Ys(e),d=0,e.styles.textAlign){case 1:d+=w.width/2;break;case 2:d+=w.width}g=w.add(d,0,0,-w.height/2+1),this.ctx.save(),this.path([new bs(w.left,w.top),new bs(w.left+w.width,w.top),new bs(w.left+w.width,w.top+w.height),new bs(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ea(e.value,g),o.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ao(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(m=e.styles.listStyleImage).type)return[3,18];y=void 0,v=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=i.sent(),this.ctx.drawImage(y,e.bounds.left-(y.width+10),e.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(_=this.createFontStyle(o)[0],this.ctx.font=_,this.ctx.fillStyle=or(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new a(e.bounds.left,e.bounds.top+qn(e.styles.paddingTop,e.bounds.width),e.bounds.width,Bi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ea(t.listValue,w),o.letterSpacing,Bi(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a,A,s,u,c,l,h,f,p,d,g;return i(this,(function(i){switch(i.label){case 0:return ao(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:i.sent(),e=0,n=t.negativeZIndex,i.label=2;case 2:return e<n.length?(g=n[e],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:i.sent(),r=0,o=t.nonInlineLevel,i.label=7;case 7:return r<o.length?(g=o[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:a=0,A=t.nonPositionedFloats,i.label=11;case 11:return a<A.length?(g=A[a],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return a++,[3,11];case 14:s=0,u=t.nonPositionedInlineLevel,i.label=15;case 15:return s<u.length?(g=u[s],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return s++,[3,15];case 18:c=0,l=t.inlineLevel,i.label=19;case 19:return c<l.length?(g=l[c],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:h=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:p=0,d=t.positiveZIndex,i.label=27;case 27:return p<d.length?(g=d[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},n.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var r=Us(t)?t.start:t;0===n?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),Us(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},n.prototype.renderRepeat=function(t,e,n,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(t,e,n){var r;if(t.width===e&&t.height===n)return t;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,e),i.height=Math.max(1,n),i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),i},n.prototype.renderBackgroundImage=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a,A;return i(this,(function(s){switch(s.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U,E,Q,I,k,S,T,M,D;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,a=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(a)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+a),[3,4];case 4:return o&&(A=nu(t,e,[o.width,o.height,o.width/o.height]),_=A[0],F=A[1],U=A[2],B=A[3],b=A[4],y=r.ctx.createPattern(r.resizeImage(o,B,b),"repeat"),r.renderRepeat(_,y,F,U)),[3,6];case 5:Mr(n)?(s=nu(t,e,[null,null,null]),_=s[0],F=s[1],U=s[2],B=s[3],b=s[4],u=vr(n.angle,B,b),c=u[0],l=u[1],h=u[2],f=u[3],p=u[4],(d=document.createElement("canvas")).width=B,d.height=b,g=d.getContext("2d"),m=g.createLinearGradient(l,f,h,p),mr(n.stops,c).forEach((function(t){return m.addColorStop(t.stop,or(t.color))})),g.fillStyle=m,g.fillRect(0,0,B,b),B>0&&b>0&&(y=r.ctx.createPattern(d,"repeat"),r.renderRepeat(_,y,F,U))):Dr(n)&&(v=nu(t,e,[null,null,null]),_=v[0],w=v[1],x=v[2],B=v[3],b=v[4],C=0===n.position.length?[Nn]:n.position,F=qn(C[0],B),U=qn(C[C.length-1],b),E=xr(n,F,U,B,b),Q=E[0],I=E[1],Q>0&&I>0&&(k=r.ctx.createRadialGradient(w+F,x+U,0,w+F,x+U,Q),mr(n.stops,2*Q).forEach((function(t){return k.addColorStop(t.stop,or(t.color))})),r.path(_),r.ctx.fillStyle=k,Q!==I?(S=t.bounds.left+.5*t.bounds.width,T=t.bounds.top+.5*t.bounds.height,D=1/(M=I/Q),r.ctx.save(),r.ctx.translate(S,T),r.ctx.transform(1,0,0,M,0,0),r.ctx.translate(-S,-T),r.ctx.fillRect(w,D*(x-T)+T,B,b*D),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return e--,[2]}}))},r=this,o=0,a=t.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return o<a.length?(A=a[o],[5,n(A)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(t,e,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Gs(n,e)),this.ctx.fillStyle=or(t),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(t,e,n,o){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:return e<3?[4,this.renderSolidBorder(t,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=js(o,n),this.path(r),this.ctx.fillStyle=or(t),this.ctx.fill(),a=qs(o,n),this.path(a),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,a,A,s,u,c=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,n=!ir(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],o=du(au(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),ir(e.backgroundColor)||(this.ctx.fillStyle=or(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){c.ctx.save();var n=Is(t.curves),r=e.inset?0:hu,i=$s(n,-r+(e.inset?1:-1)*e.spread.number,(e.inset?1:-1)*e.spread.number,e.spread.number*(e.inset?-2:2),e.spread.number*(e.inset?-2:2));e.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=e.offsetX.number+r,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=or(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?or(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),i.label=2;case 2:a=0,A=0,s=r,i.label=3;case 3:return A<s.length?0!==(u=s[A]).style&&!ir(u.color)&&u.width>0?2!==u.style?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,t.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==u.style?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,t.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==u.style?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,t.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,t.curves)];case 10:i.sent(),i.label=11;case 11:a++,i.label=12;case 12:return A++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(t,e,n,o,a){return r(this,void 0,void 0,(function(){var r,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w;return i(this,(function(i){return this.ctx.save(),r=Zs(o,n),A=Gs(o,n),2===a&&(this.path(A),this.ctx.clip()),Us(A[0])?(s=A[0].start.x,u=A[0].start.y):(s=A[0].x,u=A[0].y),Us(A[1])?(c=A[1].end.x,l=A[1].end.y):(c=A[1].x,l=A[1].y),h=0===n||2===n?Math.abs(s-c):Math.abs(u-l),this.ctx.beginPath(),3===a?this.formatPath(r):this.formatPath(A.slice(0,2)),f=e<3?3*e:2*e,p=e<3?2*e:e,3===a&&(f=e,p=e),d=!0,h<=2*f?d=!1:h<=2*f+p?(f*=g=h/(2*f+p),p*=g):(m=Math.floor((h+p)/(f+p)),y=(h-m*f)/(m-1),p=(v=(h-(m+1)*f)/m)<=0||Math.abs(p-y)<Math.abs(p-v)?y:v),d&&(3===a?this.ctx.setLineDash([0,f+p]):this.ctx.setLineDash([f,p])),3===a?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=or(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===a&&(Us(A[0])&&(_=A[3],w=A[0],this.ctx.beginPath(),this.formatPath([new bs(_.end.x,_.end.y),new bs(w.start.x,w.start.y)]),this.ctx.stroke()),Us(A[1])&&(_=A[1],w=A[2],this.ctx.beginPath(),this.formatPath([new bs(_.end.x,_.end.y),new bs(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=or(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),e=Ns(t),[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(lu),pu=function(t){return t instanceof nA||t instanceof eA||t instanceof tA&&t.type!==Wa&&t.type!==Xa},du=function(t,e){switch(t){case 0:return Is(e);case 2:return ks(e);default:return Ss(e)}},gu=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},mu=["-apple-system","system-ui"],yu=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===mu.indexOf(t)})):t},vu=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e(n,t),n.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return e=Ca(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,_u(e)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=or(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(lu),_u=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},wu=function(){function t(t){var e=t.id,n=t.enabled;this.id=e,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},t.instances={},t}(),xu=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new wu({id:this.instanceName,enabled:e.logging}),this.cache=null!==(r=e.cache)&&void 0!==r?r:new ds(this,e)}return t.instanceCount=1,t}(),Bu=function(t,e){return void 0===e&&(e={}),bu(t,e)};"undefined"!=typeof window&&ps.setContext(window);var bu=function(t,e){return r(void 0,void 0,void 0,(function(){var r,o,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U,E,Q,I,k,S,T,M,D,L,P,H,z,$,R,O,K,V;return i(this,(function(i){switch(i.label){case 0:if(!t||"object"!==pn(t))return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return u={allowTaint:null!==(E=e.allowTaint)&&void 0!==E&&E,imageTimeout:null!==(Q=e.imageTimeout)&&void 0!==Q?Q:15e3,proxy:e.proxy,useCORS:null!==(I=e.useCORS)&&void 0!==I&&I},c=n({logging:null===(k=e.logging)||void 0===k||k,cache:e.cache},u),l={windowWidth:null!==(S=e.windowWidth)&&void 0!==S?S:o.innerWidth,windowHeight:null!==(T=e.windowHeight)&&void 0!==T?T:o.innerHeight,scrollX:null!==(M=e.scrollX)&&void 0!==M?M:o.pageXOffset,scrollY:null!==(D=e.scrollY)&&void 0!==D?D:o.pageYOffset},h=new a(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),f=new xu(c,h),p=null!==(L=e.foreignObjectRendering)&&void 0!==L&&L,d={allowTaint:null!==(P=e.allowTaint)&&void 0!==P&&P,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:p,copyStyles:p},f.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new XA(f,t,d),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=i.sent(),v=vA(m)||mA(m)?s(m.ownerDocument):A(f,m),_=v.width,w=v.height,x=v.left,B=v.top,b=Cu(f,m,e.backgroundColor),C={canvas:e.canvas,backgroundColor:b,scale:null!==(z=null!==(H=e.scale)&&void 0!==H?H:o.devicePixelRatio)&&void 0!==z?z:1,x:(null!==($=e.x)&&void 0!==$?$:0)+x,y:(null!==(R=e.y)&&void 0!==R?R:0)+B,width:null!==(O=e.width)&&void 0!==O?O:Math.ceil(_),height:null!==(K=e.height)&&void 0!==K?K:Math.ceil(w)},p?(f.logger.debug("Document cloned, using foreign object rendering"),[4,new vu(f,C).render(m)]):[3,3];case 2:return F=i.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+x+","+B+" with size "+_+"x"+w+" using computed rendering"),f.logger.debug("Starting DOM parsing"),U=AA(f,m),b===U.styles.backgroundColor&&(U.styles.backgroundColor=fr.TRANSPARENT),f.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),[4,new fu(f,C).render(U)];case 4:F=i.sent(),i.label=5;case 5:return(null===(V=e.removeContainer)||void 0===V||V)&&(XA.destroy(y)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,F]}}))}))},Cu=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?hr(t,getComputedStyle(r.documentElement).backgroundColor):fr.TRANSPARENT,o=r.body?hr(t,getComputedStyle(r.body).backgroundColor):fr.TRANSPARENT,a="string"==typeof n?hr(t,n):null===n?fr.TRANSPARENT:4294967295;return e===r.documentElement?ir(i)?ir(o)?a:o:i:a};return Bu}()}));function d_(t,e,n){var r=[];return n?e.forEach((function(e){r.push(t.filter((function(t){return t[n]==e})))})):r=[t],r}function g_(t,e){var n=document.createElement("a");n.href=t,n.download=e,n.click()}function m_(t){var e=String(t).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function y_(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function v_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Lt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Ht(this),n=pt(e.length),r=jt(e,0);return r.length=sd(r,e,e,n,0,void 0===t?1:ht(t)),r}}),Ue("flat");var __=function(){function t(e,n,r,i,o){cn(this,t),this.items=e,this.radiusFun=n,this.xFun=r,this.padding=i,this.yOffset=o,this.tieBreakFn=this._sfc32(2654435769,608135816,3084996962,1),this.maxR=Math.max.apply(Math,_n(e.map((function(t){return n(t)})))),this.rng=this._sfc32(1,2,3,1)}return Ju(t,[{key:"calculateYPositions",value:function(){var t=this,e=this.items.map((function(e,n){return{datum:e,originalIndex:n,x:t.xFun(e),r:t.radiusFun(e)+t.padding,y:null,placed:!1}})).sort((function(t,e){return t.x-e.x}));e.forEach((function(t,e){t.index=e}));var n=this.tieBreakFn;e.forEach((function(t){t.tieBreaker=n(t.x)}));var r,i=y_(_n(e).sort((function(e,n){var r=t.radiusFun(e.datum)+5*e.tieBreaker,i=t.radiusFun(n.datum)+5*n.tieBreaker;return r!=i?i-r:e.x-n.x})));try{for(i.s();!(r=i.n()).done;){var o=r.value;o.placed=!0,o.y=this._getBestYPosition(o,e)}}catch(t){i.e(t)}finally{i.f()}return e.sort((function(t,e){return t.originalIndex-e.originalIndex})),e.map((function(e){return{x:e.x,y:e.y+t.yOffset,r:t.radiusFun(e.datum)}}))}},{key:"_sfc32",value:function(t,e,n,r){for(var i=function(){var i=(t>>>=0)+(e>>>=0)|0;return t=e^e>>>9,e=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(i=i+(r=(r>>>=0)+1|0)|0)|0,(i>>>0)/4294967296},o=0;o<10;o++)i();return i}},{key:"_getBestYPosition",value:function(t,e){for(var n=[],r=0,i=[-1,1];r<i.length;r++)for(var o=i[r],a=void 0,A=t.r,s=t.index+o;s>=0&&s<e.length&&(a=Math.abs(t.x-e[s].x))<A+this.maxR;s+=o){var u=e[s];if(u.placed){var c=A+u.r;if(!(a>=A+u.r)){var l=Math.sqrt(c*c-a*a),h=[u.y-l,u.y+l];n.push(h)}}}if(0==n.length)return t.r*(this.rng()-.5)*2;var f=n.flat();f.push(0),f.sort((function(t,e){var n=Math.abs(t),r=Math.abs(e);return n<r?-1:n>r?1:t-e}));for(var p=function(t){var e=f[t];if(n.every((function(t){return e<=t[0]||e>=t[1]})))return{v:e}},d=0;d<f.length;d++){var g=p(d);if("object"===pn(g))return g.v}}}]),t}();function w_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function x_(t,e,n){var r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y=Wc("LayerCake"),v=y.data,_=y.x,w=y.y,x=y.r,B=y.xGet,b=y.yGet,C=y.rGet,F=y.xScale,U=y.yScale,E=y.yRange,Q=y.rRange,I=y.xDomain,k=y.yDomain,S=y.custom,T=y.width;cc(t,v,(function(t){return n(20,m=t)})),cc(t,_,(function(t){return n(18,d=t)})),cc(t,w,(function(t){return n(17,p=t)})),cc(t,x,(function(t){return n(16,f=t)})),cc(t,B,(function(t){return n(25,a=t)})),cc(t,b,(function(t){return n(29,c=t)})),cc(t,C,(function(t){return n(27,s=t)})),cc(t,F,(function(t){return n(23,i=t)})),cc(t,U,(function(t){return n(22,r=t)})),cc(t,E,(function(t){return n(24,o=t)})),cc(t,Q,(function(t){return n(26,A=t)})),cc(t,I,(function(t){return n(30,l=t)})),cc(t,k,(function(t){return n(28,u=t)})),cc(t,S,(function(t){return n(19,g=t)})),cc(t,T,(function(t){return n(15,h=t)}));var M=g.coords,D=g.type,L=h;return t.$$.update=function(){2064384&t.$$.dirty[0]&&function(t,e,n,h,f,p){var d,g=e.mode,m=e.padding,y=e.animation&&p==L?e.duration:0;if(L=p,"bar"==D){var v=[],_=[];d=t.map((function(e,i){return e.map((function(e,o){v[o]||(v[o]=0),_[o]||(_[o]=0);var a="default"==g||"grouped"==g||"comparison"==g&&0==i?l[0]:"stacked"==g&&n(e)>=0?v[o]:"stacked"==g?_[o]:n(e),A="default"==g||"grouped"==g||"comparison"==g&&0==i?n(e):"stacked"==g&&n(e)>=0?v[o]+n(e):"stacked"==g?_[o]+n(e):n(e);n(e)>=0?v[o]+=n(e):_[o]+=n(e);var s="grouped"==g?c(e)+i*(r.bandwidth()/t.length):c(e);return{x0:a,x1:A,y0:s,y1:"grouped"==g?s+r.bandwidth()/t.length:s+r.bandwidth()}}))}))}else if("column"==D){var w=[],x=[];d=t.map((function(e,n){return e.map((function(e,r){w[r]||(w[r]=0),x[r]||(x[r]=0);var o="grouped"==g&&i.bandwidth?a(e)+n*(1/t.length)*i.bandwidth():"grouped"==g?a(e)[0]+n*(1/t.length)*Math.max(0,a(e)[1]-a(e)[0]):i.bandwidth?a(e):a(e)[0],A="grouped"==g&&i.bandwidth?o+i.bandwidth()/t.length:"grouped"==g?o+Math.max(0,a(e)[1]-a(e)[0])/t.length:i.bandwidth?o+i.bandwidth():o+Math.max(0,a(e)[1]-a(e)[0]),s="default"==g||"grouped"==g||"comparison"==g&&0==n?u[0]:"stacked"==g&&h(e)>=0?w[r]:"stacked"==g?x[r]:h(e),c="default"==g||"grouped"==g||"comparison"==g&&0==n?h(e):"stacked"==g&&h(e)>=0?w[r]+h(e):"stacked"==g?x[r]+h(e):h(e);return h(e)>=0?w[r]+=h(e):x[r]+=h(e),{x0:o,x1:A,y0:s,y1:c}}))}))}else if("scatter"==D){var B=function(t){return f?s(t):A[0]};d=h?t.map((function(t){return{x:n(t),y:h(t),r:B(t)}})):new __(t,(function(t){return B(t)}),(function(t){return a(t)}),m,o[0]/2).calculateYPositions().map((function(t){return{x:i.invert(t.x),y:r.invert(t.y),r:t.r}}))}else d=t.map((function(t){return t.map((function(t){return{x:n(t),y:h(t)}}))}));"dotplot"==D&&console.log(d),M.set(d,{duration:y})}(m,g,d,p,f,h)},[v,_,w,x,B,b,C,F,U,E,Q,I,k,S,T,h,f,p,d,g,m]}var B_=function(t){fn(n,t);var e=w_(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,x_,null,Ac,{},null,[-1,-1]),r}return n}(Bl);function b_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function C_(t){Uc(t,"svelte-1kkdyuo",".bar-group.svelte-1kkdyuo polygon.svelte-1kkdyuo,.line-group.svelte-1kkdyuo polygon.svelte-1kkdyuo{shape-rendering:crispEdges}")}function F_(t,e,n){var r=t.slice();return r[38]=e[n],r[40]=n,r}function U_(t,e,n){var r=t.slice();return r[41]=e[n],r[43]=n,r}function E_(t,e,n){var r=t.slice();return r[41]=e[n],r[40]=n,r}function Q_(t){for(var e,n,r="confidence"===t[8]&&I_(t),i=t[9],o=[],a=0;a<i.length;a+=1)o[a]=M_(F_(t,i,a));return{c:function(){r&&r.c(),e=Mc(),n=Sc("g");for(var t=0;t<o.length;t+=1)o[t].c();Pc(n,"class","bar-group svelte-1kkdyuo")},m:function(t,i){r&&r.m(t,i),Ec(t,e,i),Ec(t,n,i);for(var a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p:function(t,a){if("confidence"===t[8]?r?r.p(t,a):((r=I_(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),1069580223&a[0]){var A;for(i=t[9],A=0;A<i.length;A+=1){var s=F_(t,i,A);o[A]?o[A].p(s,a):(o[A]=M_(s),o[A].c(),o[A].m(n,null))}for(;A<o.length;A+=1)o[A].d(1);o.length=i.length}},d:function(t){r&&r.d(t),t&&Qc(e),t&&Qc(n),Ic(o,t)}}}function I_(t){for(var e,n=t[6](t[9]),r=[],i=0;i<n.length;i+=1)r[i]=k_(E_(t,n,i));return{c:function(){e=Sc("g");for(var t=0;t<r.length;t+=1)r[t].c();Pc(e,"class","line-group svelte-1kkdyuo")},m:function(t,n){Ec(t,e,n);for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p:function(t,i){if(54558450&i[0]){var o;for(n=t[6](t[9]),o=0;o<n.length;o+=1){var a=E_(t,n,o);r[o]?r[o].p(a,i):(r[o]=k_(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){t&&Qc(e),Ic(r,t)}}}function k_(t){var e,n,r;return{c:function(){Pc(e=Sc("polygon"),"class","line-confidence svelte-1kkdyuo"),Pc(e,"data-id",t[40]),Pc(e,"points",n=t[7](t[10](t[41].x0),t[10](t[41].x1),t[41].y0,t[41].y1)),Pc(e,"fill",r=t[5]&&t[11][0][t[40]][t[22]]==t[1]?t[24]:t[5]&&t[4].includes(t[11][0][t[40]][t[22]])?t[25]:t[12].z?t[13](t[11][0][t[40]]):t[14][0]),Pc(e,"opacity",.3)},m:function(t,n){Ec(t,e,n)},p:function(t,i){1728&i[0]&&n!==(n=t[7](t[10](t[41].x0),t[10](t[41].x1),t[41].y0,t[41].y1))&&Pc(e,"points",n),30770&i[0]&&r!==(r=t[5]&&t[11][0][t[40]][t[22]]==t[1]?t[24]:t[5]&&t[4].includes(t[11][0][t[40]][t[22]])?t[25]:t[12].z?t[13](t[11][0][t[40]]):t[14][0])&&Pc(e,"fill",r)},d:function(t){t&&Qc(e)}}}function S_(t){var e,n,r,i,o,a,A,s,u;function c(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[31].apply(e,[t[40],t[43]].concat(r))}function l(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[33].apply(e,[t[40],t[43]].concat(r))}function h(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[35].apply(e,[t[40],t[43]].concat(r))}return{c:function(){Pc(e=Sc("polygon"),"class","bar-rect svelte-1kkdyuo"),Pc(e,"data-id",t[43]),Pc(e,"transform",n="translate("+("barcode"==t[8]||"comparison"==t[8]&&t[40]>0?-t[27]/2:0)+" 0)"),Pc(e,"points",r=t[7](t[10](t[41].x0),t[10](t[41].x1),t[41].y0,t[41].y1)),Pc(e,"stroke",i=t[11][t[40]][t[43]][t[22]]==t[0]?t[23]:t[11][t[40]][t[43]][t[22]]==t[1]?t[24]:t[25]),Pc(e,"stroke-width",o=t[11][t[40]][t[43]][t[22]]==t[0]||t[11][t[40]][t[43]][t[22]]==t[1]||t[4].includes(t[11][t[40]][t[43]][t[22]])?t[26]:0),Pc(e,"fill",a=t[5]&&t[11][t[40]][t[43]][t[22]]==t[1]?t[24]:t[5]&&t[4].includes(t[11][t[40]][t[43]][t[22]])?t[25]:t[12].z?t[13](t[11][t[40]][t[43]]):t[14][0]),Pc(e,"tabindex",A=t[2]||t[3]?0:-1)},m:function(n,r){Ec(n,e,r),s||(u=[Lc(e,"mouseover",(function(){ac(t[2]?c:null)&&(t[2]?c:null).apply(this,arguments)})),Lc(e,"mouseleave",(function(){ac(t[2]?t[32]:null)&&(t[2]?t[32]:null).apply(this,arguments)})),Lc(e,"focus",(function(){ac(t[3]?l:null)&&(t[3]?l:null).apply(this,arguments)})),Lc(e,"blur",(function(){ac(t[3]?t[34]:null)&&(t[3]?t[34]:null).apply(this,arguments)})),Lc(e,"click",(function(){ac(t[3]?h:null)&&(t[3]?h:null).apply(this,arguments)}))],s=!0)},p:function(s,u){t=s,256&u[0]&&n!==(n="translate("+("barcode"==t[8]||"comparison"==t[8]&&t[40]>0?-t[27]/2:0)+" 0)")&&Pc(e,"transform",n),1664&u[0]&&r!==(r=t[7](t[10](t[41].x0),t[10](t[41].x1),t[41].y0,t[41].y1))&&Pc(e,"points",r),2051&u[0]&&i!==(i=t[11][t[40]][t[43]][t[22]]==t[0]?t[23]:t[11][t[40]][t[43]][t[22]]==t[1]?t[24]:t[25])&&Pc(e,"stroke",i),2067&u[0]&&o!==(o=t[11][t[40]][t[43]][t[22]]==t[0]||t[11][t[40]][t[43]][t[22]]==t[1]||t[4].includes(t[11][t[40]][t[43]][t[22]])?t[26]:0)&&Pc(e,"stroke-width",o),30770&u[0]&&a!==(a=t[5]&&t[11][t[40]][t[43]][t[22]]==t[1]?t[24]:t[5]&&t[4].includes(t[11][t[40]][t[43]][t[22]])?t[25]:t[12].z?t[13](t[11][t[40]][t[43]]):t[14][0])&&Pc(e,"fill",a),12&u[0]&&A!==(A=t[2]||t[3]?0:-1)&&Pc(e,"tabindex",A)},d:function(t){t&&Qc(e),s=!1,oc(u)}}}function T_(t){var e,n=!("confidence"===t[8]&&t[40]>0)&&S_(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){"confidence"===t[8]&&t[40]>0?n&&(n.d(1),n=null):n?n.p(t,r):((n=S_(t)).c(),n.m(e.parentNode,e))},d:function(t){n&&n.d(t),t&&Qc(e)}}}function M_(t){for(var e,n=t[38],r=[],i=0;i<n.length;i+=1)r[i]=T_(U_(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=Dc()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(t,n);Ec(t,e,n)},p:function(t,i){if(1069580223&i[0]){var o;for(n=t[38],o=0;o<n.length;o+=1){var a=U_(t,n,o);r[o]?r[o].p(a,i):(r[o]=T_(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Ic(r,t),t&&Qc(e)}}}function D_(t){var e,n=t[9]&&Q_(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){t[9]?n?n.p(t,r):((n=Q_(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function L_(t,e,n){var r,i,o,a,A,s,u,c,l,h,f=Wc("LayerCake"),p=f.data,d=f.xScale,g=f.zGet,m=(f.xDomain,f.zRange),y=f.config,v=f.custom;cc(t,p,(function(t){return n(11,u=t)})),cc(t,d,(function(t){return n(10,s=t)})),cc(t,g,(function(t){return n(13,l=t)})),cc(t,m,(function(t){return n(14,h=t)})),cc(t,y,(function(t){return n(12,c=t)})),cc(t,v,(function(t){return n(30,a=t)}));var _=Zc(),w=e.hover,x=void 0!==w&&w,B=e.hovered,b=void 0===B?null:B,C=e.select,F=void 0!==C&&C,U=e.selected,E=void 0===U?null:U,Q=e.highlighted,I=void 0===Q?[]:Q,k=e.overlayFill,S=void 0!==k&&k,T=a.coords;cc(t,T,(function(t){return n(9,A=t)}));var M=a.idKey,D=a.colorHover?a.colorHover:"orange",L=a.colorSelect?a.colorSelect:"black",P=a.colorHighlight?a.colorHighlight:"black",H=a.lineWidth?a.lineWidth:2,z=a.markerWidth?a.markerWidth:2.5;function $(t,e){x&&(n(0,b=e?e[M]:null),_("hover",{id:b,data:e,event:t}))}function R(t,e){F&&(n(1,E=e?e[M]:null),_("select",{id:E,data:e,event:t}))}return t.$$set=function(t){"hover"in t&&n(2,x=t.hover),"hovered"in t&&n(0,b=t.hovered),"select"in t&&n(3,F=t.select),"selected"in t&&n(1,E=t.selected),"highlighted"in t&&n(4,I=t.highlighted),"overlayFill"in t&&n(5,S=t.overlayFill)},t.$$.update=function(){1073741824&t.$$.dirty[0]&&n(8,r=a.mode?a.mode:"default")},n(7,i=function(t,e,n,r){return e=Math.abs(e-t)<z?t+z:e,"".concat(t,",").concat(n," ").concat(t,",").concat(r," ").concat(e,",").concat(r," ").concat(e,",").concat(n)}),n(6,o=function(t){for(var e=[],n=function(n){var r=Math.min.apply(Math,_n(t.map((function(t){return t[n].x1})))),i=Math.max.apply(Math,_n(t.map((function(t){return t[n].x1}))));e.push({x0:r,x1:i,y0:t[0][n].y0,y1:t[0][n].y1})},r=0;r<t[0].length;r++)n(r);return e}),[b,E,x,F,I,S,o,i,r,A,s,u,c,l,h,p,d,g,m,y,v,T,M,D,L,P,H,z,$,R,a,function(t,e,n){return $(n,u[t][e])},function(t){return $(t,null)},function(t,e,n){return $(n,u[t][e])},function(t){return $(t,null)},function(t,e,n){return R(n,u[t][e])}]}var P_=function(t){fn(n,t);var e=b_(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,L_,D_,Ac,{hover:2,hovered:0,select:3,selected:1,highlighted:4,overlayFill:5},C_,[-1,-1]),r}return n}(Bl);function H_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function z_(t){Uc(t,"svelte-1b8cddl",".tick.svelte-1b8cddl.svelte-1b8cddl{font-size:.8em}.tick.svelte-1b8cddl .tick-mark.svelte-1b8cddl,.tick.tick-0.svelte-1b8cddl line.svelte-1b8cddl{stroke-dasharray:0}.tick.svelte-1b8cddl line.svelte-1b8cddl{shape-rendering:crispEdges}.dashed.svelte-1b8cddl.svelte-1b8cddl{stroke-dasharray:2}.axis.snapTicks.svelte-1b8cddl .tick:last-child text.svelte-1b8cddl{transform:translateX(3px)}.axis.snapTicks.svelte-1b8cddl .tick.tick-0 text.svelte-1b8cddl{transform:translateX(-3px)}")}function $_(t,e,n){var r=t.slice();return r[25]=e[n],r[27]=n,r}function R_(t){var e,n;return{c:function(){Pc(e=Sc("line"),"class","gridline svelte-1b8cddl"),Pc(e,"y1",n=-1*t[17]),Pc(e,"y2","0"),Pc(e,"x1","0"),Pc(e,"x2","0"),Nc(e,"dashed",t[1]),$c(e,"stroke",t[3]),$c(e,"stroke-width",0===t[25]?1.5:1),$c(e,"filter",0!==t[25]?"contrast(calc(1/3)) brightness(1.5)":null)},m:function(t,n){Ec(t,e,n)},p:function(t,r){131072&r&&n!==(n=-1*t[17])&&Pc(e,"y1",n),2&r&&Nc(e,"dashed",t[1]),8&r&&$c(e,"stroke",t[3]),32768&r&&$c(e,"stroke-width",0===t[25]?1.5:1),32768&r&&$c(e,"filter",0!==t[25]?"contrast(calc(1/3)) brightness(1.5)":null)},d:function(t){t&&Qc(e)}}}function O_(t){var e,n,r;return{c:function(){Pc(e=Sc("line"),"class","tick-mark svelte-1b8cddl"),Pc(e,"y1",0),Pc(e,"y2",t[10]),Pc(e,"x1",n=t[7]||t[13]?t[14].bandwidth()/2:0),Pc(e,"x2",r=t[7]||t[13]?t[14].bandwidth()/2:0),$c(e,"stroke",t[3]),$c(e,"stroke-width",0===t[25]?1.5:1),$c(e,"filter",0!==t[25]?"contrast(calc(1/3)) brightness(1.5)":null)},m:function(t,n){Ec(t,e,n)},p:function(t,i){1024&i&&Pc(e,"y2",t[10]),24704&i&&n!==(n=t[7]||t[13]?t[14].bandwidth()/2:0)&&Pc(e,"x1",n),24704&i&&r!==(r=t[7]||t[13]?t[14].bandwidth()/2:0)&&Pc(e,"x2",r),8&i&&$c(e,"stroke",t[3]),32768&i&&$c(e,"stroke-width",0===t[25]?1.5:1),32768&i&&$c(e,"filter",0!==t[25]?"contrast(calc(1/3)) brightness(1.5)":null)},d:function(t){t&&Qc(e)}}}function K_(t){var e,n,r,i,o,a,A,s=(t[27]==t[15].length-1?t[11]+t[5](t[25])+t[12]:t[5](t[25]))+"",u=!1!==t[0]&&R_(t),c=!0===t[2]&&O_(t);return{c:function(){e=Sc("g"),u&&u.c(),n=Dc(),c&&c.c(),r=Sc("text"),i=Tc(s),Pc(r,"x",o=t[7]||t[13]?t[14].bandwidth()/2:0),Pc(r,"y",t[8]),Pc(r,"dx",t[9]),Pc(r,"dy",t[10]),Pc(r,"text-anchor",t[21](t[27])),Pc(r,"fill",t[4]),Pc(r,"class","svelte-1b8cddl"),Pc(e,"class",a="tick tick-"+t[25]+" svelte-1b8cddl"),Pc(e,"transform",A="translate("+t[14](t[25])+","+Math.max.apply(Math,_n(t[16]))+")")},m:function(t,o){Ec(t,e,o),u&&u.m(e,null),Fc(e,n),c&&c.m(e,null),Fc(e,r),Fc(r,i)},p:function(t,l){!1!==t[0]?u?u.p(t,l):((u=R_(t)).c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[2]?c?c.p(t,l):((c=O_(t)).c(),c.m(e,r)):c&&(c.d(1),c=null),38944&l&&s!==(s=(t[27]==t[15].length-1?t[11]+t[5](t[25])+t[12]:t[5](t[25]))+"")&&zc(i,s),24704&l&&o!==(o=t[7]||t[13]?t[14].bandwidth()/2:0)&&Pc(r,"x",o),256&l&&Pc(r,"y",t[8]),512&l&&Pc(r,"dx",t[9]),1024&l&&Pc(r,"dy",t[10]),16&l&&Pc(r,"fill",t[4]),32768&l&&a!==(a="tick tick-"+t[25]+" svelte-1b8cddl")&&Pc(e,"class",a),114688&l&&A!==(A="translate("+t[14](t[25])+","+Math.max.apply(Math,_n(t[16]))+")")&&Pc(e,"transform",A)},d:function(t){t&&Qc(e),u&&u.d(),c&&c.d()}}}function V_(t){for(var e,n=t[15],r=[],i=0;i<n.length;i+=1)r[i]=K_($_(t,n,i));return{c:function(){e=Sc("g");for(var n=0;n<r.length;n+=1)r[n].c();Pc(e,"class","axis x-axis svelte-1b8cddl"),Nc(e,"snapTicks",t[6])},m:function(t,n){Ec(t,e,n);for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p:function(t,i){var o=vh(i,1)[0];if(2359231&o){var a;for(n=t[15],a=0;a<n.length;a+=1){var A=$_(t,n,a);r[a]?r[a].p(A,o):(r[a]=K_(A),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}64&o&&Nc(e,"snapTicks",t[6])},i:Yu,o:Yu,d:function(t){t&&Qc(e),Ic(r,t)}}}function N_(t,e,n){var r,i,o,a,A,s=Wc("LayerCake"),u=s.height,c=s.xScale,l=(s.xDomain,s.yRange);cc(t,u,(function(t){return n(17,A=t)})),cc(t,c,(function(t){return n(14,o=t)})),cc(t,l,(function(t){return n(16,a=t)}));var h=e.gridlines,f=void 0===h||h,p=e.tickDashed,d=void 0!==p&&p,g=e.tickMarks,m=void 0!==g&&g,y=e.tickColor,v=void 0===y?"#b3b3b3":y,_=e.textColor,w=void 0===_?"#707070":_,x=e.formatTick,B=void 0===x?function(t){return t}:x,b=e.snapTicks,C=void 0!==b&&b,F=e.ticks,U=void 0===F?void 0:F,E=e.xTick,Q=void 0===E?void 0:E,I=e.yTick,k=void 0===I?16:I,S=e.forceTicks,T=void 0!==S&&S,M=e.dxTick,D=void 0===M?0:M,L=e.dyTick,P=void 0===L?m?8:0:L,H=e.prefix,z=void 0===H?"":H,$=e.suffix,R=void 0===$?"":$;return t.$$set=function(t){"gridlines"in t&&n(0,f=t.gridlines),"tickDashed"in t&&n(1,d=t.tickDashed),"tickMarks"in t&&n(2,m=t.tickMarks),"tickColor"in t&&n(3,v=t.tickColor),"textColor"in t&&n(4,w=t.textColor),"formatTick"in t&&n(5,B=t.formatTick),"snapTicks"in t&&n(6,C=t.snapTicks),"ticks"in t&&n(22,U=t.ticks),"xTick"in t&&n(7,Q=t.xTick),"yTick"in t&&n(8,k=t.yTick),"forceTicks"in t&&n(23,T=t.forceTicks),"dxTick"in t&&n(9,D=t.dxTick),"dyTick"in t&&n(10,P=t.dyTick),"prefix"in t&&n(11,z=t.prefix),"suffix"in t&&n(12,R=t.suffix)},t.$$.update=function(){16384&t.$$.dirty&&n(13,r="function"==typeof o.bandwidth),12607488&t.$$.dirty&&n(15,i=Array.isArray(U)?U:r?o.domain():"function"==typeof U?U(o.ticks()):"number"==typeof U&&T?function(t,e){if(e.length>1&&e.length<t.length&&e[e.length-1]!==t[t.length-1]){for(var n=t.indexOf(e[1])-t.indexOf(e[0]),r=[],i=t.length-1-(e.length-1)*n;i<t.length;)r.push(t[i]),i+=n;return r}return e}(o.ticks(),o.ticks(U)):o.ticks(U))},[f,d,m,v,w,B,C,Q,k,D,P,z,R,r,o,i,a,A,u,c,l,function(t){if(!0===C){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},U,T]}var G_=function(t){fn(n,t);var e=H_(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,N_,V_,Ac,{gridlines:0,tickDashed:1,tickMarks:2,tickColor:3,textColor:4,formatTick:5,snapTicks:6,ticks:22,xTick:7,yTick:8,forceTicks:23,dxTick:9,dyTick:10,prefix:11,suffix:12},z_),r}return n}(Bl);function j_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.disable){var n=function(t,e){return"number"==typeof t?t:e},r=n(e.width,100),i=n(e.dyAdjust,.05),o=n(e.lineHeightEms,1),a=n(e.lineHeightSquishFactor,1),A=e.splitOnHyphen||!0,s=e.centreVertically||!0,u=(t.getAttribute("x"),t.getAttribute("y"),t.getAttribute("text-anchor")),c=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElementNS("http://www.w3.org/2000/svg",e);return n&&(r.textContent=n),t.append(r),r},l=[];t.textContent.split(/\s+/).forEach((function(t){if(A){for(var e=t.split("-"),n=0;n<e.length-1;n++)l.push(e[n]+"-");l.push(e[e.length-1]+" ")}else l.push(t+" ")})),t.textContent="";for(var h=c(t,"tspan"),f="",p="",d=0,g=0;g<l.length;g++){var m=l[g];p=f,f+=m,++d,h.textContent=f.trim(),h.getComputedTextLength()>r&&d>1&&(h.textContent=p.trim(),p="",f=m,d=1,h=c(t,"tspan",m.trim()))}var y=t.childNodes,v=o;if(y.length>2)for(var _=0;_<y.length;_++)v*=a;var w=0;y.forEach((function(t,e){"end"===u&&0!==e&&(w=-t.getComputedTextLength());var n=0===e?i:1;s&&0===e&&(n-=(y.length-1)*v/2),t.setAttribute("dx",w),t.setAttribute("dy",n+"em"),"end"!==u&&(w=-t.getComputedTextLength())}))}}function q_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Z_(t){Uc(t,"svelte-f7wn4m",".tick.svelte-f7wn4m.svelte-f7wn4m{font-size:.8em}.dashed.svelte-f7wn4m.svelte-f7wn4m{stroke-dasharray:2}.tick.tick-0.svelte-f7wn4m line.svelte-f7wn4m{stroke-dasharray:0}")}function X_(t,e,n){var r=t.slice();return r[26]=e[n],r[28]=n,r}function W_(t){var e,n,r,i;return{c:function(){Pc(e=Sc("line"),"class","gridline svelte-f7wn4m"),Pc(e,"x1","0"),Pc(e,"x2",n=t[2]?t[20]-t[18].right:t[20]),Pc(e,"y1",r=t[9]+(t[15]?t[16].bandwidth()/2:0)),Pc(e,"y2",i=t[9]+(t[15]?t[16].bandwidth()/2:0)),Nc(e,"dashed",t[3]),$c(e,"stroke",t[4]),$c(e,"stroke-width",0===t[26]?1.5:1),$c(e,"filter",0!==t[26]?"contrast(calc(1/3)) brightness(1.5)":null)},m:function(t,n){Ec(t,e,n)},p:function(t,o){1310724&o&&n!==(n=t[2]?t[20]-t[18].right:t[20])&&Pc(e,"x2",n),98816&o&&r!==(r=t[9]+(t[15]?t[16].bandwidth()/2:0))&&Pc(e,"y1",r),98816&o&&i!==(i=t[9]+(t[15]?t[16].bandwidth()/2:0))&&Pc(e,"y2",i),8&o&&Nc(e,"dashed",t[3]),16&o&&$c(e,"stroke",t[4]),131072&o&&$c(e,"stroke-width",0===t[26]?1.5:1),131072&o&&$c(e,"filter",0!==t[26]?"contrast(calc(1/3)) brightness(1.5)":null)},d:function(t){t&&Qc(e)}}}function J_(t){var e,n,r,i;return{c:function(){Pc(e=Sc("line"),"class","tick-mark svelte-f7wn4m"),Pc(e,"x1","0"),Pc(e,"x2",n=t[15]?-6:6),Pc(e,"y1",r=t[9]+(t[15]?t[16].bandwidth()/2:0)),Pc(e,"y2",i=t[9]+(t[15]?t[16].bandwidth()/2:0)),$c(e,"stroke",t[4]),$c(e,"stroke-width",0===t[26]?1.5:1),$c(e,"filter",0!==t[26]?"contrast(calc(1/3)) brightness(1.5)":null)},m:function(t,n){Ec(t,e,n)},p:function(t,o){32768&o&&n!==(n=t[15]?-6:6)&&Pc(e,"x2",n),98816&o&&r!==(r=t[9]+(t[15]?t[16].bandwidth()/2:0))&&Pc(e,"y1",r),98816&o&&i!==(i=t[9]+(t[15]?t[16].bandwidth()/2:0))&&Pc(e,"y2",i),16&o&&$c(e,"stroke",t[4]),131072&o&&$c(e,"stroke-width",0===t[26]?1.5:1),131072&o&&$c(e,"filter",0!==t[26]?"contrast(calc(1/3)) brightness(1.5)":null)},d:function(t){t&&Qc(e)}}}function Y_(t){var e,n,r,i,o,a,A,s,u,c,l,h,f=(t[28]==t[17].length-1?t[13]+t[6](t[26])+t[14]:t[6](t[26]))+"",p=!1!==t[1]&&W_(t),d=!0===t[0]&&J_(t);return{c:function(){e=Sc("g"),p&&p.c(),n=Dc(),d&&d.c(),r=Sc("text"),i=Tc(f),Pc(r,"x",o=t[8]+(t[15]?-4:t[10])),Pc(r,"y",a=t[9]+(t[15]?t[16].bandwidth()/2:0)+(t[15]?4:t[11])),Pc(r,"text-anchor",A=t[15]?"end":t[12]),Pc(r,"fill",t[5]),Pc(e,"class",u="tick tick-"+t[26]+" svelte-f7wn4m"),Pc(e,"transform",c="translate("+(t[19][0]+(t[15]?t[18].left:0))+", "+t[16](t[26])+")")},m:function(o,a){Ec(o,e,a),p&&p.m(e,null),Fc(e,n),d&&d.m(e,null),Fc(e,r),Fc(r,i),l||(h=mc(s=j_.call(null,r,{disable:!t[7],width:t[18].left})),l=!0)},p:function(t,l){!1!==t[1]?p?p.p(t,l):((p=W_(t)).c(),p.m(e,n)):p&&(p.d(1),p=null),!0===t[0]?d?d.p(t,l):((d=J_(t)).c(),d.m(e,r)):d&&(d.d(1),d=null),155712&l&&f!==(f=(t[28]==t[17].length-1?t[13]+t[6](t[26])+t[14]:t[6](t[26]))+"")&&zc(i,f),34048&l&&o!==(o=t[8]+(t[15]?-4:t[10]))&&Pc(r,"x",o),100864&l&&a!==(a=t[9]+(t[15]?t[16].bandwidth()/2:0)+(t[15]?4:t[11]))&&Pc(r,"y",a),36864&l&&A!==(A=t[15]?"end":t[12])&&Pc(r,"text-anchor",A),32&l&&Pc(r,"fill",t[5]),s&&ac(s.update)&&262272&l&&s.update.call(null,{disable:!t[7],width:t[18].left}),131072&l&&u!==(u="tick tick-"+t[26]+" svelte-f7wn4m")&&Pc(e,"class",u),1015808&l&&c!==(c="translate("+(t[19][0]+(t[15]?t[18].left:0))+", "+t[16](t[26])+")")&&Pc(e,"transform",c)},d:function(t){t&&Qc(e),p&&p.d(),d&&d.d(),l=!1,h()}}}function tw(t){for(var e,n,r=t[17],i=[],o=0;o<r.length;o+=1)i[o]=Y_(X_(t,r,o));return{c:function(){e=Sc("g");for(var r=0;r<i.length;r+=1)i[r].c();Pc(e,"class","axis y-axis"),Pc(e,"transform",n="translate("+-t[18].left+", 0)")},m:function(t,n){Ec(t,e,n);for(var r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p:function(t,o){var a=vh(o,1)[0];if(2097151&a){var A;for(r=t[17],A=0;A<r.length;A+=1){var s=X_(t,r,A);i[A]?i[A].p(s,a):(i[A]=Y_(s),i[A].c(),i[A].m(e,null))}for(;A<i.length;A+=1)i[A].d(1);i.length=r.length}262144&a&&n!==(n="translate("+-t[18].left+", 0)")&&Pc(e,"transform",n)},i:Yu,o:Yu,d:function(t){t&&Qc(e),Ic(i,t)}}}function ew(t,e,n){var r,i,o,a,A,s,u=Wc("LayerCake"),c=u.containerWidth,l=u.padding,h=u.xRange,f=u.yScale;cc(t,c,(function(t){return n(20,s=t)})),cc(t,l,(function(t){return n(18,a=t)})),cc(t,h,(function(t){return n(19,A=t)})),cc(t,f,(function(t){return n(16,o=t)}));var p=e.ticks,d=void 0===p?4:p,g=e.tickMarks,m=void 0!==g&&g,y=e.gridlines,v=void 0===y||y,_=e.trimGridlines,w=void 0!==_&&_,x=e.tickDashed,B=void 0!==x&&x,b=e.tickColor,C=void 0===b?"#b3b3b3":b,F=e.textColor,U=void 0===F?"#707070":F,E=e.formatTick,Q=void 0===E?function(t){return t}:E,I=e.wrapTicks,k=void 0!==I&&I,S=e.xTick,T=void 0===S?0:S,M=e.yTick,D=void 0===M?0:M,L=e.dxTick,P=void 0===L?m?8:0:L,H=e.dyTick,z=void 0===H?-4:H,$=e.textAnchor,R=void 0===$?"start":$,O=e.prefix,K=void 0===O?"":O,V=e.suffix,N=void 0===V?"":V;return t.$$set=function(t){"ticks"in t&&n(25,d=t.ticks),"tickMarks"in t&&n(0,m=t.tickMarks),"gridlines"in t&&n(1,v=t.gridlines),"trimGridlines"in t&&n(2,w=t.trimGridlines),"tickDashed"in t&&n(3,B=t.tickDashed),"tickColor"in t&&n(4,C=t.tickColor),"textColor"in t&&n(5,U=t.textColor),"formatTick"in t&&n(6,Q=t.formatTick),"wrapTicks"in t&&n(7,k=t.wrapTicks),"xTick"in t&&n(8,T=t.xTick),"yTick"in t&&n(9,D=t.yTick),"dxTick"in t&&n(10,P=t.dxTick),"dyTick"in t&&n(11,z=t.dyTick),"textAnchor"in t&&n(12,R=t.textAnchor),"prefix"in t&&n(13,K=t.prefix),"suffix"in t&&n(14,N=t.suffix)},t.$$.update=function(){65536&t.$$.dirty&&n(15,r="function"==typeof o.bandwidth),33652736&t.$$.dirty&&n(17,i=Array.isArray(d)?d:r?o.domain():"function"==typeof d?d(o.ticks()):o.ticks(d))},[m,v,w,B,C,U,Q,k,T,D,P,z,R,K,N,r,o,i,a,A,s,c,l,h,f,d]}var nw=function(t){fn(n,t);var e=q_(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,ew,tw,Ac,{ticks:25,tickMarks:0,gridlines:1,trimGridlines:2,tickDashed:3,tickColor:4,textColor:5,formatTick:6,wrapTicks:7,xTick:8,yTick:9,dxTick:10,dyTick:11,textAnchor:12,prefix:13,suffix:14},Z_),r}return n}(Bl);function rw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function iw(t){Uc(t,"svelte-nqsavd","ul.legend.svelte-nqsavd.svelte-nqsavd.svelte-nqsavd{margin:0;padding:0}ul.legend.svelte-nqsavd li.svelte-nqsavd.svelte-nqsavd{display:inline;font-size:.8em}ul.legend.svelte-nqsavd li.svelte-nqsavd+li.svelte-nqsavd{margin-left:8px}.bullet.svelte-nqsavd.svelte-nqsavd.svelte-nqsavd{display:inline-block;vertical-align:middle;transform:translateY(-1px)}.round.svelte-nqsavd.svelte-nqsavd.svelte-nqsavd{border-radius:50%}")}function ow(t,e,n){var r=t.slice();return r[10]=e[n],r[12]=n,r}function aw(t){for(var e,n=t[8],r=[],i=0;i<n.length;i+=1)r[i]=Aw(ow(t,n,i));return{c:function(){e=kc("ul");for(var t=0;t<r.length;t+=1)r[t].c();Pc(e,"class","legend svelte-nqsavd"),Pc(e,"aria-hidden","true")},m:function(t,n){Ec(t,e,n);for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p:function(t,i){if(511&i){var o;for(n=t[8],o=0;o<n.length;o+=1){var a=ow(t,n,o);r[o]?r[o].p(a,i):(r[o]=Aw(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){t&&Qc(e),Ic(r,t)}}}function Aw(t){var e,n,r,i,o,a="".concat(!t[4]&&(t[1]||t[2]&&0!=t[12]||t[3]&&0==t[12])?t[5]:t[6],"px"),A="".concat(t[4]&&(t[1]||t[2]&&0!=t[12]||t[3]&&0==t[12])?t[5]:t[6],"px"),s=t[10]+"";return{c:function(){e=kc("li"),n=kc("div"),r=Mc(),i=Tc(s),o=Mc(),Pc(n,"class","bullet svelte-nqsavd"),Nc(n,"round",t[7]),$c(n,"background-color",t[3]?t[0][0]:t[0][t[12]]),$c(n,"width",a),$c(n,"height",A),$c(n,"opacity",t[3]&&1==t[12]?"0.3":null),Pc(e,"class","svelte-nqsavd")},m:function(t,a){Ec(t,e,a),Fc(e,n),Fc(e,r),Fc(e,i),Fc(e,o)},p:function(t,e){128&e&&Nc(n,"round",t[7]),9&e&&$c(n,"background-color",t[3]?t[0][0]:t[0][t[12]]),126&e&&a!==(a="".concat(!t[4]&&(t[1]||t[2]&&0!=t[12]||t[3]&&0==t[12])?t[5]:t[6],"px"))&&$c(n,"width",a),126&e&&A!==(A="".concat(t[4]&&(t[1]||t[2]&&0!=t[12]||t[3]&&0==t[12])?t[5]:t[6],"px"))&&$c(n,"height",A),8&e&&$c(n,"opacity",t[3]&&1==t[12]?"0.3":null),256&e&&s!==(s=t[10]+"")&&zc(i,s)},d:function(t){t&&Qc(e)}}}function sw(t){var e,n=Array.isArray(t[8])&&Array.isArray(t[0]),r=n&&aw(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,n){r&&r.m(t,n),Ec(t,e,n)},p:function(t,i){var o=vh(i,1)[0];257&o&&(n=Array.isArray(t[8])&&Array.isArray(t[0])),n?r?r.p(t,o):((r=aw(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Yu,o:Yu,d:function(t){r&&r.d(t),t&&Qc(e)}}}function uw(t,e,n){var r,i=e.domain,o=void 0===i?null:i,a=e.colors,A=void 0===a?null:a,s=e.line,u=void 0!==s&&s,c=e.comparison,l=void 0!==c&&c,h=e.confidence,f=void 0!==h&&h,p=e.horizontal,d=void 0===p||p,g=e.markerWidth,m=void 0===g?2.5:g,y=e.markerLength,v=void 0===y?13:y,_=e.round,w=void 0!==_&&_;return t.$$set=function(t){"domain"in t&&n(9,o=t.domain),"colors"in t&&n(0,A=t.colors),"line"in t&&n(1,u=t.line),"comparison"in t&&n(2,l=t.comparison),"confidence"in t&&n(3,f=t.confidence),"horizontal"in t&&n(4,d=t.horizontal),"markerWidth"in t&&n(5,m=t.markerWidth),"markerLength"in t&&n(6,v=t.markerLength),"round"in t&&n(7,w=t.round)},t.$$.update=function(){520&t.$$.dirty&&n(8,r=f?["Estimate","Confidence interval"]:o)},[A,u,l,f,d,m,v,w,r,o]}var cw=function(t){fn(n,t);var e=rw(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,uw,sw,Ac,{domain:9,colors:0,line:1,comparison:2,confidence:3,horizontal:4,markerWidth:5,markerLength:6,round:7},iw),r}return n}(Bl);function lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function hw(t){Uc(t,"svelte-pvs6ms",".chart-title.svelte-pvs6ms{font-size:1.1em;font-weight:bold;margin-bottom:10px}")}function fw(t){var e,n,r=t[1].default,i=lc(r,t,t[0],null);return{c:function(){e=kc("h3"),i&&i.c(),Pc(e,"class","chart-title svelte-pvs6ms")},m:function(t,r){Ec(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){var o=vh(e,1)[0];i&&i.p&&(!n||1&o)&&pc(i,r,t,t[0],n?fc(r,t[0],o,null):dc(t[0]),null)},i:function(t){n||(dl(i,t),n=!0)},o:function(t){gl(i,t),n=!1},d:function(t){t&&Qc(e),i&&i.d(t)}}}function pw(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope;return t.$$set=function(t){"$$scope"in t&&n(0,o=t.$$scope)},[o,i]}var dw=function(t){fn(n,t);var e=lw(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,pw,fw,Ac,{},hw),r}return n}(Bl);function gw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function mw(t){Uc(t,"svelte-1clt1zg",".chart-subtitle.svelte-1clt1zg{margin-top:-6px;margin-bottom:10px}")}function yw(t){var e,n,r=t[1].default,i=lc(r,t,t[0],null);return{c:function(){e=kc("div"),i&&i.c(),Pc(e,"class","chart-subtitle svelte-1clt1zg")},m:function(t,r){Ec(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){var o=vh(e,1)[0];i&&i.p&&(!n||1&o)&&pc(i,r,t,t[0],n?fc(r,t[0],o,null):dc(t[0]),null)},i:function(t){n||(dl(i,t),n=!0)},o:function(t){gl(i,t),n=!1},d:function(t){t&&Qc(e),i&&i.d(t)}}}function vw(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope;return t.$$set=function(t){"$$scope"in t&&n(0,o=t.$$scope)},[o,i]}var _w=function(t){fn(n,t);var e=gw(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,vw,yw,Ac,{},mw),r}return n}(Bl);function ww(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function xw(t){Uc(t,"svelte-16332wo",".chart-footer.svelte-16332wo{font-size:.8em;color:grey;margin-top:5px}")}function Bw(t){var e,n,r=t[1].default,i=lc(r,t,t[0],null);return{c:function(){e=kc("div"),i&&i.c(),Pc(e,"class","chart-footer svelte-16332wo")},m:function(t,r){Ec(t,e,r),i&&i.m(e,null),n=!0},p:function(t,e){var o=vh(e,1)[0];i&&i.p&&(!n||1&o)&&pc(i,r,t,t[0],n?fc(r,t[0],o,null):dc(t[0]),null)},i:function(t){n||(dl(i,t),n=!0)},o:function(t){gl(i,t),n=!1},d:function(t){t&&Qc(e),i&&i.d(t)}}}function bw(t,e,n){var r=e.$$slots,i=void 0===r?{}:r,o=e.$$scope;return t.$$set=function(t){"$$scope"in t&&n(0,o=t.$$scope)},[o,i]}var Cw=function(t){fn(n,t);var e=ww(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,bw,Bw,Ac,{},xw),r}return n}(Bl);function Fw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Uw(t){Uc(t,"svelte-1no2d6c",".chart-export.svelte-1no2d6c{margin-top:10px;font-size:.8em}button.svelte-1no2d6c{color:#206095;text-decoration:underline;text-underline-position:under;background:none;border:none;padding:0 0 1px}button.svelte-1no2d6c:hover{cursor:pointer;color:#003c57;text-decoration-thickness:2px}button.svelte-1no2d6c:focus{color:#222;background-color:#fbc900;text-decoration-thickness:3px}")}function Ew(t){var e,n,r;return{c:function(){(e=kc("button")).textContent="Download data (CSV)",Pc(e,"class","svelte-1no2d6c")},m:function(i,o){Ec(i,e,o),n||(r=Lc(e,"click",t[5]),n=!0)},p:Yu,d:function(t){t&&Qc(e),n=!1,r()}}}function Qw(t){var e;return{c:function(){e=Tc("|")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function Iw(t){var e,n,r;return{c:function(){(e=kc("button")).textContent="Download image (PNG)",Pc(e,"class","svelte-1no2d6c")},m:function(i,o){Ec(i,e,o),n||(r=Lc(e,"click",t[6]),n=!0)},p:Yu,d:function(t){t&&Qc(e),n=!1,r()}}}function kw(t){var e,n,r,i=t[4].csv&&Ew(t),o=t[4].csv&&t[4].png&&Qw(),a=t[4].png&&Iw(t);return{c:function(){e=kc("div"),i&&i.c(),n=Mc(),o&&o.c(),r=Mc(),a&&a.c(),Pc(e,"class","chart-export svelte-1no2d6c")},m:function(t,A){Ec(t,e,A),i&&i.m(e,null),Fc(e,n),o&&o.m(e,null),Fc(e,r),a&&a.m(e,null)},p:function(t,A){var s=vh(A,1)[0];t[4].csv?i?i.p(t,s):((i=Ew(t)).c(),i.m(e,n)):i&&(i.d(1),i=null),t[4].csv&&t[4].png?o||((o=Qw()).c(),o.m(e,r)):o&&(o.d(1),o=null),t[4].png?a?a.p(t,s):((a=Iw(t)).c(),a.m(e,null)):a&&(a.d(1),a=null)},i:Yu,o:Yu,d:function(t){t&&Qc(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function Sw(t,e,n){var r=e.el,i=e.data,o=e.keys,a=void 0===o?[]:o,A=e.title,s=void 0===A?null:A,u=e.output,c=void 0===u?{}:u;return t.$$set=function(t){"el"in t&&n(0,r=t.el),"data"in t&&n(1,i=t.data),"keys"in t&&n(2,a=t.keys),"title"in t&&n(3,s=t.title),"output"in t&&n(4,c=t.output)},[r,i,a,s,c,function(){return function(t){var e=arguments.length>2?arguments[2]:void 0,n="",r=[];(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){t&&!r.includes(t)&&r.push(t)})),n+=r.join(",")+"\n",t.forEach((function(t){n+=r.map((function(e){return t[e]})).join(",")+"\n"})),g_("data:text/csv;charset=utf-8,"+encodeURI(n),e+".csv")}(i,a,s||"chart")},function(){return t=s||"chart",void p_(r).then((function(e){g_(e.toDataURL(),t+".png")}));var t}]}var Tw=function(t){fn(n,t);var e=Fw(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Sw,kw,Ac,{el:0,data:1,keys:2,title:3,output:4},Uw),r}return n}(Bl);function Mw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Dw(t,e,n){var r=t.slice();return r[7]=e[n],r}function Lw(t,e,n){var r=t.slice();return r[10]=e[n],r}function Pw(t,e,n){var r=t.slice();return r[10]=e[n],r}function Hw(t){for(var e,n,r,i,o,a=t[1],A=[],s=0;s<a.length;s+=1)A[s]=zw(Pw(t,a,s));for(var u=t[0],c=[],l=0;l<u.length;l+=1)c[l]=Rw(Dw(t,u,l));return{c:function(){e=kc("table"),n=kc("thead"),r=kc("tr");for(var t=0;t<A.length;t+=1)A[t].c();i=Mc(),o=kc("tbody");for(var a=0;a<c.length;a+=1)c[a].c()},m:function(t,a){Ec(t,e,a),Fc(e,n),Fc(n,r);for(var s=0;s<A.length;s+=1)A[s]&&A[s].m(r,null);Fc(e,i),Fc(e,o);for(var u=0;u<c.length;u+=1)c[u]&&c[u].m(o,null)},p:function(t,e){if(2&e){var n;for(a=t[1],n=0;n<a.length;n+=1){var i=Pw(t,a,n);A[n]?A[n].p(i,e):(A[n]=zw(i),A[n].c(),A[n].m(r,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=a.length}if(3&e){var s;for(u=t[0],s=0;s<u.length;s+=1){var l=Dw(t,u,s);c[s]?c[s].p(l,e):(c[s]=Rw(l),c[s].c(),c[s].m(o,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=u.length}},d:function(t){t&&Qc(e),Ic(A,t),Ic(c,t)}}}function zw(t){var e,n,r=t[10]+"";return{c:function(){e=kc("th"),n=Tc(r)},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,e){2&e&&r!==(r=t[10]+"")&&zc(n,r)},d:function(t){t&&Qc(e)}}}function $w(t){var e,n,r=t[7][t[10]]+"";return{c:function(){e=kc("td"),n=Tc(r)},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,e){3&e&&r!==(r=t[7][t[10]]+"")&&zc(n,r)},d:function(t){t&&Qc(e)}}}function Rw(t){for(var e,n,r=t[1],i=[],o=0;o<r.length;o+=1)i[o]=$w(Lw(t,r,o));return{c:function(){e=kc("tr");for(var t=0;t<i.length;t+=1)i[t].c();n=Mc()},m:function(t,r){Ec(t,e,r);for(var o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);Fc(e,n)},p:function(t,o){if(3&o){var a;for(r=t[1],a=0;a<r.length;a+=1){var A=Lw(t,r,a);i[a]?i[a].p(A,o):(i[a]=$w(A),i[a].c(),i[a].m(e,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d:function(t){t&&Qc(e),Ic(i,t)}}}function Ow(t){var e,n=t[0]&&t[1]&&Hw(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){var i=vh(r,1)[0];t[0]&&t[1]?n?n.p(t,i):((n=Hw(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function Kw(t,e,n){var r,i=e.data,o=e.key1,a=void 0===o?null:o,A=e.key2,s=void 0===A?null:A,u=e.key3,c=void 0===u?null:u,l=e.key4,h=void 0===l?null:l;return t.$$set=function(t){"data"in t&&n(0,i=t.data),"key1"in t&&n(2,a=t.key1),"key2"in t&&n(3,s=t.key2),"key3"in t&&n(4,c=t.key3),"key4"in t&&n(5,h=t.key4)},t.$$.update=function(){60&t.$$.dirty&&n(1,r=function(t,e,n,r){var i=[];return t&&i.push(t),e&&i.push(e),n&&i.push(n),r&&i.push(r),i}(a,s,c,h))},[i,r,a,s,c,h]}var Vw=function(t){fn(n,t);var e=Mw(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Kw,Ow,Ac,{data:0,key1:2,key2:3,key3:4,key4:5}),r}return n}(Bl);function Nw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Gw(t){Uc(t,"svelte-1fy6g2i",".chart-container.svelte-1fy6g2i{width:100%}.visuallyhidden.svelte-1fy6g2i{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}")}var jw=function(t){return{}},qw=function(t){return{}},Zw=function(t){return{}},Xw=function(t){return{}},Ww=function(t){return{}},Jw=function(t){return{}},Yw=function(t){return{}},tx=function(t){return{}},ex=function(t){return{}},nx=function(t){return{}};function rx(t){var e,n;return e=new dw({props:{$$slots:{default:[ix]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};2097152&n[0]|2&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function ix(t){var e;return{c:function(){e=Tc(t[21])},m:function(t,n){Ec(t,e,n)},p:function(t,n){2097152&n[0]&&zc(e,t[21])},d:function(t){t&&Qc(e)}}}function ox(t){var e,n;return e=new _w({props:{$$slots:{default:[ax]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};4194304&n[0]|2&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function ax(t){var e;return{c:function(){e=Tc(t[22])},m:function(t,n){Ec(t,e,n)},p:function(t,n){4194304&n[0]&&zc(e,t[22])},d:function(t){t&&Qc(e)}}}function Ax(t){var e,n;return{c:function(){e=kc("h5"),n=Tc(t[23]),Pc(e,"class","visuallyhidden svelte-1fy6g2i")},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,e){8388608&e[0]&&zc(n,t[23])},d:function(t){t&&Qc(e)}}}function sx(t){var e,n;return e=new G_({props:{ticks:t[17],formatTick:t[13],snapTicks:t[27],prefix:t[34],suffix:t[35],textColor:t[18],tickColor:t[19],tickDashed:t[20]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};131072&n[0]&&(r.ticks=t[17]),8192&n[0]&&(r.formatTick=t[13]),134217728&n[0]&&(r.snapTicks=t[27]),8&n[1]&&(r.prefix=t[34]),16&n[1]&&(r.suffix=t[35]),262144&n[0]&&(r.textColor=t[18]),524288&n[0]&&(r.tickColor=t[19]),1048576&n[0]&&(r.tickDashed=t[20]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function ux(t){var e,n;return e=new nw({props:{gridlines:!1,prefix:t[36],suffix:t[37],textColor:t[18],tickColor:t[19],tickDashed:t[20],wrapTicks:t[14]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};32&n[1]&&(r.prefix=t[36]),64&n[1]&&(r.suffix=t[37]),262144&n[0]&&(r.textColor=t[18]),524288&n[0]&&(r.tickColor=t[19]),1048576&n[0]&&(r.tickDashed=t[20]),16384&n[0]&&(r.wrapTicks=t[14]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function cx(t){var e,n,r,i,o,a=t[15]&&sx(t),A=t[16]&&ux(t);(r=new P_({props:{select:t[41],selected:t[42],hover:t[38],hovered:t[39],highlighted:t[44],overlayFill:t[46]}})).$on("hover",t[60]),r.$on("select",t[61]);var s=t[59].svg,u=lc(s,t,t[63],Jw);return{c:function(){a&&a.c(),e=Mc(),A&&A.c(),n=Mc(),yl(r.$$.fragment),i=Mc(),u&&u.c()},m:function(t,s){a&&a.m(t,s),Ec(t,e,s),A&&A.m(t,s),Ec(t,n,s),vl(r,t,s),Ec(t,i,s),u&&u.m(t,s),o=!0},p:function(t,i){t[15]?a?(a.p(t,i),32768&i[0]&&dl(a,1)):((a=sx(t)).c(),dl(a,1),a.m(e.parentNode,e)):a&&(fl(),gl(a,1,1,(function(){a=null})),pl()),t[16]?A?(A.p(t,i),65536&i[0]&&dl(A,1)):((A=ux(t)).c(),dl(A,1),A.m(n.parentNode,n)):A&&(fl(),gl(A,1,1,(function(){A=null})),pl());var c={};1024&i[1]&&(c.select=t[41]),2048&i[1]&&(c.selected=t[42]),128&i[1]&&(c.hover=t[38]),256&i[1]&&(c.hovered=t[39]),8192&i[1]&&(c.highlighted=t[44]),32768&i[1]&&(c.overlayFill=t[46]),r.$set(c),u&&u.p&&(!o||2&i[2])&&pc(u,s,t,t[63],o?fc(s,t[63],i,Ww):dc(t[63]),Jw)},i:function(t){o||(dl(a),dl(A),dl(r.$$.fragment,t),dl(u,t),o=!0)},o:function(t){gl(a),gl(A),gl(r.$$.fragment,t),gl(u,t),o=!1},d:function(t){a&&a.d(t),t&&Qc(e),A&&A.d(t),t&&Qc(n),_l(r,t),t&&Qc(i),u&&u.d(t)}}}function lx(t){var e,n,r,i,o,a;e=new B_({});var A=t[59].back,s=lc(A,t,t[63],tx);i=new o_({props:{pointerEvents:t[33],$$slots:{default:[cx]},$$scope:{ctx:t}}});var u=t[59].front,c=lc(u,t,t[63],Xw);return{c:function(){yl(e.$$.fragment),n=Mc(),s&&s.c(),r=Mc(),yl(i.$$.fragment),o=Mc(),c&&c.c()},m:function(t,A){vl(e,t,A),Ec(t,n,A),s&&s.m(t,A),Ec(t,r,A),vl(i,t,A),Ec(t,o,A),c&&c.m(t,A),a=!0},p:function(t,e){s&&s.p&&(!a||2&e[2])&&pc(s,A,t,t[63],a?fc(A,t[63],e,Yw):dc(t[63]),tx);var n={};4&e[1]&&(n.pointerEvents=t[33]),136306688&e[0]|44536&e[1]|2&e[2]&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),c&&c.p&&(!a||2&e[2])&&pc(c,u,t,t[63],a?fc(u,t[63],e,Zw):dc(t[63]),Xw)},i:function(t){a||(dl(e.$$.fragment,t),dl(s,t),dl(i.$$.fragment,t),dl(c,t),a=!0)},o:function(t){gl(e.$$.fragment,t),gl(s,t),gl(i.$$.fragment,t),gl(c,t),a=!1},d:function(t){_l(e,t),t&&Qc(n),s&&s.d(t),t&&Qc(r),_l(i,t),t&&Qc(o),c&&c.d(t)}}}function hx(t){var e,n,r;return n=new Vw({props:{data:t[0],key1:t[9],key2:t[8]}}),{c:function(){e=kc("div"),yl(n.$$.fragment),Pc(e,"class","visuallyhidden svelte-1fy6g2i")},m:function(t,i){Ec(t,e,i),vl(n,e,null),r=!0},p:function(t,e){var r={};1&e[0]&&(r.data=t[0]),512&e[0]&&(r.key1=t[9]),256&e[0]&&(r.key2=t[8]),n.$set(r)},i:function(t){r||(dl(n.$$.fragment,t),r=!0)},o:function(t){gl(n.$$.fragment,t),r=!1},d:function(t){t&&Qc(e),_l(n)}}}function fx(t){var e,n;return e=new cw({props:{domain:t[48],colors:t[30],markerWidth:t[31],horizontal:!1,line:"barcode"==t[28],comparison:"comparison"==t[28],confidence:"confidence"==t[28]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};131072&n[1]&&(r.domain=t[48]),1073741824&n[0]&&(r.colors=t[30]),1&n[1]&&(r.markerWidth=t[31]),268435456&n[0]&&(r.line="barcode"==t[28]),268435456&n[0]&&(r.comparison="comparison"==t[28]),268435456&n[0]&&(r.confidence="confidence"==t[28]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function px(t){var e,n;return e=new Cw({props:{$$slots:{default:[dx]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};16777216&n[0]|2&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function dx(t){var e;return{c:function(){e=Tc(t[24])},m:function(t,n){Ec(t,e,n)},p:function(t,n){16777216&n[0]&&zc(e,t[24])},d:function(t){t&&Qc(e)}}}function gx(t){var e,n;return e=new Tw({props:{el:t[49],data:t[0],keys:[t[11],t[9],t[10],t[8]],title:t[21],output:t[47]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};262144&n[1]&&(r.el=t[49]),1&n[0]&&(r.data=t[0]),3840&n[0]&&(r.keys=[t[11],t[9],t[10],t[8]]),2097152&n[0]&&(r.title=t[21]),65536&n[1]&&(r.output=t[47]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function mx(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d=t[21]&&rx(t),g=t[22]&&ox(t),m=t[23]&&Ax(t),y=t[59].options,v=lc(y,t,t[63],nx);A=new jv({props:{padding:t[29],ssr:t[3],height:t[3]?t[5]:null,width:t[3]?t[4]:null,x:t[8],y:t[9],z:t[10],xDomain:t[52],yDomain:t[51],xScale:"function"==typeof t[12]?t[12]():"log"==t[12]?Am():Yg(),yScale:Qd().paddingInner(t[32]).paddingOuter(t[32]).round(!0),zScale:Ed(),zDomain:t[48],zRange:t[30],data:t[50],flatData:t[0],custom:{type:"bar",mode:t[28],idKey:t[11],coords:t[53],markerWidth:t[31],colorSelect:t[43],colorHover:t[40],colorHighlight:t[45],animation:t[6],duration:t[7]},$$slots:{default:[lx]},$$scope:{ctx:t}}});var _=t[26]&&hx(t),w=t[59].legend,x=lc(w,t,t[63],qw),B=t[25]&&t[48]&&fx(t),b=t[24]&&px(t),C=t[47]&&gx(t);return{c:function(){e=kc("div"),d&&d.c(),n=Mc(),g&&g.c(),r=Mc(),m&&m.c(),i=Mc(),v&&v.c(),o=Mc(),a=kc("div"),yl(A.$$.fragment),s=Mc(),_&&_.c(),u=Mc(),x&&x.c(),c=Mc(),B&&B.c(),l=Mc(),b&&b.c(),h=Mc(),C&&C.c(),f=Dc(),Pc(a,"class","chart-container svelte-1fy6g2i"),$c(a,"height","number"==typeof t[2]?"".concat(t[2],"px"):t[2]?t[2]:t[51]?"".concat(t[29].top+t[29].bottom+t[1]*t[51].length,"px"):"300px"),Pc(a,"aria-hidden","true")},m:function(y,w){Ec(y,e,w),d&&d.m(e,null),Fc(e,n),g&&g.m(e,null),Fc(e,r),m&&m.m(e,null),Fc(e,i),v&&v.m(e,null),Fc(e,o),Fc(e,a),vl(A,a,null),Fc(e,s),_&&_.m(e,null),Fc(e,u),x&&x.m(e,null),Fc(e,c),B&&B.m(e,null),Fc(e,l),b&&b.m(e,null),t[62](e),Ec(y,h,w),C&&C.m(y,w),Ec(y,f,w),p=!0},p:function(t,o){t[21]?d?(d.p(t,o),2097152&o[0]&&dl(d,1)):((d=rx(t)).c(),dl(d,1),d.m(e,n)):d&&(fl(),gl(d,1,1,(function(){d=null})),pl()),t[22]?g?(g.p(t,o),4194304&o[0]&&dl(g,1)):((g=ox(t)).c(),dl(g,1),g.m(e,r)):g&&(fl(),gl(g,1,1,(function(){g=null})),pl()),t[23]?m?m.p(t,o):((m=Ax(t)).c(),m.m(e,i)):m&&(m.d(1),m=null),v&&v.p&&(!p||2&o[2])&&pc(v,y,t,t[63],p?fc(y,t[63],o,ex):dc(t[63]),nx);var s={};536870912&o[0]&&(s.padding=t[29]),8&o[0]&&(s.ssr=t[3]),40&o[0]&&(s.height=t[3]?t[5]:null),24&o[0]&&(s.width=t[3]?t[4]:null),256&o[0]&&(s.x=t[8]),512&o[0]&&(s.y=t[9]),1024&o[0]&&(s.z=t[10]),2097152&o[1]&&(s.xDomain=t[52]),1048576&o[1]&&(s.yDomain=t[51]),4096&o[0]&&(s.xScale="function"==typeof t[12]?t[12]():"log"==t[12]?Am():Yg()),2&o[1]&&(s.yScale=Qd().paddingInner(t[32]).paddingOuter(t[32]).round(!0)),131072&o[1]&&(s.zDomain=t[48]),1073741824&o[0]&&(s.zRange=t[30]),524288&o[1]&&(s.data=t[50]),1&o[0]&&(s.flatData=t[0]),268437696&o[0]|20993&o[1]&&(s.custom={type:"bar",mode:t[28],idKey:t[11],coords:t[53],markerWidth:t[31],colorSelect:t[43],colorHover:t[40],colorHighlight:t[45],animation:t[6],duration:t[7]}),136306688&o[0]|44540&o[1]|2&o[2]&&(s.$$scope={dirty:o,ctx:t}),A.$set(s),(!p||536870918&o[0]|1048576&o[1])&&$c(a,"height","number"==typeof t[2]?"".concat(t[2],"px"):t[2]?t[2]:t[51]?"".concat(t[29].top+t[29].bottom+t[1]*t[51].length,"px"):"300px"),t[26]?_?(_.p(t,o),67108864&o[0]&&dl(_,1)):((_=hx(t)).c(),dl(_,1),_.m(e,u)):_&&(fl(),gl(_,1,1,(function(){_=null})),pl()),x&&x.p&&(!p||2&o[2])&&pc(x,w,t,t[63],p?fc(w,t[63],o,jw):dc(t[63]),qw),t[25]&&t[48]?B?(B.p(t,o),33554432&o[0]|131072&o[1]&&dl(B,1)):((B=fx(t)).c(),dl(B,1),B.m(e,l)):B&&(fl(),gl(B,1,1,(function(){B=null})),pl()),t[24]?b?(b.p(t,o),16777216&o[0]&&dl(b,1)):((b=px(t)).c(),dl(b,1),b.m(e,null)):b&&(fl(),gl(b,1,1,(function(){b=null})),pl()),t[47]?C?(C.p(t,o),65536&o[1]&&dl(C,1)):((C=gx(t)).c(),dl(C,1),C.m(f.parentNode,f)):C&&(fl(),gl(C,1,1,(function(){C=null})),pl())},i:function(t){p||(dl(d),dl(g),dl(v,t),dl(A.$$.fragment,t),dl(_),dl(x,t),dl(B),dl(b),dl(C),p=!0)},o:function(t){gl(d),gl(g),gl(v,t),gl(A.$$.fragment,t),gl(_),gl(x,t),gl(B),gl(b),gl(C),p=!1},d:function(n){n&&Qc(e),d&&d.d(),g&&g.d(),m&&m.d(),v&&v.d(n),_l(A),_&&_.d(),x&&x.d(n),B&&B.d(),b&&b.d(),t[62](null),n&&Qc(h),C&&C.d(n),n&&Qc(f)}}}function yx(t,e,n){var r,i,o,a,A,s=e.$$slots,u=void 0===s?{}:s,c=e.$$scope,l=e.data,h=e.barHeight,f=void 0===h?40:h,p=e.height,d=void 0===p?null:p,g=e.ssr,m=void 0!==g&&g,y=e.ssrWidth,v=void 0===y?300:y,_=e.ssrHeight,w=void 0===_?"number"==typeof d?d:300:_,x=e.animation,B=void 0===x||x,b=e.duration,C=void 0===b?800:b,F=e.xKey,U=void 0===F?"x":F,E=e.yKey,Q=void 0===E?"y":E,I=e.zKey,k=void 0===I?null:I,S=e.idKey,T=void 0===S?Q:S,M=e.xScale,D=void 0===M?"linear":M,L=e.xFormatTick,P=void 0===L?m_:L,H=e.yWrapTicks,z=void 0===H||H,$=e.xMax,R=void 0===$?null:$,O=e.xMin,K=void 0===O?null:O,V=e.xAxis,N=void 0===V||V,G=e.yAxis,j=void 0===G||G,q=e.xTicks,Z=void 0===q?4:q,X=e.zDomain,W=void 0===X?null:X,J=e.textColor,Y=void 0===J?"#666":J,tt=e.tickColor,et=void 0===tt?"#ccc":tt,nt=e.tickDashed,rt=void 0!==nt&&nt,it=e.title,ot=void 0===it?null:it,at=e.subtitle,At=void 0===at?null:at,st=e.alt,ut=void 0===st?null:st,ct=e.footer,lt=void 0===ct?null:ct,ht=e.legend,ft=void 0!==ht&&ht,pt=e.table,dt=void 0!==pt&&pt,gt=e.snapTicks,mt=void 0!==gt&&gt,yt=e.mode,vt=void 0===yt?"default":yt,_t=e.padding,wt=void 0===_t?{top:0,bottom:20,left:35,right:0}:_t,xt=e.color,Bt=void 0===xt?null:xt,bt=e.colors,Ct=void 0===bt?Bt?[Bt]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]:bt,Ft=e.markerWidth,Ut=void 0===Ft?2.5:Ft,Et=e.spacing,Qt=void 0===Et?.2:Et,It=e.interactive,kt=void 0===It||It,St=e.xPrefix,Tt=void 0===St?"":St,Mt=e.xSuffix,Dt=void 0===Mt?"":Mt,Lt=e.yPrefix,Pt=void 0===Lt?"":Lt,Ht=e.ySuffix,zt=void 0===Ht?"":Ht,$t=e.hover,Rt=void 0!==$t&&$t,Ot=e.hovered,Kt=void 0===Ot?null:Ot,Vt=e.colorHover,Nt=void 0===Vt?"orange":Vt,Gt=e.select,jt=void 0!==Gt&&Gt,qt=e.selected,Zt=void 0===qt?null:qt,Xt=e.colorSelect,Wt=void 0===Xt?"black":Xt,Jt=e.highlighted,Yt=void 0===Jt?[]:Jt,te=e.colorHighlight,ee=void 0===te?"black":te,ne=e.overlayFill,re=void 0!==ne&&ne,ie=e.output,oe=void 0===ie?null:ie,ae={duration:C,easing:A_},Ae=c_(void 0,ae),se=function(t,e,n){return n.indexOf(t)==e};function ue(t,e){var n=[];return e.forEach((function(e){var r=0,i=0;t.filter((function(t){return t[Q]==e})).map((function(t){return t[U]})).forEach((function(t){t>=0?r+=t:i+=t})),0!=r&&n.push(r),0!=i&&n.push(i)})),n}function ce(t,e,n,r){var i="stacked"==e&&k?ue(t,t.map((function(t){return t[Q]})).filter(se)):t.map((function(t){return t[n]}));return[K||(Math.min.apply(Math,_n(i))>0?0:Math.min.apply(Math,_n(i))),r||(Math.max.apply(Math,_n(i))<0?0:Math.max.apply(Math,_n(i)))]}var le=ce(l,vt,U,R),he=c_(le,ae);return cc(t,he,(function(t){return n(52,a=t)})),t.$$set=function(t){"data"in t&&n(0,l=t.data),"barHeight"in t&&n(1,f=t.barHeight),"height"in t&&n(2,d=t.height),"ssr"in t&&n(3,m=t.ssr),"ssrWidth"in t&&n(4,v=t.ssrWidth),"ssrHeight"in t&&n(5,w=t.ssrHeight),"animation"in t&&n(6,B=t.animation),"duration"in t&&n(7,C=t.duration),"xKey"in t&&n(8,U=t.xKey),"yKey"in t&&n(9,Q=t.yKey),"zKey"in t&&n(10,k=t.zKey),"idKey"in t&&n(11,T=t.idKey),"xScale"in t&&n(12,D=t.xScale),"xFormatTick"in t&&n(13,P=t.xFormatTick),"yWrapTicks"in t&&n(14,z=t.yWrapTicks),"xMax"in t&&n(55,R=t.xMax),"xMin"in t&&n(56,K=t.xMin),"xAxis"in t&&n(15,N=t.xAxis),"yAxis"in t&&n(16,j=t.yAxis),"xTicks"in t&&n(17,Z=t.xTicks),"zDomain"in t&&n(57,W=t.zDomain),"textColor"in t&&n(18,Y=t.textColor),"tickColor"in t&&n(19,et=t.tickColor),"tickDashed"in t&&n(20,rt=t.tickDashed),"title"in t&&n(21,ot=t.title),"subtitle"in t&&n(22,At=t.subtitle),"alt"in t&&n(23,ut=t.alt),"footer"in t&&n(24,lt=t.footer),"legend"in t&&n(25,ft=t.legend),"table"in t&&n(26,dt=t.table),"snapTicks"in t&&n(27,mt=t.snapTicks),"mode"in t&&n(28,vt=t.mode),"padding"in t&&n(29,wt=t.padding),"color"in t&&n(58,Bt=t.color),"colors"in t&&n(30,Ct=t.colors),"markerWidth"in t&&n(31,Ut=t.markerWidth),"spacing"in t&&n(32,Qt=t.spacing),"interactive"in t&&n(33,kt=t.interactive),"xPrefix"in t&&n(34,Tt=t.xPrefix),"xSuffix"in t&&n(35,Dt=t.xSuffix),"yPrefix"in t&&n(36,Pt=t.yPrefix),"ySuffix"in t&&n(37,zt=t.ySuffix),"hover"in t&&n(38,Rt=t.hover),"hovered"in t&&n(39,Kt=t.hovered),"colorHover"in t&&n(40,Nt=t.colorHover),"select"in t&&n(41,jt=t.select),"selected"in t&&n(42,Zt=t.selected),"colorSelect"in t&&n(43,Wt=t.colorSelect),"highlighted"in t&&n(44,Yt=t.highlighted),"colorHighlight"in t&&n(45,ee=t.colorHighlight),"overlayFill"in t&&n(46,re=t.overlayFill),"output"in t&&n(47,oe=t.output),"$$scope"in t&&n(63,c=t.$$scope)},t.$$.update=function(){268435713&t.$$.dirty[0]|16777216&t.$$.dirty[1]&&function(t,e,n,r){var i=ce(t,e,n,r);i[0]==le[0]&&i[1]==le[1]||(he.set(i,{duration:B?C:0}),le=i)}(l,vt,U,R),513&t.$$.dirty[0]&&n(51,r=l.map((function(t){return t[Q]})).filter(se)),1025&t.$$.dirty[0]|67108864&t.$$.dirty[1]&&n(48,i=Array.isArray(W)?W:k&&"function"==typeof W?l.map((function(t){return t[k]})).filter(se).sort(W):k?l.map((function(t){return t[k]})).filter(se):null),1025&t.$$.dirty[0]|131072&t.$$.dirty[1]&&n(50,o=d_(l,i,k))},[l,f,d,m,v,w,B,C,U,Q,k,T,D,P,z,N,j,Z,Y,et,rt,ot,At,ut,lt,ft,dt,mt,vt,wt,Ct,Ut,Qt,kt,Tt,Dt,Pt,zt,Rt,Kt,Nt,jt,Zt,Wt,Yt,ee,re,oe,i,A,o,r,a,Ae,he,R,K,W,Bt,u,function(e){Jc.call(this,t,e)},function(e){Jc.call(this,t,e)},function(t){tl[t?"unshift":"push"]((function(){n(49,A=t)}))},c]}var vx=function(t){fn(n,t);var e=Nw(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,yx,mx,Ac,{data:0,barHeight:1,height:2,ssr:3,ssrWidth:4,ssrHeight:5,animation:6,duration:7,xKey:8,yKey:9,zKey:10,idKey:11,xScale:12,xFormatTick:13,yWrapTicks:14,xMax:55,xMin:56,xAxis:15,yAxis:16,xTicks:17,zDomain:57,textColor:18,tickColor:19,tickDashed:20,title:21,subtitle:22,alt:23,footer:24,legend:25,table:26,snapTicks:27,mode:28,padding:29,color:58,colors:30,markerWidth:31,spacing:32,interactive:33,xPrefix:34,xSuffix:35,yPrefix:36,ySuffix:37,hover:38,hovered:39,colorHover:40,select:41,selected:42,colorSelect:43,highlighted:44,colorHighlight:45,overlayFill:46,output:47},Gw,[-1,-1,-1]),r}return Ju(n,[{key:"data",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({data:t}),ul()}},{key:"barHeight",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({barHeight:t}),ul()}},{key:"height",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({height:t}),ul()}},{key:"ssr",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({ssr:t}),ul()}},{key:"ssrWidth",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({ssrWidth:t}),ul()}},{key:"ssrHeight",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({ssrHeight:t}),ul()}},{key:"animation",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({animation:t}),ul()}},{key:"duration",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({duration:t}),ul()}},{key:"xKey",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({xKey:t}),ul()}},{key:"yKey",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({yKey:t}),ul()}},{key:"zKey",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({zKey:t}),ul()}},{key:"idKey",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({idKey:t}),ul()}},{key:"xScale",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({xScale:t}),ul()}},{key:"xFormatTick",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({xFormatTick:t}),ul()}},{key:"yWrapTicks",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({yWrapTicks:t}),ul()}},{key:"xMax",get:function(){return this.$$.ctx[55]},set:function(t){this.$$set({xMax:t}),ul()}},{key:"xMin",get:function(){return this.$$.ctx[56]},set:function(t){this.$$set({xMin:t}),ul()}},{key:"xAxis",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({xAxis:t}),ul()}},{key:"yAxis",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({yAxis:t}),ul()}},{key:"xTicks",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({xTicks:t}),ul()}},{key:"zDomain",get:function(){return this.$$.ctx[57]},set:function(t){this.$$set({zDomain:t}),ul()}},{key:"textColor",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({textColor:t}),ul()}},{key:"tickColor",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({tickColor:t}),ul()}},{key:"tickDashed",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({tickDashed:t}),ul()}},{key:"title",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({title:t}),ul()}},{key:"subtitle",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({subtitle:t}),ul()}},{key:"alt",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({alt:t}),ul()}},{key:"footer",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({footer:t}),ul()}},{key:"legend",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({legend:t}),ul()}},{key:"table",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({table:t}),ul()}},{key:"snapTicks",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({snapTicks:t}),ul()}},{key:"mode",get:function(){return this.$$.ctx[28]},set:function(t){this.$$set({mode:t}),ul()}},{key:"padding",get:function(){return this.$$.ctx[29]},set:function(t){this.$$set({padding:t}),ul()}},{key:"color",get:function(){return this.$$.ctx[58]},set:function(t){this.$$set({color:t}),ul()}},{key:"colors",get:function(){return this.$$.ctx[30]},set:function(t){this.$$set({colors:t}),ul()}},{key:"markerWidth",get:function(){return this.$$.ctx[31]},set:function(t){this.$$set({markerWidth:t}),ul()}},{key:"spacing",get:function(){return this.$$.ctx[32]},set:function(t){this.$$set({spacing:t}),ul()}},{key:"interactive",get:function(){return this.$$.ctx[33]},set:function(t){this.$$set({interactive:t}),ul()}},{key:"xPrefix",get:function(){return this.$$.ctx[34]},set:function(t){this.$$set({xPrefix:t}),ul()}},{key:"xSuffix",get:function(){return this.$$.ctx[35]},set:function(t){this.$$set({xSuffix:t}),ul()}},{key:"yPrefix",get:function(){return this.$$.ctx[36]},set:function(t){this.$$set({yPrefix:t}),ul()}},{key:"ySuffix",get:function(){return this.$$.ctx[37]},set:function(t){this.$$set({ySuffix:t}),ul()}},{key:"hover",get:function(){return this.$$.ctx[38]},set:function(t){this.$$set({hover:t}),ul()}},{key:"hovered",get:function(){return this.$$.ctx[39]},set:function(t){this.$$set({hovered:t}),ul()}},{key:"colorHover",get:function(){return this.$$.ctx[40]},set:function(t){this.$$set({colorHover:t}),ul()}},{key:"select",get:function(){return this.$$.ctx[41]},set:function(t){this.$$set({select:t}),ul()}},{key:"selected",get:function(){return this.$$.ctx[42]},set:function(t){this.$$set({selected:t}),ul()}},{key:"colorSelect",get:function(){return this.$$.ctx[43]},set:function(t){this.$$set({colorSelect:t}),ul()}},{key:"highlighted",get:function(){return this.$$.ctx[44]},set:function(t){this.$$set({highlighted:t}),ul()}},{key:"colorHighlight",get:function(){return this.$$.ctx[45]},set:function(t){this.$$set({colorHighlight:t}),ul()}},{key:"overlayFill",get:function(){return this.$$.ctx[46]},set:function(t){this.$$set({overlayFill:t}),ul()}},{key:"output",get:function(){return this.$$.ctx[47]},set:function(t){this.$$set({output:t}),ul()}}]),n}(Bl);function _x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function wx(t){Uc(t,"svelte-rh3b33","path.svelte-rh3b33{fill:none;stroke-linejoin:round;stroke-linecap:round}.path-hover.svelte-rh3b33{stroke:rgba(255,255,255,0);stroke-width:7}.path-line.svelte-rh3b33,.path-overlay.svelte-rh3b33{pointer-events:none}")}function xx(t,e,n){var r=t.slice();return r[34]=e[n],r[36]=n,r}function Bx(t,e,n){var r=t.slice();return r[34]=e[n],r[36]=n,r}function bx(t){for(var e,n,r=t[6],i=[],o=0;o<r.length;o+=1)i[o]=Cx(Bx(t,r,o));var a=t[17]&&(t[3]||t[1]||t[5][0])&&Fx(t);return{c:function(){e=Sc("g");for(var t=0;t<i.length;t+=1)i[t].c();n=Dc(),a&&a.c(),Pc(e,"class","line-group")},m:function(t,r){Ec(t,e,r);for(var o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);Fc(e,n),a&&a.m(e,null)},p:function(t,o){if(14681052&o[0]){var A;for(r=t[6],A=0;A<r.length;A+=1){var s=Bx(t,r,A);i[A]?i[A].p(s,o):(i[A]=Cx(s),i[A].c(),i[A].m(e,n))}for(;A<i.length;A+=1)i[A].d(1);i.length=r.length}t[17]&&(t[3]||t[1]||t[5][0])?a?a.p(t,o):((a=Fx(t)).c(),a.m(e,null)):a&&(a.d(1),a=null)},d:function(t){t&&Qc(e),Ic(i,t),a&&a.d()}}}function Cx(t){var e,n,r,i,o,a,A,s;function u(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[25].apply(e,[t[36]].concat(r))}function c(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[27].apply(e,[t[36]].concat(r))}function l(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[29].apply(e,[t[36]].concat(r))}return{c:function(){e=Sc("path"),i=Sc("path"),Pc(e,"class","path-hover svelte-rh3b33"),Pc(e,"d",n=t[21](t[34])),Pc(e,"tabindex",r=t[3]||t[4]?0:-1),Pc(i,"class","path-line svelte-rh3b33"),Pc(i,"d",o=t[21](t[34])),Pc(i,"stroke",a=t[8].z?t[9](t[7][t[36]][0]):t[8].zRange[0]),Pc(i,"stroke-width",t[2])},m:function(n,r){Ec(n,e,r),Ec(n,i,r),A||(s=[Lc(e,"mouseover",(function(){ac(t[3]?u:null)&&(t[3]?u:null).apply(this,arguments)})),Lc(e,"mouseleave",(function(){ac(t[3]?t[26]:null)&&(t[3]?t[26]:null).apply(this,arguments)})),Lc(e,"focus",(function(){ac(t[4]?c:null)&&(t[4]?c:null).apply(this,arguments)})),Lc(e,"blur",(function(){ac(t[4]?t[28]:null)&&(t[4]?t[28]:null).apply(this,arguments)})),Lc(e,"click",(function(){ac(t[4]?l:null)&&(t[4]?l:null).apply(this,arguments)}))],A=!0)},p:function(A,s){t=A,64&s[0]&&n!==(n=t[21](t[34]))&&Pc(e,"d",n),24&s[0]&&r!==(r=t[3]||t[4]?0:-1)&&Pc(e,"tabindex",r),64&s[0]&&o!==(o=t[21](t[34]))&&Pc(i,"d",o),896&s[0]&&a!==(a=t[8].z?t[9](t[7][t[36]][0]):t[8].zRange[0])&&Pc(i,"stroke",a),4&s[0]&&Pc(i,"stroke-width",t[2])},d:function(t){t&&Qc(e),t&&Qc(i),A=!1,oc(s)}}}function Fx(t){for(var e,n=t[6],r=[],i=0;i<n.length;i+=1)r[i]=Ex(xx(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=Dc()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(t,n);Ec(t,e,n)},p:function(t,i){if(4063463&i[0]){var o;for(n=t[6],o=0;o<n.length;o+=1){var a=xx(t,n,o);r[o]?r[o].p(a,i):(r[o]=Ex(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Ic(r,t),t&&Qc(e)}}}function Ux(t){var e,n,r,i,o,a,A;return{c:function(){Pc(e=Sc("path"),"class","path-overlay svelte-rh3b33"),Pc(e,"d",n=t[21](t[34])),Pc(e,"stroke",r=t[7][t[36]][0][t[17]]==t[0]?t[18]:t[7][t[36]][0][t[17]]==t[1]?t[19]:t[20]),Pc(e,"stroke-width",i=t[2]+1.5)},m:function(n,r){Ec(n,e,r),a||(A=mc(o=t[24].call(null,e,{disable:t[0]!==t[7][t[36]][0][t[17]]})),a=!0)},p:function(a,A){t=a,64&A[0]&&n!==(n=t[21](t[34]))&&Pc(e,"d",n),131&A[0]&&r!==(r=t[7][t[36]][0][t[17]]==t[0]?t[18]:t[7][t[36]][0][t[17]]==t[1]?t[19]:t[20])&&Pc(e,"stroke",r),4&A[0]&&i!==(i=t[2]+1.5)&&Pc(e,"stroke-width",i),o&&ac(o.update)&&129&A[0]&&o.update.call(null,{disable:t[0]!==t[7][t[36]][0][t[17]]})},d:function(t){t&&Qc(e),a=!1,A()}}}function Ex(t){var e,n=[t[0],t[1]].concat(_n(t[5])).includes(t[7][t[36]][0][t[17]]),r=n&&Ux(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,n){r&&r.m(t,n),Ec(t,e,n)},p:function(t,i){163&i[0]&&(n=[t[0],t[1]].concat(_n(t[5])).includes(t[7][t[36]][0][t[17]])),n?r?r.p(t,i):((r=Ux(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d:function(t){r&&r.d(t),t&&Qc(e)}}}function Qx(t){var e,n=t[6]&&bx(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){t[6]?n?n.p(t,r):((n=bx(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function Ix(t,e,n){var r,i,o,a,A,s,u,c=Wc("LayerCake"),l=c.data,h=c.xScale,f=c.yScale,p=c.zGet,d=c.config,g=c.custom;cc(t,l,(function(t){return n(7,A=t)})),cc(t,h,(function(t){return n(31,i=t)})),cc(t,f,(function(t){return n(30,r=t)})),cc(t,p,(function(t){return n(9,u=t)})),cc(t,d,(function(t){return n(8,s=t)})),cc(t,g,(function(t){return n(32,o=t)}));var m=Zc(),y=e.lineWidth,v=void 0===y?2.5:y,_=e.hover,w=void 0!==_&&_,x=e.hovered,B=void 0===x?null:x,b=e.select,C=void 0!==b&&b,F=e.selected,U=void 0===F?null:F,E=e.highlighted,Q=void 0===E?[]:E,I=o.coords;cc(t,I,(function(t){return n(6,a=t)}));var k=o.idKey,S=o.colorHover?o.colorHover:"orange",T=o.colorSelect?o.colorSelect:"#206095",M=o.colorHighlight?o.colorHighlight:"#206095";function D(t,e){w&&(n(0,B=e?e[0][k]:null),m("hover",{id:B,data:e,event:t}))}function L(t,e){C&&(n(1,U=e?e[0][k]:null),m("select",{id:U,data:e,event:t}))}return t.$$set=function(t){"lineWidth"in t&&n(2,v=t.lineWidth),"hover"in t&&n(3,w=t.hover),"hovered"in t&&n(0,B=t.hovered),"select"in t&&n(4,C=t.select),"selected"in t&&n(1,U=t.selected),"highlighted"in t&&n(5,Q=t.highlighted)},[B,U,v,w,C,Q,a,A,s,u,l,h,f,p,d,g,I,k,S,T,M,function(t){return"M"+t.map((function(t){return i(t.x)+","+r(t.y)})).join("L")},D,L,function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).disable||a_(t)},function(t,e){return D(e,A[t])},function(t){return D(t,null)},function(t,e){return D(e,A[t])},function(t){return D(t,null)},function(t,e){return L(e,A[t])}]}var kx=function(t){fn(n,t);var e=_x(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Ix,Qx,Ac,{lineWidth:2,hover:3,hovered:0,select:4,selected:1,highlighted:5},wx,[-1,-1]),r}return n}(Bl);function Sx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Tx(t,e,n){var r=t.slice();return r[19]=e[n],r[21]=n,r}function Mx(t){for(var e,n=t[1],r=[],i=0;i<n.length;i+=1)r[i]=Dx(Tx(t,n,i));return{c:function(){e=Sc("g");for(var t=0;t<r.length;t+=1)r[t].c();Pc(e,"class","area-group")},m:function(t,n){Ec(t,e,n);for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p:function(t,i){if(16447&i){var o;for(n=t[1],o=0;o<n.length;o+=1){var a=Tx(t,n,o);r[o]?r[o].p(a,i):(r[o]=Dx(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){t&&Qc(e),Ic(r,t)}}}function Dx(t){var e,n,r;return{c:function(){Pc(e=Sc("path"),"class","path-area"),Pc(e,"d",n=t[14](t[19],t[21])),Pc(e,"fill",r=t[2].z?t[3](t[4][t[21]][0]):t[5][0]),Pc(e,"opacity",t[0])},m:function(t,n){Ec(t,e,n)},p:function(t,i){2&i&&n!==(n=t[14](t[19],t[21]))&&Pc(e,"d",n),60&i&&r!==(r=t[2].z?t[3](t[4][t[21]][0]):t[5][0])&&Pc(e,"fill",r),1&i&&Pc(e,"opacity",t[0])},d:function(t){t&&Qc(e)}}}function Lx(t){var e,n=t[1]&&Mx(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){var i=vh(r,1)[0];t[1]?n?n.p(t,i):((n=Mx(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function Px(t,e,n){var r,i,o,a,A,s,u,c,l=Wc("LayerCake"),h=l.data,f=l.xScale,p=l.yScale,d=l.zGet,g=l.zRange,m=l.config,y=l.custom;cc(t,h,(function(t){return n(4,u=t)})),cc(t,f,(function(t){return n(16,i=t)})),cc(t,p,(function(t){return n(15,r=t)})),cc(t,d,(function(t){return n(3,s=t)})),cc(t,g,(function(t){return n(5,c=t)})),cc(t,m,(function(t){return n(2,A=t)})),cc(t,y,(function(t){return n(17,a=t)}));var v=e.opacity,_=void 0===v?1:v,w=a.coords;cc(t,w,(function(t){return n(1,o=t)}));a.idKey;return t.$$set=function(t){"opacity"in t&&n(0,_=t.opacity)},[_,o,A,s,u,c,h,f,p,d,g,m,y,w,function(t,e){var n=r.range();return"M"+t.map((function(t){return i(t.x)+","+r(t.y)})).join("L")+(0==e?"L"+t.map((function(t){return i(t.x)+","+n[0]})).reverse().join("L"):"L"+_n(o[e-1]).reverse().map((function(t){return i(t.x)+","+r(t.y)})).join("L"))+"Z"}]}var Hx=function(t){fn(n,t);var e=Sx(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Px,Lx,Ac,{opacity:0}),r}return n}(Bl);function zx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function $x(t){Uc(t,"svelte-dqkttw",".chart-label.svelte-dqkttw{font-size:0.8em}")}function Rx(t,e,n){var r=t.slice();return r[22]=e[n],r[24]=n,r}function Ox(t,e,n){var r=t.slice();return r[22]=e[n],r[24]=n,r}function Kx(t){var e,n,r,i,o,a,A,s;function u(t,e){return t[5][0]&&t[5][0].x?Nx:t[5][0]&&t[5][0][0]&&t[5][0][0].x?Vx:void 0}var c=u(t),l=c&&c(t);return{c:function(){e=Sc("defs"),n=Sc("filter"),r=Sc("feFlood"),i=Sc("feMerge"),o=Sc("feMergeNode"),a=Sc("feMergeNode"),A=Mc(),s=Sc("g"),l&&l.c(),Pc(r,"flood-color","rgba(255,255,255,0.8)"),Pc(r,"result","bg"),Pc(o,"in","bg"),Pc(a,"in","SourceGraphic"),Pc(n,"x","0"),Pc(n,"y","0"),Pc(n,"width","1"),Pc(n,"height","1"),Pc(n,"id","bgfill"),Pc(s,"class","chart-label-group")},m:function(t,u){Ec(t,e,u),Fc(e,n),Fc(n,r),Fc(n,i),Fc(i,o),Fc(i,a),Ec(t,A,u),Ec(t,s,u),l&&l.m(s,null)},p:function(t,e){c===(c=u(t))&&l?l.p(t,e):(l&&l.d(1),(l=c&&c(t))&&(l.c(),l.m(s,null)))},d:function(t){t&&Qc(e),t&&Qc(A),t&&Qc(s),l&&l.d()}}}function Vx(t){for(var e,n=t[5],r=[],i=0;i<n.length;i+=1)r[i]=qx(Rx(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=Dc()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(t,n);Ec(t,e,n)},p:function(t,i){if(984063&i){var o;for(n=t[5],o=0;o<n.length;o+=1){var a=Rx(t,n,o);r[o]?r[o].p(a,i):(r[o]=qx(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Ic(r,t),t&&Qc(e)}}}function Nx(t){for(var e,n=t[5],r=[],i=0;i<n.length;i+=1)r[i]=Xx(Ox(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=Dc()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(t,n);Ec(t,e,n)},p:function(t,i){if(983527&i){var o;for(n=t[5],o=0;o<n.length;o+=1){var a=Ox(t,n,o);r[o]?r[o].p(a,i):(r[o]=Xx(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Ic(r,t),t&&Qc(e)}}}function Gx(t){var e,n,r,i,o,a,A,s,u,c,l=(t[2]?t[2]:t[6][t[24]][0][t[17]])+"",h=t[3]&&jx(t);return{c:function(){h&&h.c(),e=Sc("text"),n=Tc(l),Pc(e,"class","chart-label svelte-dqkttw"),Pc(e,"transform",r="translate("+(t[3]?7:4)+",3)"),Pc(e,"filter","url(#bgfill)"),Pc(e,"fill",i=t[6][t[24]][0][t[16]]===t[0]?t[18]:t[19]),Pc(e,"x",o=t[7](t[22][t[22].length-1].x)),Pc(e,"y",a=t[8](t[22][t[22].length-1].y))},m:function(r,i){h&&h.m(r,i),Ec(r,e,i),Fc(e,n),u||(c=[mc(A=j_.call(null,e,{disable:!t[4],width:t[9].right})),mc(s=t[20].call(null,e,{disable:t[6][t[24]][0][t[16]]!==t[0]}))],u=!0)},p:function(u,c){(t=u)[3]?h?h.p(t,c):((h=jx(t)).c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),68&c&&l!==(l=(t[2]?t[2]:t[6][t[24]][0][t[17]])+"")&&zc(n,l),8&c&&r!==(r="translate("+(t[3]?7:4)+",3)")&&Pc(e,"transform",r),65&c&&i!==(i=t[6][t[24]][0][t[16]]===t[0]?t[18]:t[19])&&Pc(e,"fill",i),160&c&&o!==(o=t[7](t[22][t[22].length-1].x))&&Pc(e,"x",o),288&c&&a!==(a=t[8](t[22][t[22].length-1].y))&&Pc(e,"y",a),A&&ac(A.update)&&528&c&&A.update.call(null,{disable:!t[4],width:t[9].right}),s&&ac(s.update)&&65&c&&s.update.call(null,{disable:t[6][t[24]][0][t[16]]!==t[0]})},d:function(t){h&&h.d(t),t&&Qc(e),u=!1,oc(c)}}}function jx(t){var e,n,r,i,o,a,A;return{c:function(){Pc(e=Sc("circle"),"cx",n=t[7](t[22][t[22].length-1].x)),Pc(e,"cy",r=t[8](t[22][t[22].length-1].y)),Pc(e,"r","5"),Pc(e,"fill",i=t[6][t[24]][0][t[16]]===t[0]?t[18]:t[19])},m:function(n,r){Ec(n,e,r),a||(A=mc(o=t[20].call(null,e,{disable:t[6][t[24]][0][t[16]]!==t[0]})),a=!0)},p:function(a,A){t=a,160&A&&n!==(n=t[7](t[22][t[22].length-1].x))&&Pc(e,"cx",n),288&A&&r!==(r=t[8](t[22][t[22].length-1].y))&&Pc(e,"cy",r),65&A&&i!==(i=t[6][t[24]][0][t[16]]===t[0]?t[18]:t[19])&&Pc(e,"fill",i),o&&ac(o.update)&&65&A&&o.update.call(null,{disable:t[6][t[24]][0][t[16]]!==t[0]})},d:function(t){t&&Qc(e),a=!1,A()}}}function qx(t){var e,n=[t[0],t[1]].includes(t[6][t[24]][0][t[16]]),r=n&&Gx(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,n){r&&r.m(t,n),Ec(t,e,n)},p:function(t,i){67&i&&(n=[t[0],t[1]].includes(t[6][t[24]][0][t[16]])),n?r?r.p(t,i):((r=Gx(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d:function(t){r&&r.d(t),t&&Qc(e)}}}function Zx(t){var e,n,r,i,o,a=(t[2]?t[2]:t[6][t[24]][t[17]])+"";return{c:function(){e=Sc("text"),n=Tc(a),Pc(e,"class","chart-label svelte-dqkttw"),Pc(e,"transform","translate(5,-5)"),Pc(e,"filter","url(#bgfill)"),Pc(e,"fill",r=t[6][t[24]][t[16]]===t[0]?t[18]:t[19]),Pc(e,"x",i=t[7](t[22].x)),Pc(e,"y",o=t[8](t[22].y))},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,A){68&A&&a!==(a=(t[2]?t[2]:t[6][t[24]][t[17]])+"")&&zc(n,a),65&A&&r!==(r=t[6][t[24]][t[16]]===t[0]?t[18]:t[19])&&Pc(e,"fill",r),160&A&&i!==(i=t[7](t[22].x))&&Pc(e,"x",i),288&A&&o!==(o=t[8](t[22].y))&&Pc(e,"y",o)},d:function(t){t&&Qc(e)}}}function Xx(t){var e,n=[t[0],t[1]].includes(t[6][t[24]][t[16]]),r=n&&Zx(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,n){r&&r.m(t,n),Ec(t,e,n)},p:function(t,i){67&i&&(n=[t[0],t[1]].includes(t[6][t[24]][t[16]])),n?r?r.p(t,i):((r=Zx(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d:function(t){r&&r.d(t),t&&Qc(e)}}}function Wx(t){var e,n=t[5]&&Kx(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){var i=vh(r,1)[0];t[5]?n?n.p(t,i):((n=Kx(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function Jx(t,e,n){var r,i,o,a,A,s,u=Wc("LayerCake"),c=u.data,l=u.xScale,h=u.yScale,f=u.padding,p=u.custom;cc(t,c,(function(t){return n(6,o=t)})),cc(t,l,(function(t){return n(7,a=t)})),cc(t,h,(function(t){return n(8,A=t)})),cc(t,f,(function(t){return n(9,s=t)})),cc(t,p,(function(t){return n(21,r=t)}));var d=e.hovered,g=void 0===d?null:d,m=e.selected,y=void 0===m?null:m,v=e.content,_=void 0===v?null:v,w=e.marker,x=void 0!==w&&w,B=e.textWrap,b=void 0!==B&&B,C=r.coords;cc(t,C,(function(t){return n(5,i=t)}));var F=r.idKey,U=r.labelKey,E=r.colorHover?r.colorHover:"orange",Q=r.colorSelect?r.colorSelect:"#206095";return t.$$set=function(t){"hovered"in t&&n(0,g=t.hovered),"selected"in t&&n(1,y=t.selected),"content"in t&&n(2,_=t.content),"marker"in t&&n(3,x=t.marker),"textWrap"in t&&n(4,b=t.textWrap)},[g,y,_,x,b,i,o,a,A,s,c,l,h,f,p,C,F,U,E,Q,function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).disable||a_(t)}]}var Yx=function(t){fn(n,t);var e=zx(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Jx,Wx,Ac,{hovered:0,selected:1,content:2,marker:3,textWrap:4},$x),r}return n}(Bl);function tB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function eB(t){Uc(t,"svelte-1fy6g2i",".chart-container.svelte-1fy6g2i{width:100%}.visuallyhidden.svelte-1fy6g2i{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}")}var nB=function(t){return{}},rB=function(t){return{}},iB=function(t){return{}},oB=function(t){return{}},aB=function(t){return{}},AB=function(t){return{}},sB=function(t){return{}},uB=function(t){return{}},cB=function(t){return{}},lB=function(t){return{}};function hB(t){var e,n;return e=new dw({props:{$$slots:{default:[fB]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};67108864&n[0]|512&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function fB(t){var e;return{c:function(){e=Tc(t[26])},m:function(t,n){Ec(t,e,n)},p:function(t,n){67108864&n[0]&&zc(e,t[26])},d:function(t){t&&Qc(e)}}}function pB(t){var e,n;return e=new _w({props:{$$slots:{default:[dB]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};134217728&n[0]|512&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function dB(t){var e;return{c:function(){e=Tc(t[27])},m:function(t,n){Ec(t,e,n)},p:function(t,n){134217728&n[0]&&zc(e,t[27])},d:function(t){t&&Qc(e)}}}function gB(t){var e,n;return{c:function(){e=kc("h5"),n=Tc(t[28]),Pc(e,"class","visuallyhidden svelte-1fy6g2i")},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,e){268435456&e[0]&&zc(n,t[28])},d:function(t){t&&Qc(e)}}}function mB(t){var e,n;return e=new G_({props:{ticks:t[20],formatTick:t[17],snapTicks:t[35],prefix:t[44],suffix:t[45],gridlines:t[24],tickMarks:t[22],forceTicks:t[23]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};1048576&n[0]&&(r.ticks=t[20]),131072&n[0]&&(r.formatTick=t[17]),16&n[1]&&(r.snapTicks=t[35]),8192&n[1]&&(r.prefix=t[44]),16384&n[1]&&(r.suffix=t[45]),16777216&n[0]&&(r.gridlines=t[24]),4194304&n[0]&&(r.tickMarks=t[22]),8388608&n[0]&&(r.forceTicks=t[23]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function yB(t){var e,n;return e=new nw({props:{ticks:t[21],formatTick:t[16],prefix:t[46],suffix:t[47],trimGridlines:t[33]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};2097152&n[0]&&(r.ticks=t[21]),65536&n[0]&&(r.formatTick=t[16]),32768&n[1]&&(r.prefix=t[46]),65536&n[1]&&(r.suffix=t[47]),4&n[1]&&(r.trimGridlines=t[33]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function vB(t){var e,n;return e=new Hx({props:{mode:t[38],opacity:t[39]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};128&n[1]&&(r.mode=t[38]),256&n[1]&&(r.opacity=t[39]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function _B(t){var e,n,r,i;function o(e){t[66](e)}function a(e){t[67](e)}var A={lineWidth:t[42],select:t[50],hover:t[48],highlighted:t[52]};return void 0!==t[1]&&(A.selected=t[1]),void 0!==t[0]&&(A.hovered=t[0]),e=new kx({props:A}),tl.push((function(){return ml(e,"selected",o)})),tl.push((function(){return ml(e,"hovered",a)})),e.$on("hover",t[68]),e.$on("select",t[69]),{c:function(){yl(e.$$.fragment)},m:function(t,n){vl(e,t,n),i=!0},p:function(t,i){var o={};2048&i[1]&&(o.lineWidth=t[42]),524288&i[1]&&(o.select=t[50]),131072&i[1]&&(o.hover=t[48]),2097152&i[1]&&(o.highlighted=t[52]),!n&&2&i[0]&&(n=!0,o.selected=t[1],al((function(){return n=!1}))),!r&&1&i[0]&&(r=!0,o.hovered=t[0],al((function(){return r=!1}))),e.$set(o)},i:function(t){i||(dl(e.$$.fragment,t),i=!0)},o:function(t){gl(e.$$.fragment,t),i=!1},d:function(t){_l(e,t)}}}function wB(t){var e,n;return e=new Yx({props:{hovered:t[0],selected:t[1],marker:t[32],textWrap:t[25]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};1&n[0]&&(r.hovered=t[0]),2&n[0]&&(r.selected=t[1]),2&n[1]&&(r.marker=t[32]),33554432&n[0]&&(r.textWrap=t[25]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function xB(t){var e,n,r,i,o,a,A=t[18]&&mB(t),s=t[19]&&yB(t),u=t[37]&&vB(t),c=t[36]&&_B(t),l=t[31]&&wB(t),h=t[65].svg,f=lc(h,t,t[71],AB);return{c:function(){A&&A.c(),e=Mc(),s&&s.c(),n=Mc(),u&&u.c(),r=Mc(),c&&c.c(),i=Mc(),l&&l.c(),o=Mc(),f&&f.c()},m:function(t,h){A&&A.m(t,h),Ec(t,e,h),s&&s.m(t,h),Ec(t,n,h),u&&u.m(t,h),Ec(t,r,h),c&&c.m(t,h),Ec(t,i,h),l&&l.m(t,h),Ec(t,o,h),f&&f.m(t,h),a=!0},p:function(t,p){t[18]?A?(A.p(t,p),262144&p[0]&&dl(A,1)):((A=mB(t)).c(),dl(A,1),A.m(e.parentNode,e)):A&&(fl(),gl(A,1,1,(function(){A=null})),pl()),t[19]?s?(s.p(t,p),524288&p[0]&&dl(s,1)):((s=yB(t)).c(),dl(s,1),s.m(n.parentNode,n)):s&&(fl(),gl(s,1,1,(function(){s=null})),pl()),t[37]?u?(u.p(t,p),64&p[1]&&dl(u,1)):((u=vB(t)).c(),dl(u,1),u.m(r.parentNode,r)):u&&(fl(),gl(u,1,1,(function(){u=null})),pl()),t[36]?c?(c.p(t,p),32&p[1]&&dl(c,1)):((c=_B(t)).c(),dl(c,1),c.m(i.parentNode,i)):c&&(fl(),gl(c,1,1,(function(){c=null})),pl()),t[31]?l?(l.p(t,p),1&p[1]&&dl(l,1)):((l=wB(t)).c(),dl(l,1),l.m(o.parentNode,o)):l&&(fl(),gl(l,1,1,(function(){l=null})),pl()),f&&f.p&&(!a||512&p[2])&&pc(f,h,t,t[71],a?fc(h,t[71],p,aB):dc(t[71]),AB)},i:function(t){a||(dl(A),dl(s),dl(u),dl(c),dl(l),dl(f,t),a=!0)},o:function(t){gl(A),gl(s),gl(u),gl(c),gl(l),gl(f,t),a=!1},d:function(t){A&&A.d(t),t&&Qc(e),s&&s.d(t),t&&Qc(n),u&&u.d(t),t&&Qc(r),c&&c.d(t),t&&Qc(i),l&&l.d(t),t&&Qc(o),f&&f.d(t)}}}function BB(t){var e,n,r,i,o,a;e=new B_({});var A=t[65].back,s=lc(A,t,t[71],uB);i=new o_({props:{pointerEvents:t[43],$$slots:{default:[xB]},$$scope:{ctx:t}}});var u=t[65].front,c=lc(u,t,t[71],oB);return{c:function(){yl(e.$$.fragment),n=Mc(),s&&s.c(),r=Mc(),yl(i.$$.fragment),o=Mc(),c&&c.c()},m:function(t,A){vl(e,t,A),Ec(t,n,A),s&&s.m(t,A),Ec(t,r,A),vl(i,t,A),Ec(t,o,A),c&&c.m(t,A),a=!0},p:function(t,e){s&&s.p&&(!a||512&e[2])&&pc(s,A,t,t[71],a?fc(A,t[71],e,sB):dc(t[71]),uB);var n={};4096&e[1]&&(n.pointerEvents=t[43]),67043331&e[0]|2877943&e[1]|512&e[2]&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),c&&c.p&&(!a||512&e[2])&&pc(c,u,t,t[71],a?fc(u,t[71],e,iB):dc(t[71]),oB)},i:function(t){a||(dl(e.$$.fragment,t),dl(s,t),dl(i.$$.fragment,t),dl(c,t),a=!0)},o:function(t){gl(e.$$.fragment,t),gl(s,t),gl(i.$$.fragment,t),gl(c,t),a=!1},d:function(t){_l(e,t),t&&Qc(n),s&&s.d(t),t&&Qc(r),_l(i,t),t&&Qc(o),c&&c.d(t)}}}function bB(t){var e,n,r;return n=new Vw({props:{data:t[2],key1:t[11],key2:t[9],key3:t[10]}}),{c:function(){e=kc("div"),yl(n.$$.fragment),Pc(e,"class","visuallyhidden svelte-1fy6g2i")},m:function(t,i){Ec(t,e,i),vl(n,e,null),r=!0},p:function(t,e){var r={};4&e[0]&&(r.data=t[2]),2048&e[0]&&(r.key1=t[11]),512&e[0]&&(r.key2=t[9]),1024&e[0]&&(r.key3=t[10]),n.$set(r)},i:function(t){r||(dl(n.$$.fragment,t),r=!0)},o:function(t){gl(n.$$.fragment,t),r=!1},d:function(t){t&&Qc(e),_l(n)}}}function CB(t){var e,n;return e=new cw({props:{domain:t[55],colors:t[41],line:t[36],markerWidth:t[42]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};16777216&n[1]&&(r.domain=t[55]),1024&n[1]&&(r.colors=t[41]),32&n[1]&&(r.line=t[36]),2048&n[1]&&(r.markerWidth=t[42]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function FB(t){var e,n;return e=new Cw({props:{$$slots:{default:[UB]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};536870912&n[0]|512&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function UB(t){var e;return{c:function(){e=Tc(t[29])},m:function(t,n){Ec(t,e,n)},p:function(t,n){536870912&n[0]&&zc(e,t[29])},d:function(t){t&&Qc(e)}}}function EB(t){var e,n;return e=new Tw({props:{el:t[56],data:t[2],keys:[t[12],t[9],t[11],t[10]],title:t[26],output:t[54]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};33554432&n[1]&&(r.el=t[56]),4&n[0]&&(r.data=t[2]),7680&n[0]&&(r.keys=[t[12],t[9],t[11],t[10]]),67108864&n[0]&&(r.title=t[26]),8388608&n[1]&&(r.output=t[54]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function QB(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d=t[26]&&hB(t),g=t[27]&&pB(t),m=t[28]&&gB(t),y=t[65].options,v=lc(y,t,t[71],lB);A=new jv({props:{padding:t[40],ssr:t[4],height:t[4]?t[6]:null,width:t[4]?t[5]:null,x:t[9],y:t[10],z:t[11],yDomain:t[58],xScale:"function"==typeof t[14]?t[14]():"time"==t[14]?_v():Yg(),yScale:"function"==typeof t[15]?t[15]():"log"==t[15]?Am():Yg(),zScale:Ed(),zDomain:t[55],zRange:t[41],data:t[57],flatData:t[2],custom:{type:"line",mode:t[38],idKey:t[12],labelKey:t[13],coords:t[59],colorSelect:t[51],colorHover:t[49],colorHighlight:t[53],animation:t[7],duration:t[8]},$$slots:{default:[BB]},$$scope:{ctx:t}}});var _=t[34]&&bB(t),w=t[65].legend,x=lc(w,t,t[71],rB),B=t[30]&&t[55]&&CB(t),b=t[29]&&FB(t),C=t[54]&&EB(t);return{c:function(){e=kc("div"),d&&d.c(),n=Mc(),g&&g.c(),r=Mc(),m&&m.c(),i=Mc(),v&&v.c(),o=Mc(),a=kc("div"),yl(A.$$.fragment),s=Mc(),_&&_.c(),u=Mc(),x&&x.c(),c=Mc(),B&&B.c(),l=Mc(),b&&b.c(),h=Mc(),C&&C.c(),f=Dc(),Pc(a,"class","chart-container svelte-1fy6g2i"),$c(a,"height","number"==typeof t[3]?t[3]+"px":t[3]),Pc(a,"aria-hidden","true")},m:function(y,w){Ec(y,e,w),d&&d.m(e,null),Fc(e,n),g&&g.m(e,null),Fc(e,r),m&&m.m(e,null),Fc(e,i),v&&v.m(e,null),Fc(e,o),Fc(e,a),vl(A,a,null),Fc(e,s),_&&_.m(e,null),Fc(e,u),x&&x.m(e,null),Fc(e,c),B&&B.m(e,null),Fc(e,l),b&&b.m(e,null),t[70](e),Ec(y,h,w),C&&C.m(y,w),Ec(y,f,w),p=!0},p:function(t,o){t[26]?d?(d.p(t,o),67108864&o[0]&&dl(d,1)):((d=hB(t)).c(),dl(d,1),d.m(e,n)):d&&(fl(),gl(d,1,1,(function(){d=null})),pl()),t[27]?g?(g.p(t,o),134217728&o[0]&&dl(g,1)):((g=pB(t)).c(),dl(g,1),g.m(e,r)):g&&(fl(),gl(g,1,1,(function(){g=null})),pl()),t[28]?m?m.p(t,o):((m=gB(t)).c(),m.m(e,i)):m&&(m.d(1),m=null),v&&v.p&&(!p||512&o[2])&&pc(v,y,t,t[71],p?fc(y,t[71],o,cB):dc(t[71]),lB);var s={};512&o[1]&&(s.padding=t[40]),16&o[0]&&(s.ssr=t[4]),80&o[0]&&(s.height=t[4]?t[6]:null),48&o[0]&&(s.width=t[4]?t[5]:null),512&o[0]&&(s.x=t[9]),1024&o[0]&&(s.y=t[10]),2048&o[0]&&(s.z=t[11]),134217728&o[1]&&(s.yDomain=t[58]),16384&o[0]&&(s.xScale="function"==typeof t[14]?t[14]():"time"==t[14]?_v():Yg()),32768&o[0]&&(s.yScale="function"==typeof t[15]?t[15]():"log"==t[15]?Am():Yg()),16777216&o[1]&&(s.zDomain=t[55]),1024&o[1]&&(s.zRange=t[41]),67108864&o[1]&&(s.data=t[57]),4&o[0]&&(s.flatData=t[2]),12672&o[0]|5505152&o[1]&&(s.custom={type:"line",mode:t[38],idKey:t[12],labelKey:t[13],coords:t[59],colorSelect:t[51],colorHover:t[49],colorHighlight:t[53],animation:t[7],duration:t[8]}),67043331&o[0]|2882039&o[1]|512&o[2]&&(s.$$scope={dirty:o,ctx:t}),A.$set(s),(!p||8&o[0])&&$c(a,"height","number"==typeof t[3]?t[3]+"px":t[3]),t[34]?_?(_.p(t,o),8&o[1]&&dl(_,1)):((_=bB(t)).c(),dl(_,1),_.m(e,u)):_&&(fl(),gl(_,1,1,(function(){_=null})),pl()),x&&x.p&&(!p||512&o[2])&&pc(x,w,t,t[71],p?fc(w,t[71],o,nB):dc(t[71]),rB),t[30]&&t[55]?B?(B.p(t,o),1073741824&o[0]|16777216&o[1]&&dl(B,1)):((B=CB(t)).c(),dl(B,1),B.m(e,l)):B&&(fl(),gl(B,1,1,(function(){B=null})),pl()),t[29]?b?(b.p(t,o),536870912&o[0]&&dl(b,1)):((b=FB(t)).c(),dl(b,1),b.m(e,null)):b&&(fl(),gl(b,1,1,(function(){b=null})),pl()),t[54]?C?(C.p(t,o),8388608&o[1]&&dl(C,1)):((C=EB(t)).c(),dl(C,1),C.m(f.parentNode,f)):C&&(fl(),gl(C,1,1,(function(){C=null})),pl())},i:function(t){p||(dl(d),dl(g),dl(v,t),dl(A.$$.fragment,t),dl(_),dl(x,t),dl(B),dl(b),dl(C),p=!0)},o:function(t){gl(d),gl(g),gl(v,t),gl(A.$$.fragment,t),gl(_),gl(x,t),gl(B),gl(b),gl(C),p=!1},d:function(n){n&&Qc(e),d&&d.d(),g&&g.d(),m&&m.d(),v&&v.d(n),_l(A),_&&_.d(),x&&x.d(n),B&&B.d(),b&&b.d(),t[70](null),n&&Qc(h),C&&C.d(n),n&&Qc(f)}}}function IB(t,e,n){var r,i,o,a,A=e.$$slots,s=void 0===A?{}:A,u=e.$$scope,c=e.data,l=e.height,h=void 0===l?200:l,f=e.ssr,p=void 0!==f&&f,d=e.ssrWidth,g=void 0===d?300:d,m=e.ssrHeight,y=void 0===m?"number"==typeof h?h:200:m,v=e.animation,_=void 0===v||v,w=e.duration,x=void 0===w?800:w,B=e.xKey,b=void 0===B?"x":B,C=e.yKey,F=void 0===C?"y":C,U=e.zKey,E=void 0===U?null:U,Q=e.idKey,I=void 0===Q?E:Q,k=e.labelKey,S=void 0===k?I:k,T=e.xScale,M=void 0===T?"linear":T,D=e.yScale,L=void 0===D?"linear":D,P=e.yFormatTick,H=void 0===P?m_:P,z=e.xFormatTick,$=void 0===z?function(t){return t}:z,R=e.yMax,O=void 0===R?null:R,K=e.yMin,V=void 0===K?0:K,N=e.xAxis,G=void 0===N||N,j=e.yAxis,q=void 0===j||j,Z=e.xTicks,X=void 0===Z?4:Z,W=e.yTicks,J=void 0===W?4:W,Y=e.xTickMarks,tt=void 0===Y||Y,et=e.xForceTicks,nt=void 0===et?"number"==typeof X&&"linear"===M:et,rt=e.xGridlines,it=void 0!==rt&&rt,ot=e.zDomain,at=void 0===ot?null:ot,At=e.labelWrap,st=void 0===At||At,ut=e.title,ct=void 0===ut?null:ut,lt=e.subtitle,ht=void 0===lt?null:lt,ft=e.alt,pt=void 0===ft?null:ft,dt=e.footer,gt=void 0===dt?null:dt,mt=e.legend,yt=void 0!==mt&&mt,vt=e.labels,_t=void 0!==vt&&vt,wt=e.labelMarker,xt=void 0===wt||wt,Bt=e.yTrimGridlines,bt=void 0===Bt?_t:Bt,Ct=e.table,Ft=void 0!==Ct&&Ct,Ut=e.snapTicks,Et=void 0===Ut||Ut,Qt=e.line,It=void 0===Qt||Qt,kt=e.area,St=void 0===kt||kt,Tt=e.mode,Mt=void 0===Tt?"default":Tt,Dt=e.areaOpacity,Lt=void 0===Dt?1:Dt,Pt=e.padding,Ht=void 0===Pt?{top:0,bottom:28,left:35,right:0}:Pt,zt=e.color,$t=void 0===zt?null:zt,Rt=e.colors,Ot=void 0===Rt?$t?[$t]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]:Rt,Kt=e.lineWidth,Vt=void 0===Kt?2.5:Kt,Nt=e.interactive,Gt=void 0===Nt||Nt,jt=e.xPrefix,qt=void 0===jt?"":jt,Zt=e.xSuffix,Xt=void 0===Zt?"":Zt,Wt=e.yPrefix,Jt=void 0===Wt?"":Wt,Yt=e.ySuffix,te=void 0===Yt?"":Yt,ee=e.hover,ne=void 0!==ee&&ee,re=e.hovered,ie=void 0===re?null:re,oe=e.colorHover,ae=void 0===oe?"orange":oe,Ae=e.select,se=void 0!==Ae&&Ae,ue=e.selected,ce=void 0===ue?null:ue,le=e.colorSelect,he=void 0===le?"#206095":le,fe=e.highlighted,pe=void 0===fe?[]:fe,de=e.colorHighlight,ge=void 0===de?"#206095":de,me=e.output,ye=void 0===me?null:me,ve={duration:x,easing:A_},_e=c_(void 0,ve),we=function(t,e,n){return n.indexOf(t)==e};function xe(t,e){var n=[];return e.forEach((function(e){var r=t.filter((function(t){return t[b]==e})).map((function(t){return t[F]})).reduce((function(t,e){return t+e}));n.push(r)})),n}var Be=function(t,e,n,r){return r?[V,r]:"stacked"==e&&n?[V,Math.max.apply(Math,_n(xe(t,t.map((function(t){return t[b]})).filter(we))))]:[V,Math.max.apply(Math,_n(t.map((function(t){return t[n]}))))]};var be=Be(c,Mt,F,O),Ce=c_(be,ve);return cc(t,Ce,(function(t){return n(58,o=t)})),t.$$set=function(t){"data"in t&&n(2,c=t.data),"height"in t&&n(3,h=t.height),"ssr"in t&&n(4,p=t.ssr),"ssrWidth"in t&&n(5,g=t.ssrWidth),"ssrHeight"in t&&n(6,y=t.ssrHeight),"animation"in t&&n(7,_=t.animation),"duration"in t&&n(8,x=t.duration),"xKey"in t&&n(9,b=t.xKey),"yKey"in t&&n(10,F=t.yKey),"zKey"in t&&n(11,E=t.zKey),"idKey"in t&&n(12,I=t.idKey),"labelKey"in t&&n(13,S=t.labelKey),"xScale"in t&&n(14,M=t.xScale),"yScale"in t&&n(15,L=t.yScale),"yFormatTick"in t&&n(16,H=t.yFormatTick),"xFormatTick"in t&&n(17,$=t.xFormatTick),"yMax"in t&&n(61,O=t.yMax),"yMin"in t&&n(62,V=t.yMin),"xAxis"in t&&n(18,G=t.xAxis),"yAxis"in t&&n(19,q=t.yAxis),"xTicks"in t&&n(20,X=t.xTicks),"yTicks"in t&&n(21,J=t.yTicks),"xTickMarks"in t&&n(22,tt=t.xTickMarks),"xForceTicks"in t&&n(23,nt=t.xForceTicks),"xGridlines"in t&&n(24,it=t.xGridlines),"zDomain"in t&&n(63,at=t.zDomain),"labelWrap"in t&&n(25,st=t.labelWrap),"title"in t&&n(26,ct=t.title),"subtitle"in t&&n(27,ht=t.subtitle),"alt"in t&&n(28,pt=t.alt),"footer"in t&&n(29,gt=t.footer),"legend"in t&&n(30,yt=t.legend),"labels"in t&&n(31,_t=t.labels),"labelMarker"in t&&n(32,xt=t.labelMarker),"yTrimGridlines"in t&&n(33,bt=t.yTrimGridlines),"table"in t&&n(34,Ft=t.table),"snapTicks"in t&&n(35,Et=t.snapTicks),"line"in t&&n(36,It=t.line),"area"in t&&n(37,St=t.area),"mode"in t&&n(38,Mt=t.mode),"areaOpacity"in t&&n(39,Lt=t.areaOpacity),"padding"in t&&n(40,Ht=t.padding),"color"in t&&n(64,$t=t.color),"colors"in t&&n(41,Ot=t.colors),"lineWidth"in t&&n(42,Vt=t.lineWidth),"interactive"in t&&n(43,Gt=t.interactive),"xPrefix"in t&&n(44,qt=t.xPrefix),"xSuffix"in t&&n(45,Xt=t.xSuffix),"yPrefix"in t&&n(46,Jt=t.yPrefix),"ySuffix"in t&&n(47,te=t.ySuffix),"hover"in t&&n(48,ne=t.hover),"hovered"in t&&n(0,ie=t.hovered),"colorHover"in t&&n(49,ae=t.colorHover),"select"in t&&n(50,se=t.select),"selected"in t&&n(1,ce=t.selected),"colorSelect"in t&&n(51,he=t.colorSelect),"highlighted"in t&&n(52,pe=t.highlighted),"colorHighlight"in t&&n(53,ge=t.colorHighlight),"output"in t&&n(54,ye=t.output),"$$scope"in t&&n(71,u=t.$$scope)},t.$$.update=function(){1028&t.$$.dirty[0]|1073741952&t.$$.dirty[1]&&function(t,e,n,r){var i=Be(t,e,n,r);i[0]==be[0]&&i[1]==be[1]||(Ce.set(i,{duration:_?x:0}),be=i)}(c,Mt,F,O),2052&t.$$.dirty[0]|2&t.$$.dirty[2]&&n(55,r=Array.isArray(at)?at:E&&"function"==typeof at?c.map((function(t){return t[E]})).filter(we).sort(at):E?c.map((function(t){return t[E]})).filter(we):null),3076&t.$$.dirty[0]|16777344&t.$$.dirty[1]&&n(57,i="stacked"==Mt?function(t,e,n,r){var i=[],o=JSON.parse(JSON.stringify(t.filter((function(t){return t[r]==e[0]}))));return o.forEach((function(t){return t[n]=0})),e.forEach((function(e){var a=JSON.parse(JSON.stringify(t.filter((function(t){return t[r]==e}))));a.forEach((function(t,e){t[n]+=o[e][n],o[e][n]=t[n]})),i.push(a)})),i}(c,r,F,E):d_(c,r,E))},[ie,ce,c,h,p,g,y,_,x,b,F,E,I,S,M,L,H,$,G,q,X,J,tt,nt,it,st,ct,ht,pt,gt,yt,_t,xt,bt,Ft,Et,It,St,Mt,Lt,Ht,Ot,Vt,Gt,qt,Xt,Jt,te,ne,ae,se,he,pe,ge,ye,r,a,i,o,_e,Ce,O,V,at,$t,s,function(t){n(1,ce=t)},function(t){n(0,ie=t)},function(e){Jc.call(this,t,e)},function(e){Jc.call(this,t,e)},function(t){tl[t?"unshift":"push"]((function(){n(56,a=t)}))},u]}var kB=function(t){fn(n,t);var e=tB(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,IB,QB,Ac,{data:2,height:3,ssr:4,ssrWidth:5,ssrHeight:6,animation:7,duration:8,xKey:9,yKey:10,zKey:11,idKey:12,labelKey:13,xScale:14,yScale:15,yFormatTick:16,xFormatTick:17,yMax:61,yMin:62,xAxis:18,yAxis:19,xTicks:20,yTicks:21,xTickMarks:22,xForceTicks:23,xGridlines:24,zDomain:63,labelWrap:25,title:26,subtitle:27,alt:28,footer:29,legend:30,labels:31,labelMarker:32,yTrimGridlines:33,table:34,snapTicks:35,line:36,area:37,mode:38,areaOpacity:39,padding:40,color:64,colors:41,lineWidth:42,interactive:43,xPrefix:44,xSuffix:45,yPrefix:46,ySuffix:47,hover:48,hovered:0,colorHover:49,select:50,selected:1,colorSelect:51,highlighted:52,colorHighlight:53,output:54},eB,[-1,-1,-1]),r}return Ju(n,[{key:"data",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({data:t}),ul()}},{key:"height",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({height:t}),ul()}},{key:"ssr",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({ssr:t}),ul()}},{key:"ssrWidth",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({ssrWidth:t}),ul()}},{key:"ssrHeight",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({ssrHeight:t}),ul()}},{key:"animation",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({animation:t}),ul()}},{key:"duration",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({duration:t}),ul()}},{key:"xKey",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({xKey:t}),ul()}},{key:"yKey",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({yKey:t}),ul()}},{key:"zKey",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({zKey:t}),ul()}},{key:"idKey",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({idKey:t}),ul()}},{key:"labelKey",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({labelKey:t}),ul()}},{key:"xScale",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({xScale:t}),ul()}},{key:"yScale",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({yScale:t}),ul()}},{key:"yFormatTick",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({yFormatTick:t}),ul()}},{key:"xFormatTick",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({xFormatTick:t}),ul()}},{key:"yMax",get:function(){return this.$$.ctx[61]},set:function(t){this.$$set({yMax:t}),ul()}},{key:"yMin",get:function(){return this.$$.ctx[62]},set:function(t){this.$$set({yMin:t}),ul()}},{key:"xAxis",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({xAxis:t}),ul()}},{key:"yAxis",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({yAxis:t}),ul()}},{key:"xTicks",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({xTicks:t}),ul()}},{key:"yTicks",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({yTicks:t}),ul()}},{key:"xTickMarks",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({xTickMarks:t}),ul()}},{key:"xForceTicks",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({xForceTicks:t}),ul()}},{key:"xGridlines",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({xGridlines:t}),ul()}},{key:"zDomain",get:function(){return this.$$.ctx[63]},set:function(t){this.$$set({zDomain:t}),ul()}},{key:"labelWrap",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({labelWrap:t}),ul()}},{key:"title",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({title:t}),ul()}},{key:"subtitle",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({subtitle:t}),ul()}},{key:"alt",get:function(){return this.$$.ctx[28]},set:function(t){this.$$set({alt:t}),ul()}},{key:"footer",get:function(){return this.$$.ctx[29]},set:function(t){this.$$set({footer:t}),ul()}},{key:"legend",get:function(){return this.$$.ctx[30]},set:function(t){this.$$set({legend:t}),ul()}},{key:"labels",get:function(){return this.$$.ctx[31]},set:function(t){this.$$set({labels:t}),ul()}},{key:"labelMarker",get:function(){return this.$$.ctx[32]},set:function(t){this.$$set({labelMarker:t}),ul()}},{key:"yTrimGridlines",get:function(){return this.$$.ctx[33]},set:function(t){this.$$set({yTrimGridlines:t}),ul()}},{key:"table",get:function(){return this.$$.ctx[34]},set:function(t){this.$$set({table:t}),ul()}},{key:"snapTicks",get:function(){return this.$$.ctx[35]},set:function(t){this.$$set({snapTicks:t}),ul()}},{key:"line",get:function(){return this.$$.ctx[36]},set:function(t){this.$$set({line:t}),ul()}},{key:"area",get:function(){return this.$$.ctx[37]},set:function(t){this.$$set({area:t}),ul()}},{key:"mode",get:function(){return this.$$.ctx[38]},set:function(t){this.$$set({mode:t}),ul()}},{key:"areaOpacity",get:function(){return this.$$.ctx[39]},set:function(t){this.$$set({areaOpacity:t}),ul()}},{key:"padding",get:function(){return this.$$.ctx[40]},set:function(t){this.$$set({padding:t}),ul()}},{key:"color",get:function(){return this.$$.ctx[64]},set:function(t){this.$$set({color:t}),ul()}},{key:"colors",get:function(){return this.$$.ctx[41]},set:function(t){this.$$set({colors:t}),ul()}},{key:"lineWidth",get:function(){return this.$$.ctx[42]},set:function(t){this.$$set({lineWidth:t}),ul()}},{key:"interactive",get:function(){return this.$$.ctx[43]},set:function(t){this.$$set({interactive:t}),ul()}},{key:"xPrefix",get:function(){return this.$$.ctx[44]},set:function(t){this.$$set({xPrefix:t}),ul()}},{key:"xSuffix",get:function(){return this.$$.ctx[45]},set:function(t){this.$$set({xSuffix:t}),ul()}},{key:"yPrefix",get:function(){return this.$$.ctx[46]},set:function(t){this.$$set({yPrefix:t}),ul()}},{key:"ySuffix",get:function(){return this.$$.ctx[47]},set:function(t){this.$$set({ySuffix:t}),ul()}},{key:"hover",get:function(){return this.$$.ctx[48]},set:function(t){this.$$set({hover:t}),ul()}},{key:"hovered",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({hovered:t}),ul()}},{key:"colorHover",get:function(){return this.$$.ctx[49]},set:function(t){this.$$set({colorHover:t}),ul()}},{key:"select",get:function(){return this.$$.ctx[50]},set:function(t){this.$$set({select:t}),ul()}},{key:"selected",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({selected:t}),ul()}},{key:"colorSelect",get:function(){return this.$$.ctx[51]},set:function(t){this.$$set({colorSelect:t}),ul()}},{key:"highlighted",get:function(){return this.$$.ctx[52]},set:function(t){this.$$set({highlighted:t}),ul()}},{key:"colorHighlight",get:function(){return this.$$.ctx[53]},set:function(t){this.$$set({colorHighlight:t}),ul()}},{key:"output",get:function(){return this.$$.ctx[54]},set:function(t){this.$$set({output:t}),ul()}}]),n}(Bl);function SB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function TB(t,e,n){var r=t.slice();return r[25]=e[n],r[27]=n,r}function MB(t,e,n){var r=t.slice();return r[25]=e[n],r[27]=n,r}function DB(t){for(var e,n,r=t[4],i=[],o=0;o<r.length;o+=1)i[o]=LB(MB(t,r,o));var a=t[19]&&(t[0]||t[1]||t[2][0])&&PB(t);return{c:function(){e=Sc("g");for(var t=0;t<i.length;t+=1)i[t].c();n=Dc(),a&&a.c(),Pc(e,"class","scatter-group")},m:function(t,r){Ec(t,e,r);for(var o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);Fc(e,n),a&&a.m(e,null)},p:function(t,o){if(2032&o){var A;for(r=t[4],A=0;A<r.length;A+=1){var s=MB(t,r,A);i[A]?i[A].p(s,o):(i[A]=LB(s),i[A].c(),i[A].m(e,n))}for(;A<i.length;A+=1)i[A].d(1);i.length=r.length}t[19]&&(t[0]||t[1]||t[2][0])?a?a.p(t,o):((a=PB(t)).c(),a.m(e,null)):a&&(a.d(1),a=null)},d:function(t){t&&Qc(e),Ic(i,t),a&&a.d()}}}function LB(t){var e,n,r,i,o;return{c:function(){Pc(e=Sc("circle"),"class",""),Pc(e,"cx",n=t[5](t[25].x)),Pc(e,"cy",r=t[6](t[25].y)),Pc(e,"r",i=t[25].r),Pc(e,"fill",o=t[7]?t[8](t[9][t[27]]):t[10][0])},m:function(t,n){Ec(t,e,n)},p:function(t,a){48&a&&n!==(n=t[5](t[25].x))&&Pc(e,"cx",n),80&a&&r!==(r=t[6](t[25].y))&&Pc(e,"cy",r),16&a&&i!==(i=t[25].r)&&Pc(e,"r",i),1920&a&&o!==(o=t[7]?t[8](t[9][t[27]]):t[10][0])&&Pc(e,"fill",o)},d:function(t){t&&Qc(e)}}}function PB(t){for(var e,n=t[4],r=[],i=0;i<n.length;i+=1)r[i]=zB(TB(t,n,i));return{c:function(){for(var t=0;t<r.length;t+=1)r[t].c();e=Dc()},m:function(t,n){for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(t,n);Ec(t,e,n)},p:function(t,i){if(16253567&i){var o;for(n=t[4],o=0;o<n.length;o+=1){var a=TB(t,n,o);r[o]?r[o].p(a,i):(r[o]=zB(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){Ic(r,t),t&&Qc(e)}}}function HB(t){var e,n,r,i,o,a,A;return{c:function(){Pc(e=Sc("circle"),"class",""),Pc(e,"cx",n=t[5](t[25].x)),Pc(e,"cy",r=t[6](t[25].y)),Pc(e,"r",i=t[25].r),Pc(e,"fill",o=t[3]&&t[9][t[27]][t[19]]==t[1]?t[21]:t[3]&t[2].includes(t[9][t[27]][t[19]])?t[22]:"none"),Pc(e,"stroke",a=t[9][t[27]][t[19]]==t[0]?t[20]:t[9][t[27]][t[19]]==t[1]?t[21]:t[22]),Pc(e,"stroke-width",A=t[9][t[27]][t[19]]==t[0]||t[9][t[27]][t[19]]==t[1]||t[2].includes(t[9][t[27]][t[19]])?t[23]:0)},m:function(t,n){Ec(t,e,n)},p:function(t,s){48&s&&n!==(n=t[5](t[25].x))&&Pc(e,"cx",n),80&s&&r!==(r=t[6](t[25].y))&&Pc(e,"cy",r),16&s&&i!==(i=t[25].r)&&Pc(e,"r",i),526&s&&o!==(o=t[3]&&t[9][t[27]][t[19]]==t[1]?t[21]:t[3]&t[2].includes(t[9][t[27]][t[19]])?t[22]:"none")&&Pc(e,"fill",o),515&s&&a!==(a=t[9][t[27]][t[19]]==t[0]?t[20]:t[9][t[27]][t[19]]==t[1]?t[21]:t[22])&&Pc(e,"stroke",a),519&s&&A!==(A=t[9][t[27]][t[19]]==t[0]||t[9][t[27]][t[19]]==t[1]||t[2].includes(t[9][t[27]][t[19]])?t[23]:0)&&Pc(e,"stroke-width",A)},d:function(t){t&&Qc(e)}}}function zB(t){var e,n=[].concat(_n(t[2]),[t[1],t[0]]).includes(t[9][t[27]][t[19]]),r=n&&HB(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,n){r&&r.m(t,n),Ec(t,e,n)},p:function(t,i){519&i&&(n=[].concat(_n(t[2]),[t[1],t[0]]).includes(t[9][t[27]][t[19]])),n?r?r.p(t,i):((r=HB(t)).c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d:function(t){r&&r.d(t),t&&Qc(e)}}}function $B(t){var e,n=t[4]&&DB(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){var i=vh(r,1)[0];t[4]?n?n.p(t,i):((n=DB(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function RB(t,e,n){var r,i,o,a,A,s,u,c,l=Wc("LayerCake"),h=l.data,f=l.z,p=l.xScale,d=l.yScale,g=l.zGet,m=l.zRange,y=l.custom;cc(t,h,(function(t){return n(9,u=t)})),cc(t,f,(function(t){return n(7,A=t)})),cc(t,p,(function(t){return n(5,o=t)})),cc(t,d,(function(t){return n(6,a=t)})),cc(t,g,(function(t){return n(8,s=t)})),cc(t,m,(function(t){return n(10,c=t)})),cc(t,y,(function(t){return n(24,r=t)}));var v=e.hovered,_=void 0===v?null:v,w=e.selected,x=void 0===w?null:w,B=e.highlighted,b=void 0===B?[]:B,C=e.overlayFill,F=void 0!==C&&C,U=r.coords;cc(t,U,(function(t){return n(4,i=t)}));var E=r.idKey,Q=r.colorHover?r.colorHover:"orange",I=r.colorSelect?r.colorSelect:"black",k=r.colorHighlight?r.colorHighlight:"black",S=r.lineWidth?r.lineWidth:2;return t.$$set=function(t){"hovered"in t&&n(0,_=t.hovered),"selected"in t&&n(1,x=t.selected),"highlighted"in t&&n(2,b=t.highlighted),"overlayFill"in t&&n(3,F=t.overlayFill)},[_,x,b,F,i,o,a,A,s,u,c,h,f,p,d,g,m,y,U,E,Q,I,k,S]}var OB=function(t){fn(n,t);var e=SB(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,RB,$B,Ac,{hovered:0,selected:1,highlighted:2,overlayFill:3}),r}return n}(Bl),KB=Math.hypot,VB=Math.abs,NB=Math.sqrt,GB=!!KB&&KB(1/0,NaN)!==1/0;Lt({target:"Math",stat:!0,forced:GB},{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,A=0;o<a;)A<(n=VB(arguments[o++]))?(i=i*(r=A/n)*r+1,A=n):i+=n>0?(r=n/A)*r:n;return A===1/0?1/0:A*NB(i)}});var jB=11102230246251565e-32,qB=134217729,ZB=(3+8*jB)*jB;function XB(t,e,n,r,i){var o,a,A,s,u=e[0],c=r[0],l=0,h=0;c>u==c>-u?(o=u,u=e[++l]):(o=c,c=r[++h]);var f=0;if(l<t&&h<n)for(c>u==c>-u?(A=o-((a=u+o)-u),u=e[++l]):(A=o-((a=c+o)-c),c=r[++h]),o=a,0!==A&&(i[f++]=A);l<t&&h<n;)c>u==c>-u?(A=o-((a=o+u)-(s=a-o))+(u-s),u=e[++l]):(A=o-((a=o+c)-(s=a-o))+(c-s),c=r[++h]),o=a,0!==A&&(i[f++]=A);for(;l<t;)A=o-((a=o+u)-(s=a-o))+(u-s),u=e[++l],o=a,0!==A&&(i[f++]=A);for(;h<n;)A=o-((a=o+c)-(s=a-o))+(c-s),c=r[++h],o=a,0!==A&&(i[f++]=A);return 0===o&&0!==f||(i[f++]=o),f}function WB(t){return new Float64Array(t)}var JB=22204460492503146e-32,YB=11093356479670487e-47,tb=WB(4),eb=WB(8),nb=WB(12),rb=WB(16),ib=WB(4);function ob(t,e,n,r,i,o){var a=(e-o)*(n-i),A=(t-i)*(r-o),s=a-A;if(0===a||0===A||a>0!=A>0)return s;var u=Math.abs(a+A);return Math.abs(s)>=33306690738754716e-32*u?s:-function(t,e,n,r,i,o,a){var A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C=t-i,F=n-i,U=e-o,E=r-o;l=(w=(p=C-(f=(h=qB*C)-(h-C)))*(g=E-(d=(h=qB*E)-(h-E)))-((_=C*E)-f*d-p*d-f*g))-(m=w-(B=(p=U-(f=(h=qB*U)-(h-U)))*(g=F-(d=(h=qB*F)-(h-F)))-((x=U*F)-f*d-p*d-f*g))),tb[0]=w-(m+l)+(l-B),l=(v=_-((y=_+m)-(l=y-_))+(m-l))-(m=v-x),tb[1]=v-(m+l)+(l-x),l=(b=y+m)-y,tb[2]=y-(b-l)+(m-l),tb[3]=b;var Q=function(t,e){for(var n=e[0],r=1;r<t;r++)n+=e[r];return n}(4,tb),I=JB*a;if(Q>=I||-Q>=I)return Q;if(A=t-(C+(l=t-C))+(l-i),u=n-(F+(l=n-F))+(l-i),s=e-(U+(l=e-U))+(l-o),c=r-(E+(l=r-E))+(l-o),0===A&&0===s&&0===u&&0===c)return Q;if(I=YB*a+ZB*Math.abs(Q),(Q+=C*c+E*A-(U*u+F*s))>=I||-Q>=I)return Q;l=(w=(p=A-(f=(h=qB*A)-(h-A)))*(g=E-(d=(h=qB*E)-(h-E)))-((_=A*E)-f*d-p*d-f*g))-(m=w-(B=(p=s-(f=(h=qB*s)-(h-s)))*(g=F-(d=(h=qB*F)-(h-F)))-((x=s*F)-f*d-p*d-f*g))),ib[0]=w-(m+l)+(l-B),l=(v=_-((y=_+m)-(l=y-_))+(m-l))-(m=v-x),ib[1]=v-(m+l)+(l-x),l=(b=y+m)-y,ib[2]=y-(b-l)+(m-l),ib[3]=b;var k=XB(4,tb,4,ib,eb);l=(w=(p=C-(f=(h=qB*C)-(h-C)))*(g=c-(d=(h=qB*c)-(h-c)))-((_=C*c)-f*d-p*d-f*g))-(m=w-(B=(p=U-(f=(h=qB*U)-(h-U)))*(g=u-(d=(h=qB*u)-(h-u)))-((x=U*u)-f*d-p*d-f*g))),ib[0]=w-(m+l)+(l-B),l=(v=_-((y=_+m)-(l=y-_))+(m-l))-(m=v-x),ib[1]=v-(m+l)+(l-x),l=(b=y+m)-y,ib[2]=y-(b-l)+(m-l),ib[3]=b;var S=XB(k,eb,4,ib,nb);l=(w=(p=A-(f=(h=qB*A)-(h-A)))*(g=c-(d=(h=qB*c)-(h-c)))-((_=A*c)-f*d-p*d-f*g))-(m=w-(B=(p=s-(f=(h=qB*s)-(h-s)))*(g=u-(d=(h=qB*u)-(h-u)))-((x=s*u)-f*d-p*d-f*g))),ib[0]=w-(m+l)+(l-B),l=(v=_-((y=_+m)-(l=y-_))+(m-l))-(m=v-x),ib[1]=v-(m+l)+(l-x),l=(b=y+m)-y,ib[2]=y-(b-l)+(m-l),ib[3]=b;var T=XB(S,nb,4,ib,rb);return rb[T-1]}(t,e,n,r,i,o,u)}var ab=Math.pow(2,-52),Ab=new Uint32Array(512),sb=function(){function t(e){cn(this,t);var n=e.length>>1;if(n>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return Ju(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=t.length>>1,a=1/0,A=1/0,s=-1/0,u=-1/0,c=0;c<o;c++){var l=t[2*c],h=t[2*c+1];l<a&&(a=l),h<A&&(A=h),l>s&&(s=l),h>u&&(u=h),this._ids[c]=c}for(var f,p,d,g=(a+s)/2,m=(A+u)/2,y=1/0,v=0;v<o;v++){var _=ub(g,m,t[2*v],t[2*v+1]);_<y&&(f=v,y=_)}var w=t[2*f],x=t[2*f+1];y=1/0;for(var B=0;B<o;B++)if(B!==f){var b=ub(w,x,t[2*B],t[2*B+1]);b<y&&b>0&&(p=B,y=b)}for(var C=t[2*p],F=t[2*p+1],U=1/0,E=0;E<o;E++)if(E!==f&&E!==p){var Q=cb(w,x,C,F,t[2*E],t[2*E+1]);Q<U&&(d=E,U=Q)}var I=t[2*d],k=t[2*d+1];if(U===1/0){for(var S=0;S<o;S++)this._dists[S]=t[2*S]-t[0]||t[2*S+1]-t[1];lb(this._ids,this._dists,0,o-1);for(var T=new Uint32Array(o),M=0,D=0,L=-1/0;D<o;D++){var P=this._ids[D];this._dists[P]>L&&(T[M++]=P,L=this._dists[P])}return this.hull=T.subarray(0,M),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(ob(w,x,C,F,I,k)<0){var H=p,z=C,$=F;p=d,C=I,F=k,d=H,I=z,k=$}var R=function(t,e,n,r,i,o){var a=n-t,A=r-e,s=i-t,u=o-e,c=a*a+A*A,l=s*s+u*u,h=.5/(a*u-A*s),f=t+(u*c-A*l)*h,p=e+(a*l-s*c)*h;return{x:f,y:p}}(w,x,C,F,I,k);this._cx=R.x,this._cy=R.y;for(var O=0;O<o;O++)this._dists[O]=ub(t[2*O],t[2*O+1],R.x,R.y);lb(this._ids,this._dists,0,o-1),this._hullStart=f;var K=3;n[f]=e[d]=p,n[p]=e[f]=d,n[d]=e[p]=f,r[f]=0,r[p]=1,r[d]=2,i.fill(-1),i[this._hashKey(w,x)]=f,i[this._hashKey(C,F)]=p,i[this._hashKey(I,k)]=d,this.trianglesLen=0,this._addTriangle(f,p,d,-1,-1,-1);for(var V,N,G=0;G<this._ids.length;G++){var j=this._ids[G],q=t[2*j],Z=t[2*j+1];if(!(G>0&&Math.abs(q-V)<=ab&&Math.abs(Z-N)<=ab)&&(V=q,N=Z,j!==f&&j!==p&&j!==d)){for(var X=0,W=0,J=this._hashKey(q,Z);W<this._hashSize&&(-1===(X=i[(J+W)%this._hashSize])||X===n[X]);W++);for(var Y=X=e[X],tt=void 0;tt=n[Y],ob(q,Z,t[2*Y],t[2*Y+1],t[2*tt],t[2*tt+1])>=0;)if((Y=tt)===X){Y=-1;break}if(-1!==Y){var et=this._addTriangle(Y,j,n[Y],-1,-1,r[Y]);r[j]=this._legalize(et+2),r[Y]=et,K++;for(var nt=n[Y];tt=n[nt],ob(q,Z,t[2*nt],t[2*nt+1],t[2*tt],t[2*tt+1])<0;)et=this._addTriangle(nt,j,tt,r[j],-1,r[nt]),r[j]=this._legalize(et+2),n[nt]=nt,K--,nt=tt;if(Y===X)for(;ob(q,Z,t[2*(tt=e[Y])],t[2*tt+1],t[2*Y],t[2*Y+1])<0;)et=this._addTriangle(tt,j,Y,-1,r[Y],r[tt]),this._legalize(et+2),r[tt]=et,n[Y]=Y,K--,Y=tt;this._hullStart=e[j]=Y,n[Y]=e[nt]=j,n[j]=nt,i[this._hashKey(q,Z)]=j,i[this._hashKey(t[2*Y],t[2*Y+1])]=Y}}}this.hull=new Uint32Array(K);for(var rt=0,it=this._hullStart;rt<K;rt++)this.hull[rt]=it,it=n[it];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor((n=t-this._cx,r=e-this._cy,i=n/(Math.abs(n)+Math.abs(r)),(r>0?3-i:1+i)/4*this._hashSize))%this._hashSize;var n,r,i}},{key:"_legalize",value:function(t){for(var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m=this._triangles,y=this._halfedges,v=this.coords,_=0,w=0;;){var x=y[t],B=t-t%3;if(w=B+(t+2)%3,-1!==x){var b=x-x%3,C=B+(t+1)%3,F=b+(x+2)%3,U=m[w],E=m[t],Q=m[C],I=m[F];if(e=v[2*U],n=v[2*U+1],r=v[2*E],i=v[2*E+1],o=v[2*Q],a=v[2*Q+1],A=v[2*I],s=v[2*I+1],u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,p=void 0,void 0,d=void 0,g=void 0,(u=e-A)*((h=i-s)*(g=(f=o-A)*f+(p=a-s)*p)-(d=(l=r-A)*l+h*h)*p)-(c=n-s)*(l*g-d*f)+(u*u+c*c)*(l*p-h*f)<0){m[t]=I,m[x]=U;var k=y[F];if(-1===k){var S=this._hullStart;do{if(this._hullTri[S]===F){this._hullTri[S]=t;break}S=this._hullPrev[S]}while(S!==this._hullStart)}this._link(t,k),this._link(x,y[w]),this._link(w,F);var T=b+(x+1)%3;_<Ab.length&&(Ab[_++]=T)}else{if(0===_)break;t=Ab[--_]}}else{if(0===_)break;t=Ab[--_]}}return w}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fb,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pb,i=e.length,o=new Float64Array(2*i),a=0;a<i;a++){var A=e[a];o[2*a]=n(A),o[2*a+1]=r(A)}return new t(o)}}]),t}();function ub(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}function cb(t,e,n,r,i,o){var a=n-t,A=r-e,s=i-t,u=o-e,c=a*a+A*A,l=s*s+u*u,h=.5/(a*u-A*s),f=(u*c-A*l)*h,p=(a*l-s*c)*h;return f*f+p*p}function lb(t,e,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=t[i],a=e[o],A=i-1;A>=n&&e[t[A]]>a;)t[A+1]=t[A--];t[A+1]=o}else{var s=n+1,u=r;hb(t,n+r>>1,s),e[t[n]]>e[t[r]]&&hb(t,n,r),e[t[s]]>e[t[r]]&&hb(t,s,r),e[t[n]]>e[t[s]]&&hb(t,n,s);for(var c=t[s],l=e[c];;){do{s++}while(e[t[s]]<l);do{u--}while(e[t[u]]>l);if(u<s)break;hb(t,s,u)}t[n+1]=t[u],t[u]=c,r-s+1>=u-n?(lb(t,e,s,r),lb(t,e,n,u-1)):(lb(t,e,n,u-1),lb(t,e,s,r))}}function hb(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function fb(t){return t[0]}function pb(t){return t[1]}var db=1e-6,gb=function(){function t(){cn(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return Ju(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>db||Math.abs(this._y1-i)>db)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(t,e,n,r){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),mb=function(){function t(){cn(this,t),this._=[]}return Ju(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}();function yb(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function vb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _b=function(){function t(e){var n=vh(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],4),r=n[0],i=n[1],o=n[2],a=n[3];if(cn(this,t),!((o=+o)>=(r=+r)&&(a=+a)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=o,this.xmin=r,this.ymax=a,this.ymin=i,this._init()}return Ju(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,A=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),s=0,u=0,c=o.length;s<c;s+=3,u+=2){var l=2*o[s],h=2*o[s+1],f=2*o[s+2],p=r[l],d=r[l+1],g=r[h],m=r[h+1],y=r[f],v=r[f+1],_=g-p,w=m-d,x=y-p,B=v-d,b=2*(_*B-w*x);if(Math.abs(b)<1e-9){var C=1e9,F=2*o[0];t=(p+y)/2-(C*=Math.sign((r[F]-p)*B-(r[F+1]-d)*x))*B,e=(d+v)/2+C*x}else{var U=1/b,E=_*_+w*w,Q=x*x+B*B;t=p+(B*E-w*Q)*U,e=d+(_*Q-x*E)*U}A[u]=t,A[u+1]=e}var I,k,S,T=i[i.length-1],M=4*T,D=r[2*T],L=r[2*T+1];a.fill(0);for(var P=0;P<i.length;++P)I=M,k=D,S=L,M=4*(T=i[P]),D=r[2*T],L=r[2*T+1],a[I+2]=a[M]=S-L,a[I+3]=a[M+1]=D-k}},{key:"render",value:function(t){var e=null==t?t=new gb:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,A=this.vectors;if(o.length<=1)return null;for(var s=0,u=r.length;s<u;++s){var c=r[s];if(!(c<s)){var l=2*Math.floor(s/3),h=2*Math.floor(c/3),f=a[l],p=a[l+1],d=a[h],g=a[h+1];this._renderSegment(f,p,d,g,t)}}for(var m,y=o[o.length-1],v=0;v<o.length;++v){m=y,y=o[v];var _=2*Math.floor(i[y]/3),w=a[_],x=a[_+1],B=4*m,b=this._project(w,x,A[B+2],A[B+3]);b&&this._renderSegment(w,x,b[0],b[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new gb:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new gb:void 0,r=this._clip(t);if(null!==r&&r.length){e.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||e.lineTo(r[o],r[o+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:kl.mark((function t(){var e,n,r,i;return kl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,r=e.length/2;case 2:if(!(n<r)){t.next=11;break}if(!(i=this.cellPolygon(n))){t.next=8;break}return i.index=n,t.next=8,i;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new mb;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,r,i){var o,a=this._regioncode(t,e),A=this._regioncode(n,r);0===a&&0===A?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,A))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:kl.mark((function t(e){var n,r,i,o,a,A,s,u,c;return kl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=33;break}r=yb(this.delaunay.neighbors(e)),t.prev=3,r.s();case 5:if((i=r.n()).done){t.next=25;break}if(o=i.value,!(a=this._clip(o))){t.next=23;break}A=0,s=n.length;case 10:if(!(A<s)){t.next=23;break}u=0,c=a.length;case 12:if(!(u<c)){t.next=20;break}if(n[A]!=a[u]||n[A+1]!=a[u+1]||n[(A+2)%s]!=a[(u+c-2)%c]||n[(A+3)%s]!=a[(u+c-1)%c]){t.next=17;break}return t.next=16,o;case 16:return t.abrupt("break",23);case 17:u+=2,t.next=12;break;case 20:A+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),r.e(t.t0);case 30:return t.prev=30,r.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,27,30,33]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[t];if(-1===a)return null;var A=[],s=a;do{var u=Math.floor(s/3);if(A.push(e[2*u],e[2*u+1]),o[s=s%3==2?s-2:s+1]!==t)break;s=i[s]}while(s!==a&&-1!==s);return A}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,r,i,o,a=e.length,A=null,s=e[a-2],u=e[a-1],c=this._regioncode(s,u),l=0,h=0;h<a;h+=2)if(n=s,r=u,s=e[h],u=e[h+1],i=c,c=this._regioncode(s,u),0===i&&0===c)o=l,l=0,A?A.push(s,u):A=[s,u];else{var f=void 0,p=void 0,d=void 0,g=void 0,m=void 0;if(0===i){if(null===(f=this._clipSegment(n,r,s,u,i,c)))continue;var y=vh(f,4);p=y[0],d=y[1],g=y[2],m=y[3]}else{if(null===(f=this._clipSegment(s,u,n,r,c,i)))continue;var v=vh(f,4);g=v[0],m=v[1],p=v[2],d=v[3],o=l,l=this._edgecode(p,d),o&&l&&this._edge(t,o,l,A,A.length),A?A.push(p,d):A=[p,d]}o=l,l=this._edgecode(g,m),o&&l&&this._edge(t,o,l,A,A.length),A?A.push(g,m):A=[g,m]}if(A)o=l,l=this._edgecode(A[0],A[1]),o&&l&&this._edge(t,o,l,A,A.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return A}},{key:"_clipSegment",value:function(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;var a=void 0,A=void 0,s=i||o;8&s?(a=t+(n-t)*(this.ymax-e)/(r-e),A=this.ymax):4&s?(a=t+(n-t)*(this.ymin-e)/(r-e),A=this.ymin):2&s?(A=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(A=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=A,i=this._regioncode(t,e)):(n=a,r=A,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(t,e,n,r,i,o){var a,A=Array.from(e);if((a=this._project(A[0],A[1],n,r))&&A.unshift(a[0],a[1]),(a=this._project(A[A.length-2],A[A.length-1],i,o))&&A.push(a[0],a[1]),A=this._clipFinite(t,A))for(var s,u=0,c=A.length,l=this._edgecode(A[c-2],A[c-1]);u<c;u+=2)s=l,l=this._edgecode(A[u],A[u+1]),s&&l&&(u=this._edge(t,s,l,A,u),c=A.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(A=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return A}},{key:"_edge",value:function(t,e,n,r,i){for(;e!==n;){var o=void 0,a=void 0;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(t,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var A=0;A<r.length;A+=2){var s=(A+2)%r.length,u=(A+4)%r.length;(r[A]===r[s]&&r[s]===r[u]||r[A+1]===r[s+1]&&r[s+1]===r[u+1])&&(r.splice(s,2),A-=2)}return i}},{key:"_project",value:function(t,e,n,r){var i,o,a,A=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<A&&(a=this.ymin,o=t+(A=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<A&&(a=this.ymax,o=t+(A=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<A&&(o=this.xmax,a=e+(A=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<A&&(o=this.xmin,a=e+(A=i)*r)}return[o,a]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),t}(),wb=kl.mark(Ib);function xb(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,A=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){A=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(A)throw o}}}}function Bb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bb=2*Math.PI,Cb=Math.pow;function Fb(t){return t[0]}function Ub(t){return t[1]}function Eb(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var Qb=function(){function t(e){cn(this,t),this._delaunator=new sb(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return Ju(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,r=0;r<e.length;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[e[2*n],e[2*n+1],e[2*r],e[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,A=e.length/2;a<A;++a){var s=Eb(e[2*a],e[2*a+1],o);e[2*a]=s[0],e[2*a+1]=s[1]}this._delaunator=new sb(e)}else delete this.collinear;for(var u=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),f=this._hullIndex.fill(-1),p=0,d=u.length;p<d;++p){var g=l[p%3==2?p-2:p+1];-1!==u[p]&&-1!==h[g]||(h[g]=p)}for(var m=0,y=c.length;m<y;++m)f[c[m]]=m;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],h[c[0]]=1,2===c.length&&(h[c[1]]=0,this.triangles[1]=c[1],this.triangles[2]=c[1]))}},{key:"voronoi",value:function(t){return new _b(this,t)}},{key:"neighbors",value:kl.mark((function t(e){var n,r,i,o,a,A,s,u,c,l,h;return kl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(A=this.collinear)){t.next=10;break}if(!((s=A.indexOf(e))>0)){t.next=6;break}return t.next=6,A[s-1];case 6:if(!(s<A.length-1)){t.next=9;break}return t.next=9,A[s+1];case 9:return t.abrupt("return");case 10:if(-1!==(u=n[e])){t.next=13;break}return t.abrupt("return");case 13:c=u,l=-1;case 14:return t.next=16,l=a[c];case 16:if(a[c=c%3==2?c-2:c+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=o[c])){t.next=26;break}if((h=r[(i[e]+1)%r.length])===l){t.next=25;break}return t.next=25,h;case 25:return t.abrupt("return");case 26:if(c!==u){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;for(var r,i=n;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(t,e,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,A=this.triangles,s=this.points;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);var u=t,c=Cb(e-s[2*t],2)+Cb(n-s[2*t+1],2),l=r[t],h=l;do{var f=A[h],p=Cb(e-s[2*f],2)+Cb(n-s[2*f+1],2);if(p<c&&(c=p,u=f),A[h=h%3==2?h-2:h+1]!==t)break;if(-1===(h=a[h])){if((h=i[(o[t]+1)%i.length])!==f&&Cb(e-s[2*h],2)+Cb(n-s[2*h+1],2)<c)return h;break}}while(h!==l);return u}},{key:"render",value:function(t){for(var e=null==t?t=new gb:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var A=r[o];if(!(A<o)){var s=2*i[o],u=2*i[A];t.moveTo(n[s],n[s+1]),t.lineTo(n[u],n[u+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=null==e?2:+e;for(var n=null==t?t=new gb:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],A=r[i+1];t.moveTo(a+e,A),t.arc(a,A,e,0,bb)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new gb:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var A=2*n[a];t.lineTo(r[A],r[A+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new mb;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new gb:void 0,r=this.points,i=this.triangles,o=2*i[t*=3],a=2*i[t+1],A=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[A],r[A+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:kl.mark((function t(){var e,n,r;return kl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,r=e.length/3;case 2:if(!(n<r)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new mb;return this.renderTriangle(t,e),e.value()}}],[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fb,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ub,i=arguments.length>3?arguments[3]:void 0;return new t("length"in e?function(t,e,n,r){for(var i=t.length,o=new Float64Array(2*i),a=0;a<i;++a){var A=t[a];o[2*a]=e.call(r,A,a,t),o[2*a+1]=n.call(r,A,a,t)}return o}(e,n,r,i):Float64Array.from(Ib(e,n,r,i)))}}]),t}();function Ib(t,e,n,r){var i,o,a,A;return kl.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=0,o=xb(t),s.prev=2,o.s();case 4:if((a=o.n()).done){s.next=13;break}return A=a.value,s.next=8,e.call(r,A,i,t);case 8:return s.next=10,n.call(r,A,i,t);case 10:++i;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),o.e(s.t0);case 18:return s.prev=18,o.f(),s.finish(18);case 21:case"end":return s.stop()}}),wb,null,[[2,15,18,21]])}function kb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function Sb(t){Uc(t,"svelte-169satm",".voronoi-cell.svelte-169satm{fill:none;stroke:none;pointer-events:all}")}function Tb(t,e,n){var r=t.slice();return r[29]=e[n],r[31]=n,r}function Mb(t){for(var e,n=t[3],r=[],i=0;i<n.length;i+=1)r[i]=Db(Tb(t,n,i));return{c:function(){e=Sc("g");for(var t=0;t<r.length;t+=1)r[t].c();Pc(e,"class","voronoi-group")},m:function(t,n){Ec(t,e,n);for(var i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p:function(t,i){if(6159&i[0]){var o;for(n=t[3],o=0;o<n.length;o+=1){var a=Tb(t,n,o);r[o]?r[o].p(a,i):(r[o]=Db(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(t){t&&Qc(e),Ic(r,t)}}}function Db(t){var e,n,r,i,o;function a(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[21].apply(e,[t[31]].concat(r))}function A(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[23].apply(e,[t[31]].concat(r))}function s(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t)[25].apply(e,[t[31]].concat(r))}return{c:function(){Pc(e=Sc("path"),"class","voronoi-cell svelte-169satm"),Pc(e,"d",n=t[2].renderCell(t[31])),Pc(e,"tabindex",r=t[0]||t[1]?0:-1)},m:function(n,r){Ec(n,e,r),i||(o=[Lc(e,"mouseover",(function(){ac(t[0]?a:null)&&(t[0]?a:null).apply(this,arguments)})),Lc(e,"mouseleave",(function(){ac(t[0]?t[22]:null)&&(t[0]?t[22]:null).apply(this,arguments)})),Lc(e,"focus",(function(){ac(t[1]?A:null)&&(t[1]?A:null).apply(this,arguments)})),Lc(e,"blur",(function(){ac(t[1]?t[24]:null)&&(t[1]?t[24]:null).apply(this,arguments)})),Lc(e,"click",(function(){ac(t[1]?s:null)&&(t[1]?s:null).apply(this,arguments)}))],i=!0)},p:function(i,o){t=i,4&o[0]&&n!==(n=t[2].renderCell(t[31]))&&Pc(e,"d",n),3&o[0]&&r!==(r=t[0]||t[1]?0:-1)&&Pc(e,"tabindex",r)},d:function(t){t&&Qc(e),i=!1,oc(o)}}}function Lb(t){var e,n=t[2]&&Mb(t);return{c:function(){n&&n.c(),e=Dc()},m:function(t,r){n&&n.m(t,r),Ec(t,e,r)},p:function(t,r){t[2]?n?n.p(t,r):((n=Mb(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Yu,o:Yu,d:function(t){n&&n.d(t),t&&Qc(e)}}}function Pb(t,e,n){var r,i,o,a,A,s,u,c,l,h=Wc("LayerCake"),f=h.data,p=h.width,d=h.height,g=h.custom,m=h.xScale,y=h.yScale;cc(t,f,(function(t){return n(3,l=t)})),cc(t,p,(function(t){return n(17,a=t)})),cc(t,d,(function(t){return n(16,o=t)})),cc(t,g,(function(t){return n(26,c=t)})),cc(t,m,(function(t){return n(19,s=t)})),cc(t,y,(function(t){return n(18,A=t)}));var v=Zc(),_=e.hover,w=void 0!==_&&_,x=e.hovered,B=void 0===x?null:x,b=e.select,C=void 0!==b&&b,F=e.selected,U=void 0===F?null:F,E=c.coords;cc(t,E,(function(t){return n(20,u=t)}));var Q=c.idKey;function I(t,e){w&&(n(13,B=e?e[Q]:null),v("hover",{id:B,data:e,event:t}))}function k(t,e){C&&(n(14,U=e?e[Q]:null),v("select",{id:U,data:e,event:t}))}return t.$$set=function(t){"hover"in t&&n(0,w=t.hover),"hovered"in t&&n(13,B=t.hovered),"select"in t&&n(1,C=t.select),"selected"in t&&n(14,U=t.selected)},t.$$.update=function(){1835008&t.$$.dirty[0]&&n(15,r=Array.isArray(u)?u.map((function(t){return[s(t.x),A(t.y)]})):[]),229376&t.$$.dirty[0]&&n(2,i=Qb.from(r).voronoi([0,0,a,o]))},[w,C,i,l,f,p,d,g,m,y,E,I,k,B,U,r,o,a,A,s,u,function(t,e){return I(e,l[t])},function(t){return I(t,null)},function(t,e){return I(e,l[t])},function(t){return I(t,null)},function(t,e){return k(e,l[t])}]}var Hb=function(t){fn(n,t);var e=kb(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,Pb,Lb,Ac,{hover:0,hovered:13,select:1,selected:14},Sb,[-1,-1]),r}return n}(Bl);function zb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function $b(t){Uc(t,"svelte-1fy6g2i",".chart-container.svelte-1fy6g2i{width:100%}.visuallyhidden.svelte-1fy6g2i{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}")}var Rb=function(t){return{}},Ob=function(t){return{}},Kb=function(t){return{}},Vb=function(t){return{}},Nb=function(t){return{}},Gb=function(t){return{}},jb=function(t){return{}},qb=function(t){return{}},Zb=function(t){return{}},Xb=function(t){return{}};function Wb(t){var e,n;return e=new dw({props:{$$slots:{default:[Jb]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};268435456&n[0]|2048&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function Jb(t){var e;return{c:function(){e=Tc(t[28])},m:function(t,n){Ec(t,e,n)},p:function(t,n){268435456&n[0]&&zc(e,t[28])},d:function(t){t&&Qc(e)}}}function Yb(t){var e,n;return e=new _w({props:{$$slots:{default:[tC]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};536870912&n[0]|2048&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function tC(t){var e;return{c:function(){e=Tc(t[29])},m:function(t,n){Ec(t,e,n)},p:function(t,n){536870912&n[0]&&zc(e,t[29])},d:function(t){t&&Qc(e)}}}function eC(t){var e,n;return{c:function(){e=kc("h5"),n=Tc(t[30]),Pc(e,"class","visuallyhidden svelte-1fy6g2i")},m:function(t,r){Ec(t,e,r),Fc(e,n)},p:function(t,e){1073741824&e[0]&&zc(n,t[30])},d:function(t){t&&Qc(e)}}}function nC(t){var e,n;return e=new G_({props:{ticks:t[21],formatTick:t[17],snapTicks:t[36],prefix:t[42],suffix:t[43],textColor:t[25],tickColor:t[26],tickDashed:t[27],gridlines:t[24],tickMarks:t[23]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};2097152&n[0]&&(r.ticks=t[21]),131072&n[0]&&(r.formatTick=t[17]),32&n[1]&&(r.snapTicks=t[36]),2048&n[1]&&(r.prefix=t[42]),4096&n[1]&&(r.suffix=t[43]),33554432&n[0]&&(r.textColor=t[25]),67108864&n[0]&&(r.tickColor=t[26]),134217728&n[0]&&(r.tickDashed=t[27]),16777216&n[0]&&(r.gridlines=t[24]),8388608&n[0]&&(r.tickMarks=t[23]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function rC(t){var e,n;return e=new nw({props:{ticks:t[22],formatTick:t[18],prefix:t[44],suffix:t[45],textColor:t[25],tickColor:t[26],tickDashed:t[27]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};4194304&n[0]&&(r.ticks=t[22]),262144&n[0]&&(r.formatTick=t[18]),8192&n[1]&&(r.prefix=t[44]),16384&n[1]&&(r.suffix=t[45]),33554432&n[0]&&(r.textColor=t[25]),67108864&n[0]&&(r.tickColor=t[26]),134217728&n[0]&&(r.tickDashed=t[27]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function iC(t){var e,n,r,i;function o(e){t[68](e)}function a(e){t[69](e)}var A={select:t[48],hover:t[46],highlighted:t[50]};return void 0!==t[1]&&(A.selected=t[1]),void 0!==t[0]&&(A.hovered=t[0]),e=new Hb({props:A}),tl.push((function(){return ml(e,"selected",o)})),tl.push((function(){return ml(e,"hovered",a)})),e.$on("hover",t[70]),e.$on("select",t[71]),{c:function(){yl(e.$$.fragment)},m:function(t,n){vl(e,t,n),i=!0},p:function(t,i){var o={};131072&i[1]&&(o.select=t[48]),32768&i[1]&&(o.hover=t[46]),524288&i[1]&&(o.highlighted=t[50]),!n&&2&i[0]&&(n=!0,o.selected=t[1],al((function(){return n=!1}))),!r&&1&i[0]&&(r=!0,o.hovered=t[0],al((function(){return r=!1}))),e.$set(o)},i:function(t){i||(dl(e.$$.fragment,t),i=!0)},o:function(t){gl(e.$$.fragment,t),i=!1},d:function(t){_l(e,t)}}}function oC(t){var e,n;return e=new Yx({props:{hovered:t[0],selected:t[1],content:t[35]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};1&n[0]&&(r.hovered=t[0]),2&n[0]&&(r.selected=t[1]),16&n[1]&&(r.content=t[35]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function aC(t){var e,n,r,i,o,a,A,s=t[19]&&nC(t),u=t[20]&&t[10]&&rC(t);r=new OB({props:{selected:t[1],hovered:t[0],highlighted:t[50],overlayFill:t[52]}});var c=(t[48]||t[46])&&iC(t),l=t[34]&&oC(t),h=t[67].svg,f=lc(h,t,t[73],Gb);return{c:function(){s&&s.c(),e=Mc(),u&&u.c(),n=Mc(),yl(r.$$.fragment),i=Mc(),c&&c.c(),o=Mc(),l&&l.c(),a=Mc(),f&&f.c()},m:function(t,h){s&&s.m(t,h),Ec(t,e,h),u&&u.m(t,h),Ec(t,n,h),vl(r,t,h),Ec(t,i,h),c&&c.m(t,h),Ec(t,o,h),l&&l.m(t,h),Ec(t,a,h),f&&f.m(t,h),A=!0},p:function(t,i){t[19]?s?(s.p(t,i),524288&i[0]&&dl(s,1)):((s=nC(t)).c(),dl(s,1),s.m(e.parentNode,e)):s&&(fl(),gl(s,1,1,(function(){s=null})),pl()),t[20]&&t[10]?u?(u.p(t,i),1049600&i[0]&&dl(u,1)):((u=rC(t)).c(),dl(u,1),u.m(n.parentNode,n)):u&&(fl(),gl(u,1,1,(function(){u=null})),pl());var p={};2&i[0]&&(p.selected=t[1]),1&i[0]&&(p.hovered=t[0]),524288&i[1]&&(p.highlighted=t[50]),2097152&i[1]&&(p.overlayFill=t[52]),r.$set(p),t[48]||t[46]?c?(c.p(t,i),163840&i[1]&&dl(c,1)):((c=iC(t)).c(),dl(c,1),c.m(o.parentNode,o)):c&&(fl(),gl(c,1,1,(function(){c=null})),pl()),t[34]?l?(l.p(t,i),8&i[1]&&dl(l,1)):((l=oC(t)).c(),dl(l,1),l.m(a.parentNode,a)):l&&(fl(),gl(l,1,1,(function(){l=null})),pl()),f&&f.p&&(!A||2048&i[2])&&pc(f,h,t,t[73],A?fc(h,t[73],i,Nb):dc(t[73]),Gb)},i:function(t){A||(dl(s),dl(u),dl(r.$$.fragment,t),dl(c),dl(l),dl(f,t),A=!0)},o:function(t){gl(s),gl(u),gl(r.$$.fragment,t),gl(c),gl(l),gl(f,t),A=!1},d:function(t){s&&s.d(t),t&&Qc(e),u&&u.d(t),t&&Qc(n),_l(r,t),t&&Qc(i),c&&c.d(t),t&&Qc(o),l&&l.d(t),t&&Qc(a),f&&f.d(t)}}}function AC(t){var e,n,r,i,o,a;e=new B_({});var A=t[67].back,s=lc(A,t,t[73],qb);i=new o_({props:{pointerEvents:t[41],$$slots:{default:[aC]},$$scope:{ctx:t}}});var u=t[67].front,c=lc(u,t,t[73],Vb);return{c:function(){yl(e.$$.fragment),n=Mc(),s&&s.c(),r=Mc(),yl(i.$$.fragment),o=Mc(),c&&c.c()},m:function(t,A){vl(e,t,A),Ec(t,n,A),s&&s.m(t,A),Ec(t,r,A),vl(i,t,A),Ec(t,o,A),c&&c.m(t,A),a=!0},p:function(t,e){s&&s.p&&(!a||2048&e[2])&&pc(s,A,t,t[73],a?fc(A,t[73],e,jb):dc(t[73]),qb);var n={};1024&e[1]&&(n.pointerEvents=t[41]),268305411&e[0]|2816056&e[1]|2048&e[2]&&(n.$$scope={dirty:e,ctx:t}),i.$set(n),c&&c.p&&(!a||2048&e[2])&&pc(c,u,t,t[73],a?fc(u,t[73],e,Kb):dc(t[73]),Vb)},i:function(t){a||(dl(e.$$.fragment,t),dl(s,t),dl(i.$$.fragment,t),dl(c,t),a=!0)},o:function(t){gl(e.$$.fragment,t),gl(s,t),gl(i.$$.fragment,t),gl(c,t),a=!1},d:function(t){_l(e,t),t&&Qc(n),s&&s.d(t),t&&Qc(r),_l(i,t),t&&Qc(o),c&&c.d(t)}}}function sC(t){var e,n,r;return n=new Vw({props:{data:t[2],key1:t[11],key2:t[9],key3:t[10],key4:t[12]}}),{c:function(){e=kc("div"),yl(n.$$.fragment),Pc(e,"class","visuallyhidden svelte-1fy6g2i")},m:function(t,i){Ec(t,e,i),vl(n,e,null),r=!0},p:function(t,e){var r={};4&e[0]&&(r.data=t[2]),2048&e[0]&&(r.key1=t[11]),512&e[0]&&(r.key2=t[9]),1024&e[0]&&(r.key3=t[10]),4096&e[0]&&(r.key4=t[12]),n.$set(r)},i:function(t){r||(dl(n.$$.fragment,t),r=!0)},o:function(t){gl(n.$$.fragment,t),r=!1},d:function(t){t&&Qc(e),_l(n)}}}function uC(t){var e,n;return e=new cw({props:{domain:t[55],colors:t[39],markerLength:Array.isArray(t[40])?2*t[40][0]:2*t[40],round:!0}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};16777216&n[1]&&(r.domain=t[55]),256&n[1]&&(r.colors=t[39]),512&n[1]&&(r.markerLength=Array.isArray(t[40])?2*t[40][0]:2*t[40]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function cC(t){var e,n;return e=new Cw({props:{$$slots:{default:[lC]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};1&n[1]|2048&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function lC(t){var e;return{c:function(){e=Tc(t[31])},m:function(t,n){Ec(t,e,n)},p:function(t,n){1&n[1]&&zc(e,t[31])},d:function(t){t&&Qc(e)}}}function hC(t){var e,n;return e=new Tw({props:{el:t[54],data:t[2],keys:[t[13],t[9],t[11],t[10]],title:t[28],output:t[53]}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};8388608&n[1]&&(r.el=t[54]),4&n[0]&&(r.data=t[2]),11776&n[0]&&(r.keys=[t[13],t[9],t[11],t[10]]),268435456&n[0]&&(r.title=t[28]),4194304&n[1]&&(r.output=t[53]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function fC(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d=t[28]&&Wb(t),g=t[29]&&Yb(t),m=t[30]&&eC(t),y=t[67].options,v=lc(y,t,t[73],Xb);A=new jv({props:{padding:t[37],ssr:t[4],height:t[4]?t[6]:null,width:t[4]?t[5]:null,x:t[9],y:t[10],z:t[11],r:t[12],xScale:"function"==typeof t[15]?t[15]():"log"==t[15]?Am():Yg(),yScale:"function"==typeof t[16]?t[16]():"log"==t[16]?Am():Yg(),zScale:Ed(),xDomain:t[56],yDomain:t[57],zDomain:t[55],zRange:t[39],rRange:Array.isArray(t[40])?t[40]:[t[40],t[40]],data:t[2],xPadding:[t[38],t[38]],yPadding:t[10]?[t[38],t[38]]:null,custom:{type:"scatter",idKey:t[13],labelKey:t[14],coords:t[58],colorSelect:t[49],colorHover:t[47],colorHighlight:t[51],padding:1,animation:t[7],duration:t[8]},$$slots:{default:[AC]},$$scope:{ctx:t}}});var _=t[33]&&sC(t),w=t[67].legend,x=lc(w,t,t[73],Ob),B=t[32]&&t[55]&&uC(t),b=t[31]&&cC(t),C=t[53]&&hC(t);return{c:function(){e=kc("div"),d&&d.c(),n=Mc(),g&&g.c(),r=Mc(),m&&m.c(),i=Mc(),v&&v.c(),o=Mc(),a=kc("div"),yl(A.$$.fragment),s=Mc(),_&&_.c(),u=Mc(),x&&x.c(),c=Mc(),B&&B.c(),l=Mc(),b&&b.c(),h=Mc(),C&&C.c(),f=Dc(),Pc(a,"class","chart-container svelte-1fy6g2i"),$c(a,"height","number"==typeof t[3]?t[3]+"px":t[3]),Pc(a,"aria-hidden","true")},m:function(y,w){Ec(y,e,w),d&&d.m(e,null),Fc(e,n),g&&g.m(e,null),Fc(e,r),m&&m.m(e,null),Fc(e,i),v&&v.m(e,null),Fc(e,o),Fc(e,a),vl(A,a,null),Fc(e,s),_&&_.m(e,null),Fc(e,u),x&&x.m(e,null),Fc(e,c),B&&B.m(e,null),Fc(e,l),b&&b.m(e,null),t[72](e),Ec(y,h,w),C&&C.m(y,w),Ec(y,f,w),p=!0},p:function(t,o){t[28]?d?(d.p(t,o),268435456&o[0]&&dl(d,1)):((d=Wb(t)).c(),dl(d,1),d.m(e,n)):d&&(fl(),gl(d,1,1,(function(){d=null})),pl()),t[29]?g?(g.p(t,o),536870912&o[0]&&dl(g,1)):((g=Yb(t)).c(),dl(g,1),g.m(e,r)):g&&(fl(),gl(g,1,1,(function(){g=null})),pl()),t[30]?m?m.p(t,o):((m=eC(t)).c(),m.m(e,i)):m&&(m.d(1),m=null),v&&v.p&&(!p||2048&o[2])&&pc(v,y,t,t[73],p?fc(y,t[73],o,Zb):dc(t[73]),Xb);var s={};64&o[1]&&(s.padding=t[37]),16&o[0]&&(s.ssr=t[4]),80&o[0]&&(s.height=t[4]?t[6]:null),48&o[0]&&(s.width=t[4]?t[5]:null),512&o[0]&&(s.x=t[9]),1024&o[0]&&(s.y=t[10]),2048&o[0]&&(s.z=t[11]),4096&o[0]&&(s.r=t[12]),32768&o[0]&&(s.xScale="function"==typeof t[15]?t[15]():"log"==t[15]?Am():Yg()),65536&o[0]&&(s.yScale="function"==typeof t[16]?t[16]():"log"==t[16]?Am():Yg()),33554432&o[1]&&(s.xDomain=t[56]),67108864&o[1]&&(s.yDomain=t[57]),16777216&o[1]&&(s.zDomain=t[55]),256&o[1]&&(s.zRange=t[39]),512&o[1]&&(s.rRange=Array.isArray(t[40])?t[40]:[t[40],t[40]]),4&o[0]&&(s.data=t[2]),128&o[1]&&(s.xPadding=[t[38],t[38]]),1024&o[0]|128&o[1]&&(s.yPadding=t[10]?[t[38],t[38]]:null),24960&o[0]|1376256&o[1]&&(s.custom={type:"scatter",idKey:t[13],labelKey:t[14],coords:t[58],colorSelect:t[49],colorHover:t[47],colorHighlight:t[51],padding:1,animation:t[7],duration:t[8]}),268305411&o[0]|2817080&o[1]|2048&o[2]&&(s.$$scope={dirty:o,ctx:t}),A.$set(s),(!p||8&o[0])&&$c(a,"height","number"==typeof t[3]?t[3]+"px":t[3]),t[33]?_?(_.p(t,o),4&o[1]&&dl(_,1)):((_=sC(t)).c(),dl(_,1),_.m(e,u)):_&&(fl(),gl(_,1,1,(function(){_=null})),pl()),x&&x.p&&(!p||2048&o[2])&&pc(x,w,t,t[73],p?fc(w,t[73],o,Rb):dc(t[73]),Ob),t[32]&&t[55]?B?(B.p(t,o),16777218&o[1]&&dl(B,1)):((B=uC(t)).c(),dl(B,1),B.m(e,l)):B&&(fl(),gl(B,1,1,(function(){B=null})),pl()),t[31]?b?(b.p(t,o),1&o[1]&&dl(b,1)):((b=cC(t)).c(),dl(b,1),b.m(e,null)):b&&(fl(),gl(b,1,1,(function(){b=null})),pl()),t[53]?C?(C.p(t,o),4194304&o[1]&&dl(C,1)):((C=hC(t)).c(),dl(C,1),C.m(f.parentNode,f)):C&&(fl(),gl(C,1,1,(function(){C=null})),pl())},i:function(t){p||(dl(d),dl(g),dl(v,t),dl(A.$$.fragment,t),dl(_),dl(x,t),dl(B),dl(b),dl(C),p=!0)},o:function(t){gl(d),gl(g),gl(v,t),gl(A.$$.fragment,t),gl(_),gl(x,t),gl(B),gl(b),gl(C),p=!1},d:function(n){n&&Qc(e),d&&d.d(),g&&g.d(),m&&m.d(),v&&v.d(n),_l(A),_&&_.d(),x&&x.d(n),B&&B.d(),b&&b.d(),t[72](null),n&&Qc(h),C&&C.d(n),n&&Qc(f)}}}function pC(t,e,n,r){var i=t.map((function(t){return t[e]}));return[n||(i[0]?Math.min.apply(Math,_n(i)):-1),r||(i[0]?Math.max.apply(Math,_n(i)):1)]}function dC(t,e,n){var r,i,o,a,A=e.$$slots,s=void 0===A?{}:A,u=e.$$scope,c=e.data,l=e.height,h=void 0===l?200:l,f=e.ssr,p=void 0!==f&&f,d=e.ssrWidth,g=void 0===d?300:d,m=e.ssrHeight,y=void 0===m?"number"==typeof h?h:200:m,v=e.animation,_=void 0===v||v,w=e.duration,x=void 0===w?800:w,B=e.xKey,b=void 0===B?"x":B,C=e.yKey,F=void 0===C?null:C,U=e.zKey,E=void 0===U?null:U,Q=e.rKey,I=void 0===Q?null:Q,k=e.idKey,S=void 0===k?b:k,T=e.labelKey,M=void 0===T?S:T,D=e.xScale,L=void 0===D?"linear":D,P=e.yScale,H=void 0===P?"linear":P,z=e.xFormatTick,$=void 0===z?function(t){return t}:z,R=e.yFormatTick,O=void 0===R?m_:R,K=e.xMax,V=void 0===K?null:K,N=e.xMin,G=void 0===N?null:N,j=e.yMax,q=void 0===j?null:j,Z=e.yMin,X=void 0===Z?null:Z,W=e.xAxis,J=void 0===W||W,Y=e.yAxis,tt=void 0===Y||Y,et=e.xTicks,nt=void 0===et?4:et,rt=e.yTicks,it=void 0===rt?4:rt,ot=e.xTickMarks,at=void 0===ot||ot,At=e.xGridlines,st=void 0===At||At,ut=e.zDomain,ct=void 0===ut?null:ut,lt=e.textColor,ht=void 0===lt?"#666":lt,ft=e.tickColor,pt=void 0===ft?"#ccc":ft,dt=e.tickDashed,gt=void 0!==dt&&dt,mt=e.title,yt=void 0===mt?null:mt,vt=e.subtitle,_t=void 0===vt?null:vt,wt=e.alt,xt=void 0===wt?null:wt,Bt=e.footer,bt=void 0===Bt?null:Bt,Ct=e.legend,Ft=void 0!==Ct&&Ct,Ut=e.table,Et=void 0!==Ut&&Ut,Qt=e.labels,It=void 0!==Qt&&Qt,kt=e.labelContent,St=void 0===kt?null:kt,Tt=e.snapTicks,Mt=void 0!==Tt&&Tt,Dt=e.padding,Lt=void 0===Dt?{top:18,bottom:28,left:35,right:0}:Dt,Pt=e.buffer,Ht=void 0===Pt?5:Pt,zt=e.color,$t=void 0===zt?null:zt,Rt=e.colors,Ot=void 0===Rt?$t?[$t]:["#206095","#A8BD3A","#003C57","#27A0CC","#118C7B","#F66068","#746CB1","#22D0B6","lightgrey"]:Rt,Kt=e.r,Vt=void 0===Kt?4:Kt,Nt=e.interactive,Gt=void 0===Nt||Nt,jt=e.xPrefix,qt=void 0===jt?"":jt,Zt=e.xSuffix,Xt=void 0===Zt?"":Zt,Wt=e.yPrefix,Jt=void 0===Wt?"":Wt,Yt=e.ySuffix,te=void 0===Yt?"":Yt,ee=e.hover,ne=void 0!==ee&&ee,re=e.hovered,ie=void 0===re?null:re,oe=e.colorHover,ae=void 0===oe?"orange":oe,Ae=e.select,se=void 0!==Ae&&Ae,ue=e.selected,ce=void 0===ue?null:ue,le=e.colorSelect,he=void 0===le?"black":le,fe=e.highlighted,pe=void 0===fe?[]:fe,de=e.colorHighlight,ge=void 0===de?"black":de,me=e.overlayFill,ye=void 0!==me&&me,ve=e.output,_e=void 0===ve?null:ve,we={duration:x,easing:A_},xe=c_(void 0,we),Be=function(t,e,n){return n.indexOf(t)==e};var be=pC(c,b,G,V),Ce=c_(be,we);cc(t,Ce,(function(t){return n(56,i=t)}));var Fe=pC(c,F,X,q),Ue=c_(Fe,we);return cc(t,Ue,(function(t){return n(57,o=t)})),t.$$set=function(t){"data"in t&&n(2,c=t.data),"height"in t&&n(3,h=t.height),"ssr"in t&&n(4,p=t.ssr),"ssrWidth"in t&&n(5,g=t.ssrWidth),"ssrHeight"in t&&n(6,y=t.ssrHeight),"animation"in t&&n(7,_=t.animation),"duration"in t&&n(8,x=t.duration),"xKey"in t&&n(9,b=t.xKey),"yKey"in t&&n(10,F=t.yKey),"zKey"in t&&n(11,E=t.zKey),"rKey"in t&&n(12,I=t.rKey),"idKey"in t&&n(13,S=t.idKey),"labelKey"in t&&n(14,M=t.labelKey),"xScale"in t&&n(15,L=t.xScale),"yScale"in t&&n(16,H=t.yScale),"xFormatTick"in t&&n(17,$=t.xFormatTick),"yFormatTick"in t&&n(18,O=t.yFormatTick),"xMax"in t&&n(61,V=t.xMax),"xMin"in t&&n(62,G=t.xMin),"yMax"in t&&n(63,q=t.yMax),"yMin"in t&&n(64,X=t.yMin),"xAxis"in t&&n(19,J=t.xAxis),"yAxis"in t&&n(20,tt=t.yAxis),"xTicks"in t&&n(21,nt=t.xTicks),"yTicks"in t&&n(22,it=t.yTicks),"xTickMarks"in t&&n(23,at=t.xTickMarks),"xGridlines"in t&&n(24,st=t.xGridlines),"zDomain"in t&&n(65,ct=t.zDomain),"textColor"in t&&n(25,ht=t.textColor),"tickColor"in t&&n(26,pt=t.tickColor),"tickDashed"in t&&n(27,gt=t.tickDashed),"title"in t&&n(28,yt=t.title),"subtitle"in t&&n(29,_t=t.subtitle),"alt"in t&&n(30,xt=t.alt),"footer"in t&&n(31,bt=t.footer),"legend"in t&&n(32,Ft=t.legend),"table"in t&&n(33,Et=t.table),"labels"in t&&n(34,It=t.labels),"labelContent"in t&&n(35,St=t.labelContent),"snapTicks"in t&&n(36,Mt=t.snapTicks),"padding"in t&&n(37,Lt=t.padding),"buffer"in t&&n(38,Ht=t.buffer),"color"in t&&n(66,$t=t.color),"colors"in t&&n(39,Ot=t.colors),"r"in t&&n(40,Vt=t.r),"interactive"in t&&n(41,Gt=t.interactive),"xPrefix"in t&&n(42,qt=t.xPrefix),"xSuffix"in t&&n(43,Xt=t.xSuffix),"yPrefix"in t&&n(44,Jt=t.yPrefix),"ySuffix"in t&&n(45,te=t.ySuffix),"hover"in t&&n(46,ne=t.hover),"hovered"in t&&n(0,ie=t.hovered),"colorHover"in t&&n(47,ae=t.colorHover),"select"in t&&n(48,se=t.select),"selected"in t&&n(1,ce=t.selected),"colorSelect"in t&&n(49,he=t.colorSelect),"highlighted"in t&&n(50,pe=t.highlighted),"colorHighlight"in t&&n(51,ge=t.colorHighlight),"overlayFill"in t&&n(52,ye=t.overlayFill),"output"in t&&n(53,_e=t.output),"$$scope"in t&&n(73,u=t.$$scope)},t.$$.update=function(){516&t.$$.dirty[0]|1073741824&t.$$.dirty[1]|1&t.$$.dirty[2]&&function(t,e,n,r){var i=pC(t,e,n,r);i[0]==be[0]&&i[1]==be[1]||(Ce.set(i),be=i)}(c,b,G,V),1028&t.$$.dirty[0]|6&t.$$.dirty[2]&&function(t,e,n,r){var i=e?pC(t,e,n,r):Fe;i[0]==Fe[0]&&i[1]==Fe[1]||(Ue.set(i,{duration:_?x:0}),Fe=i)}(c,F,X,q),2052&t.$$.dirty[0]|8&t.$$.dirty[2]&&n(55,r=Array.isArray(ct)?ct:E&&"function"==typeof ct?c.map((function(t){return t[E]})).filter(Be).sort(ct):E?c.map((function(t){return t[E]})).filter(Be):null)},[ie,ce,c,h,p,g,y,_,x,b,F,E,I,S,M,L,H,$,O,J,tt,nt,it,at,st,ht,pt,gt,yt,_t,xt,bt,Ft,Et,It,St,Mt,Lt,Ht,Ot,Vt,Gt,qt,Xt,Jt,te,ne,ae,se,he,pe,ge,ye,_e,a,r,i,o,xe,Ce,Ue,V,G,q,X,ct,$t,s,function(t){n(1,ce=t)},function(t){n(0,ie=t)},function(e){Jc.call(this,t,e)},function(e){Jc.call(this,t,e)},function(t){tl[t?"unshift":"push"]((function(){n(54,a=t)}))},u]}var gC=function(t){fn(n,t);var e=zb(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,dC,fC,Ac,{data:2,height:3,ssr:4,ssrWidth:5,ssrHeight:6,animation:7,duration:8,xKey:9,yKey:10,zKey:11,rKey:12,idKey:13,labelKey:14,xScale:15,yScale:16,xFormatTick:17,yFormatTick:18,xMax:61,xMin:62,yMax:63,yMin:64,xAxis:19,yAxis:20,xTicks:21,yTicks:22,xTickMarks:23,xGridlines:24,zDomain:65,textColor:25,tickColor:26,tickDashed:27,title:28,subtitle:29,alt:30,footer:31,legend:32,table:33,labels:34,labelContent:35,snapTicks:36,padding:37,buffer:38,color:66,colors:39,r:40,interactive:41,xPrefix:42,xSuffix:43,yPrefix:44,ySuffix:45,hover:46,hovered:0,colorHover:47,select:48,selected:1,colorSelect:49,highlighted:50,colorHighlight:51,overlayFill:52,output:53},$b,[-1,-1,-1]),r}return Ju(n,[{key:"data",get:function(){return this.$$.ctx[2]},set:function(t){this.$$set({data:t}),ul()}},{key:"height",get:function(){return this.$$.ctx[3]},set:function(t){this.$$set({height:t}),ul()}},{key:"ssr",get:function(){return this.$$.ctx[4]},set:function(t){this.$$set({ssr:t}),ul()}},{key:"ssrWidth",get:function(){return this.$$.ctx[5]},set:function(t){this.$$set({ssrWidth:t}),ul()}},{key:"ssrHeight",get:function(){return this.$$.ctx[6]},set:function(t){this.$$set({ssrHeight:t}),ul()}},{key:"animation",get:function(){return this.$$.ctx[7]},set:function(t){this.$$set({animation:t}),ul()}},{key:"duration",get:function(){return this.$$.ctx[8]},set:function(t){this.$$set({duration:t}),ul()}},{key:"xKey",get:function(){return this.$$.ctx[9]},set:function(t){this.$$set({xKey:t}),ul()}},{key:"yKey",get:function(){return this.$$.ctx[10]},set:function(t){this.$$set({yKey:t}),ul()}},{key:"zKey",get:function(){return this.$$.ctx[11]},set:function(t){this.$$set({zKey:t}),ul()}},{key:"rKey",get:function(){return this.$$.ctx[12]},set:function(t){this.$$set({rKey:t}),ul()}},{key:"idKey",get:function(){return this.$$.ctx[13]},set:function(t){this.$$set({idKey:t}),ul()}},{key:"labelKey",get:function(){return this.$$.ctx[14]},set:function(t){this.$$set({labelKey:t}),ul()}},{key:"xScale",get:function(){return this.$$.ctx[15]},set:function(t){this.$$set({xScale:t}),ul()}},{key:"yScale",get:function(){return this.$$.ctx[16]},set:function(t){this.$$set({yScale:t}),ul()}},{key:"xFormatTick",get:function(){return this.$$.ctx[17]},set:function(t){this.$$set({xFormatTick:t}),ul()}},{key:"yFormatTick",get:function(){return this.$$.ctx[18]},set:function(t){this.$$set({yFormatTick:t}),ul()}},{key:"xMax",get:function(){return this.$$.ctx[61]},set:function(t){this.$$set({xMax:t}),ul()}},{key:"xMin",get:function(){return this.$$.ctx[62]},set:function(t){this.$$set({xMin:t}),ul()}},{key:"yMax",get:function(){return this.$$.ctx[63]},set:function(t){this.$$set({yMax:t}),ul()}},{key:"yMin",get:function(){return this.$$.ctx[64]},set:function(t){this.$$set({yMin:t}),ul()}},{key:"xAxis",get:function(){return this.$$.ctx[19]},set:function(t){this.$$set({xAxis:t}),ul()}},{key:"yAxis",get:function(){return this.$$.ctx[20]},set:function(t){this.$$set({yAxis:t}),ul()}},{key:"xTicks",get:function(){return this.$$.ctx[21]},set:function(t){this.$$set({xTicks:t}),ul()}},{key:"yTicks",get:function(){return this.$$.ctx[22]},set:function(t){this.$$set({yTicks:t}),ul()}},{key:"xTickMarks",get:function(){return this.$$.ctx[23]},set:function(t){this.$$set({xTickMarks:t}),ul()}},{key:"xGridlines",get:function(){return this.$$.ctx[24]},set:function(t){this.$$set({xGridlines:t}),ul()}},{key:"zDomain",get:function(){return this.$$.ctx[65]},set:function(t){this.$$set({zDomain:t}),ul()}},{key:"textColor",get:function(){return this.$$.ctx[25]},set:function(t){this.$$set({textColor:t}),ul()}},{key:"tickColor",get:function(){return this.$$.ctx[26]},set:function(t){this.$$set({tickColor:t}),ul()}},{key:"tickDashed",get:function(){return this.$$.ctx[27]},set:function(t){this.$$set({tickDashed:t}),ul()}},{key:"title",get:function(){return this.$$.ctx[28]},set:function(t){this.$$set({title:t}),ul()}},{key:"subtitle",get:function(){return this.$$.ctx[29]},set:function(t){this.$$set({subtitle:t}),ul()}},{key:"alt",get:function(){return this.$$.ctx[30]},set:function(t){this.$$set({alt:t}),ul()}},{key:"footer",get:function(){return this.$$.ctx[31]},set:function(t){this.$$set({footer:t}),ul()}},{key:"legend",get:function(){return this.$$.ctx[32]},set:function(t){this.$$set({legend:t}),ul()}},{key:"table",get:function(){return this.$$.ctx[33]},set:function(t){this.$$set({table:t}),ul()}},{key:"labels",get:function(){return this.$$.ctx[34]},set:function(t){this.$$set({labels:t}),ul()}},{key:"labelContent",get:function(){return this.$$.ctx[35]},set:function(t){this.$$set({labelContent:t}),ul()}},{key:"snapTicks",get:function(){return this.$$.ctx[36]},set:function(t){this.$$set({snapTicks:t}),ul()}},{key:"padding",get:function(){return this.$$.ctx[37]},set:function(t){this.$$set({padding:t}),ul()}},{key:"buffer",get:function(){return this.$$.ctx[38]},set:function(t){this.$$set({buffer:t}),ul()}},{key:"color",get:function(){return this.$$.ctx[66]},set:function(t){this.$$set({color:t}),ul()}},{key:"colors",get:function(){return this.$$.ctx[39]},set:function(t){this.$$set({colors:t}),ul()}},{key:"r",get:function(){return this.$$.ctx[40]},set:function(t){this.$$set({r:t}),ul()}},{key:"interactive",get:function(){return this.$$.ctx[41]},set:function(t){this.$$set({interactive:t}),ul()}},{key:"xPrefix",get:function(){return this.$$.ctx[42]},set:function(t){this.$$set({xPrefix:t}),ul()}},{key:"xSuffix",get:function(){return this.$$.ctx[43]},set:function(t){this.$$set({xSuffix:t}),ul()}},{key:"yPrefix",get:function(){return this.$$.ctx[44]},set:function(t){this.$$set({yPrefix:t}),ul()}},{key:"ySuffix",get:function(){return this.$$.ctx[45]},set:function(t){this.$$set({ySuffix:t}),ul()}},{key:"hover",get:function(){return this.$$.ctx[46]},set:function(t){this.$$set({hover:t}),ul()}},{key:"hovered",get:function(){return this.$$.ctx[0]},set:function(t){this.$$set({hovered:t}),ul()}},{key:"colorHover",get:function(){return this.$$.ctx[47]},set:function(t){this.$$set({colorHover:t}),ul()}},{key:"select",get:function(){return this.$$.ctx[48]},set:function(t){this.$$set({select:t}),ul()}},{key:"selected",get:function(){return this.$$.ctx[1]},set:function(t){this.$$set({selected:t}),ul()}},{key:"colorSelect",get:function(){return this.$$.ctx[49]},set:function(t){this.$$set({colorSelect:t}),ul()}},{key:"highlighted",get:function(){return this.$$.ctx[50]},set:function(t){this.$$set({highlighted:t}),ul()}},{key:"colorHighlight",get:function(){return this.$$.ctx[51]},set:function(t){this.$$set({colorHighlight:t}),ul()}},{key:"overlayFill",get:function(){return this.$$.ctx[52]},set:function(t){this.$$set({overlayFill:t}),ul()}},{key:"output",get:function(){return this.$$.ctx[53]},set:function(t){this.$$set({output:t}),ul()}}]),n}(Bl),mC=nu.right,yC=Pe("reduceRight");Lt({target:"Array",proto:!0,forced:!yC||!Oi&&Jt>79&&Jt<83},{reduceRight:function(t){return mC(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}}),Lt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var vC=mi.onFreeze,_C=Object.freeze,wC=o((function(){_C(1)}));Lt({target:"Object",stat:!0,forced:wC,sham:!gi},{freeze:function(t){return _C&&v(t)?_C(vC(t)):t}});var xC=Q.f,BC=o((function(){xC(1)}));Lt({target:"Object",stat:!0,forced:!a||BC,sham:!a},{getOwnPropertyDescriptor:function(t,e){return xC(y(t),e)}});var bC=bn.f,CC=o((function(){return!Object.getOwnPropertyNames(1)}));Lt({target:"Object",stat:!0,forced:CC},{getOwnPropertyNames:bC});var FC=Object.isExtensible,UC=o((function(){FC(1)}));Lt({target:"Object",stat:!0,forced:UC},{isExtensible:function(t){return!!v(t)&&(!FC||FC(t))}});var EC=Object.isFrozen,QC=o((function(){EC(1)}));Lt({target:"Object",stat:!0,forced:QC},{isFrozen:function(t){return!v(t)||!!EC&&EC(t)}});var IC=Object.isSealed,kC=o((function(){IC(1)}));Lt({target:"Object",stat:!0,forced:kC},{isSealed:function(t){return!v(t)||!!IC&&IC(t)}});var SC=mi.onFreeze,TC=Object.preventExtensions,MC=o((function(){TC(1)}));Lt({target:"Object",stat:!0,forced:MC,sham:!gi},{preventExtensions:function(t){return TC&&v(t)?TC(SC(t)):t}});var DC=mi.onFreeze,LC=Object.seal,PC=o((function(){LC(1)}));Lt({target:"Object",stat:!0,forced:PC,sham:!gi},{seal:function(t){return LC&&v(t)?LC(DC(t)):t}});var HC=Q.f,zC="".endsWith,$C=Math.min,RC=$a("endsWith"),OC=!RC&&!!function(){var t=HC(String.prototype,"endsWith");return t&&!t.writable}();Lt({target:"String",proto:!0,forced:!OC&&!RC},{endsWith:function(t){var e=String(m(this));Ha(t);var n=arguments.length>1?arguments[1]:void 0,r=pt(e.length),i=void 0===n?r:$C(pt(n),r),o=String(t);return zC?zC.call(e,o,i):e.slice(i-o.length,i)===o}}),Lt({target:"String",proto:!0,forced:eA("fixed")},{fixed:function(){return tA(this,"tt","","")}}),Lt({target:"String",proto:!0,forced:eA("sub")},{sub:function(){return tA(this,"sub","","")}}),ps("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),ps("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),ps("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),ps("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0);var KC=Nt("iterator"),VC=!o((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[KC]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),NC=2147483647,GC=/[^\0-\u007E]/,jC=/[.\u3002\uFF0E\uFF61]/g,qC="Overflow: input needs wider integers to process",ZC=Math.floor,XC=String.fromCharCode,WC=function(t){return t+22+75*(t<26)},JC=function(t,e,n){var r=0;for(t=n?ZC(t/700):t>>1,t+=ZC(t/e);t>455;r+=36)t=ZC(t/35);return ZC(r+36*t/(t+38))},YC=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t);var n,r,i=t.length,o=128,a=0,A=72;for(n=0;n<t.length;n++)(r=t[n])<128&&e.push(XC(r));var s=e.length,u=s;for(s&&e.push("-");u<i;){var c=NC;for(n=0;n<t.length;n++)(r=t[n])>=o&&r<c&&(c=r);var l=u+1;if(c-o>ZC((NC-a)/l))throw RangeError(qC);for(a+=(c-o)*l,o=c,n=0;n<t.length;n++){if((r=t[n])<o&&++a>NC)throw RangeError(qC);if(r==o){for(var h=a,f=36;;f+=36){var p=f<=A?1:f>=A+26?26:f-A;if(h<p)break;var d=h-p,g=36-p;e.push(XC(WC(p+d%g))),h=ZC(d/g)}e.push(XC(WC(h))),A=JC(a,l,u==s),a=0,++u}}++a,++o}return e.join("")},tF=function(t){var e=Qr(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return I(e.call(t))},eF=ut("fetch"),nF=ut("Headers"),rF=Nt("iterator"),iF="URLSearchParams",oF=iF+"Iterator",aF=ot.set,AF=ot.getterFor(iF),sF=ot.getterFor(oF),uF=/\+/g,cF=Array(4),lF=function(t){return cF[t-1]||(cF[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},hF=function(t){try{return decodeURIComponent(t)}catch(e){return t}},fF=function(t){var e=t.replace(uF," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(lF(n--),hF);return e}},pF=/[!'()~]|%20/g,dF={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},gF=function(t){return dF[t]},mF=function(t){return encodeURIComponent(t).replace(pF,gF)},yF=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:fF(r.shift()),value:fF(r.join("="))}))},vF=function(t){this.entries.length=0,yF(this.entries,t)},_F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},wF=Xr((function(t,e){aF(this,{type:oF,iterator:tF(AF(t).entries),kind:e})}),"Iterator",(function(){var t=sF(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),xF=function(){_i(this,xF,iF);var t,e,n,r,i,o,a,A,s,u=arguments.length>0?arguments[0]:void 0,c=[];if(aF(this,{type:iF,entries:c,updateURL:function(){},updateSearchParams:vF}),void 0!==u)if(v(u))if("function"==typeof(t=Qr(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(o=(i=tF(I(r.value))).next).call(i)).done||(A=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");c.push({key:a.value+"",value:A.value+""})}else for(s in u)x(u,s)&&c.push({key:s,value:u[s]+""});else yF(c,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},BF=xF.prototype;Bi(BF,{append:function(t,e){_F(arguments.length,2);var n=AF(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){_F(arguments.length,1);for(var e=AF(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){_F(arguments.length,1);for(var e=AF(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){_F(arguments.length,1);for(var e=AF(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){_F(arguments.length,1);for(var e=AF(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){_F(arguments.length,1);for(var n,r=AF(this),i=r.entries,o=!1,a=t+"",A=e+"",s=0;s<i.length;s++)(n=i[s]).key===a&&(o?i.splice(s--,1):(o=!0,n.value=A));o||i.push({key:a,value:A}),r.updateURL()},sort:function(){var t,e,n,r=AF(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=AF(this).entries,r=se(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new wF(this,"keys")},values:function(){return new wF(this,"values")},entries:function(){return new wF(this,"entries")}},{enumerable:!0}),at(BF,rF,BF.entries),at(BF,"toString",(function(){for(var t,e=AF(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(mF(t.key)+"="+mF(t.value));return n.join("&")}),{enumerable:!0}),In(xF,iF),Lt({global:!0,forced:!VC},{URLSearchParams:xF}),VC||"function"!=typeof eF||"function"!=typeof nF||Lt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(v(e=arguments[1])&&(n=e.body,Ur(n)===iF&&((r=e.headers?new nF(e.headers):new nF).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=be(e,{body:l(0,String(n)),headers:l(0,r)}))),i.push(e)),eF.apply(this,i)}});var bF,CF={URLSearchParams:xF,getState:AF},FF=ga.codeAt,UF=i.URL,EF=CF.URLSearchParams,QF=CF.getState,IF=ot.set,kF=ot.getterFor("URL"),SF=Math.floor,TF=Math.pow,MF="Invalid scheme",DF="Invalid host",LF="Invalid port",PF=/[A-Za-z]/,HF=/[\d+-.A-Za-z]/,zF=/\d/,$F=/^(0x|0X)/,RF=/^[0-7]+$/,OF=/^\d+$/,KF=/^[\dA-Fa-f]+$/,VF=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,NF=/[\u0000\t\u000A\u000D #/:?@[\\]]/,GF=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,jF=/[\t\u000A\u000D]/g,qF=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return DF;if(!(n=XF(e.slice(1,-1))))return DF;t.host=n}else if(iU(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(jC,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(GC.test(n)?"xn--"+YC(n):n);return r.join(".")}(e),VF.test(e))return DF;if(null===(n=ZF(e)))return DF;t.host=n}else{if(NF.test(e))return DF;for(n="",r=Ir(e),i=0;i<r.length;i++)n+=nU(r[i],JF);t.host=n}},ZF=function(t){var e,n,r,i,o,a,A,s=t.split(".");if(s.length&&""==s[s.length-1]&&s.pop(),(e=s.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=s[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=$F.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?OF:8==o?RF:KF).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=TF(256,5-e))return null}else if(a>255)return null;for(A=n.pop(),r=0;r<n.length;r++)A+=n[r]*TF(256,3-r);return A},XF=function(t){var e,n,r,i,o,a,A,s=[0,0,0,0,0,0,0,0],u=0,c=null,l=0,h=function(){return t.charAt(l)};if(":"==h()){if(":"!=t.charAt(1))return;l+=2,c=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&KF.test(h());)e=16*e+parseInt(h(),16),l++,n++;if("."==h()){if(0==n)return;if(l-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;l++}if(!zF.test(h()))return;for(;zF.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;l++}s[u]=256*s[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;s[u++]=e}else{if(null!==c)return;l++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)A=s[u],s[u--]=s[c+a-1],s[c+--a]=A;else if(8!=u)return;return s},WF=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=SF(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},JF={},YF=Ti({},JF,{" ":1,'"':1,"<":1,">":1,"`":1}),tU=Ti({},YF,{"#":1,"?":1,"{":1,"}":1}),eU=Ti({},tU,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),nU=function(t,e){var n=FF(t,0);return n>32&&n<127&&!x(e,t)?t:encodeURIComponent(t)},rU={ftp:21,file:null,http:80,https:443,ws:80,wss:443},iU=function(t){return x(rU,t.scheme)},oU=function(t){return""!=t.username||""!=t.password},aU=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},AU=function(t,e){var n;return 2==t.length&&PF.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},sU=function(t){var e;return t.length>1&&AU(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},uU=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&AU(e[0],!0)||e.pop()},cU=function(t){return"."===t||"%2e"===t.toLowerCase()},lU={},hU={},fU={},pU={},dU={},gU={},mU={},yU={},vU={},_U={},wU={},xU={},BU={},bU={},CU={},FU={},UU={},EU={},QU={},IU={},kU={},SU=function(t,e,n,r){var i,o,a,A,s,u=n||lU,c=0,l="",h=!1,f=!1,p=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(GF,"")),e=e.replace(jF,""),i=Ir(e);c<=i.length;){switch(o=i[c],u){case lU:if(!o||!PF.test(o)){if(n)return MF;u=fU;continue}l+=o.toLowerCase(),u=hU;break;case hU:if(o&&(HF.test(o)||"+"==o||"-"==o||"."==o))l+=o.toLowerCase();else{if(":"!=o){if(n)return MF;l="",u=fU,c=0;continue}if(n&&(iU(t)!=x(rU,l)||"file"==l&&(oU(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=l,n)return void(iU(t)&&rU[t.scheme]==t.port&&(t.port=null));l="","file"==t.scheme?u=bU:iU(t)&&r&&r.scheme==t.scheme?u=pU:iU(t)?u=yU:"/"==i[c+1]?(u=dU,c++):(t.cannotBeABaseURL=!0,t.path.push(""),u=QU)}break;case fU:if(!r||r.cannotBeABaseURL&&"#"!=o)return MF;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=kU;break}u="file"==r.scheme?bU:gU;continue;case pU:if("/"!=o||"/"!=i[c+1]){u=gU;continue}u=vU,c++;break;case dU:if("/"==o){u=_U;break}u=EU;continue;case gU:if(t.scheme=r.scheme,o==bF)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&iU(t))u=mU;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=IU;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=EU;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=kU}break;case mU:if(!iU(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=EU;continue}u=_U}else u=vU;break;case yU:if(u=vU,"/"!=o||"/"!=l.charAt(c+1))continue;c++;break;case vU:if("/"!=o&&"\\"!=o){u=_U;continue}break;case _U:if("@"==o){h&&(l="%40"+l),h=!0,a=Ir(l);for(var d=0;d<a.length;d++){var g=a[d];if(":"!=g||p){var m=nU(g,eU);p?t.password+=m:t.username+=m}else p=!0}l=""}else if(o==bF||"/"==o||"?"==o||"#"==o||"\\"==o&&iU(t)){if(h&&""==l)return"Invalid authority";c-=Ir(l).length+1,l="",u=wU}else l+=o;break;case wU:case xU:if(n&&"file"==t.scheme){u=FU;continue}if(":"!=o||f){if(o==bF||"/"==o||"?"==o||"#"==o||"\\"==o&&iU(t)){if(iU(t)&&""==l)return DF;if(n&&""==l&&(oU(t)||null!==t.port))return;if(A=qF(t,l))return A;if(l="",u=UU,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),l+=o}else{if(""==l)return DF;if(A=qF(t,l))return A;if(l="",u=BU,n==xU)return}break;case BU:if(!zF.test(o)){if(o==bF||"/"==o||"?"==o||"#"==o||"\\"==o&&iU(t)||n){if(""!=l){var y=parseInt(l,10);if(y>65535)return LF;t.port=iU(t)&&y===rU[t.scheme]?null:y,l=""}if(n)return;u=UU;continue}return LF}l+=o;break;case bU:if(t.scheme="file","/"==o||"\\"==o)u=CU;else{if(!r||"file"!=r.scheme){u=EU;continue}if(o==bF)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",u=IU;else{if("#"!=o){sU(i.slice(c).join(""))||(t.host=r.host,t.path=r.path.slice(),uU(t)),u=EU;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=kU}}break;case CU:if("/"==o||"\\"==o){u=FU;break}r&&"file"==r.scheme&&!sU(i.slice(c).join(""))&&(AU(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=EU;continue;case FU:if(o==bF||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&AU(l))u=EU;else if(""==l){if(t.host="",n)return;u=UU}else{if(A=qF(t,l))return A;if("localhost"==t.host&&(t.host=""),n)return;l="",u=UU}continue}l+=o;break;case UU:if(iU(t)){if(u=EU,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=bF&&(u=EU,"/"!=o))continue}else t.fragment="",u=kU;else t.query="",u=IU;break;case EU:if(o==bF||"/"==o||"\\"==o&&iU(t)||!n&&("?"==o||"#"==o)){if(".."===(s=(s=l).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(uU(t),"/"==o||"\\"==o&&iU(t)||t.path.push("")):cU(l)?"/"==o||"\\"==o&&iU(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&AU(l)&&(t.host&&(t.host=""),l=l.charAt(0)+":"),t.path.push(l)),l="","file"==t.scheme&&(o==bF||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",u=IU):"#"==o&&(t.fragment="",u=kU)}else l+=nU(o,tU);break;case QU:"?"==o?(t.query="",u=IU):"#"==o?(t.fragment="",u=kU):o!=bF&&(t.path[0]+=nU(o,JF));break;case IU:n||"#"!=o?o!=bF&&("'"==o&&iU(t)?t.query+="%27":t.query+="#"==o?"%23":nU(o,JF)):(t.fragment="",u=kU);break;case kU:o!=bF&&(t.fragment+=nU(o,YF))}c++}},TU=function(t){var e,n,r=_i(this,TU,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),A=IF(r,{type:"URL"});if(void 0!==i)if(i instanceof TU)e=kF(i);else if(n=SU(e={},String(i)))throw TypeError(n);if(n=SU(A,o,null,e))throw TypeError(n);var s=A.searchParams=new EF,u=QF(s);u.updateSearchParams(A.query),u.updateURL=function(){A.query=String(s)||null},a||(r.href=DU.call(r),r.origin=LU.call(r),r.protocol=PU.call(r),r.username=HU.call(r),r.password=zU.call(r),r.host=$U.call(r),r.hostname=RU.call(r),r.port=OU.call(r),r.pathname=KU.call(r),r.search=VU.call(r),r.searchParams=NU.call(r),r.hash=GU.call(r))},MU=TU.prototype,DU=function(){var t=kF(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,A=t.query,s=t.fragment,u=e+":";return null!==i?(u+="//",oU(t)&&(u+=n+(r?":"+r:"")+"@"),u+=WF(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==A&&(u+="?"+A),null!==s&&(u+="#"+s),u},LU=function(){var t=kF(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&iU(t)?e+"://"+WF(t.host)+(null!==n?":"+n:""):"null"},PU=function(){return kF(this).scheme+":"},HU=function(){return kF(this).username},zU=function(){return kF(this).password},$U=function(){var t=kF(this),e=t.host,n=t.port;return null===e?"":null===n?WF(e):WF(e)+":"+n},RU=function(){var t=kF(this).host;return null===t?"":WF(t)},OU=function(){var t=kF(this).port;return null===t?"":String(t)},KU=function(){var t=kF(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},VU=function(){var t=kF(this).query;return t?"?"+t:""},NU=function(){return kF(this).searchParams},GU=function(){var t=kF(this).fragment;return t?"#"+t:""},jU=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&ge(MU,{href:jU(DU,(function(t){var e=kF(this),n=String(t),r=SU(e,n);if(r)throw TypeError(r);QF(e.searchParams).updateSearchParams(e.query)})),origin:jU(LU),protocol:jU(PU,(function(t){var e=kF(this);SU(e,String(t)+":",lU)})),username:jU(HU,(function(t){var e=kF(this),n=Ir(String(t));if(!aU(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=nU(n[r],eU)}})),password:jU(zU,(function(t){var e=kF(this),n=Ir(String(t));if(!aU(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=nU(n[r],eU)}})),host:jU($U,(function(t){var e=kF(this);e.cannotBeABaseURL||SU(e,String(t),wU)})),hostname:jU(RU,(function(t){var e=kF(this);e.cannotBeABaseURL||SU(e,String(t),xU)})),port:jU(OU,(function(t){var e=kF(this);aU(e)||(""==(t=String(t))?e.port=null:SU(e,t,BU))})),pathname:jU(KU,(function(t){var e=kF(this);e.cannotBeABaseURL||(e.path=[],SU(e,t+"",UU))})),search:jU(VU,(function(t){var e=kF(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",SU(e,t,IU)),QF(e.searchParams).updateSearchParams(e.query)})),searchParams:jU(NU),hash:jU(GU,(function(t){var e=kF(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",SU(e,t,kU)):e.fragment=null}))}),at(MU,"toJSON",(function(){return DU.call(this)}),{enumerable:!0}),at(MU,"toString",(function(){return DU.call(this)}),{enumerable:!0}),UF){var qU=UF.createObjectURL,ZU=UF.revokeObjectURL;qU&&at(TU,"createObjectURL",(function(t){return qU.apply(UF,arguments)})),ZU&&at(TU,"revokeObjectURL",(function(t){return ZU.apply(UF,arguments)}))}In(TU,"URL"),Lt({global:!0,forced:!VC,sham:!a},{URL:TU}),Lt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var XU,WU,JU,YU=(XU=function(t,e){t.exports=function(){var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=i(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=i;else t=i}return r(["exports"],(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var A=this.sampleCurveDerivativeX(i);if(Math.abs(A)<1e-6)break;i-=o/A}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-r*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var a="undefined"!=typeof self?self:{},A=Math.pow(2,53)-1;function s(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}var u=s(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function l(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function h(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var f=1;function p(){return f++}function d(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function g(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function m(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function y(t,e){return-1!==t.indexOf(e,t.length-e.length)}function v(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function _(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function w(t){return Array.isArray(t)?t.map(w):"object"==pn(t)&&t?v(t,w):t}var x={};function B(t){x[t]||("undefined"!=typeof console&&console.warn(t),x[t]=!0)}function b(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function C(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)e+=((a=t[i]).x-(o=t[n]).x)*(o.y+a.y);return e}function F(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function U(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var E=null;function Q(t){if(null==E){var e=t.navigator?t.navigator.userAgent:null;E=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return E}function I(t){try{var e=a[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var k,S,T,M,D=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),L=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,P=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,H={now:D,frame:function(t){var e=L(t);return{cancel:function(){return P(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=a.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,r.drawImage(t,0,0,t.width,t.height),r.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return k||(k=a.document.createElement("a")),k.href=t,k.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==S&&(S=a.matchMedia("(prefers-reduced-motion: reduce)")),S.matches)}},z={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},$={supported:!1,testSupport:function(t){!R&&M&&(O?K(t):T=t)}},R=!1,O=!1;function K(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,M),t.isContextLost())return;$.supported=!0}catch(t){}t.deleteTexture(e),R=!0}a.document&&((M=a.document.createElement("img")).onload=function(){T&&K(T),T=null,O=!0},M.onerror=function(){R=!0,T=null},M.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var V="01",N=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function G(t){return 0===t.indexOf("mapbox:")}N.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",V,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},N.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},N.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},N.prototype.normalizeStyleURL=function(t,e){if(!G(t))return t;var n=X(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},N.prototype.normalizeGlyphsURL=function(t,e){if(!G(t))return t;var n=X(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},N.prototype.normalizeSourceURL=function(t,e){if(!G(t))return t;var n=X(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},N.prototype.normalizeSpriteURL=function(t,e,n,r){var i=X(t);return G(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=""+e+n,W(i))},N.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!G(t))return t;var n=X(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(H.devicePixelRatio>=2||512===e?"@2x":"")+($.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var r=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e].match(/^access_token=(.*)$/);if(r)return r[1]}return null}(n.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,r)},N.prototype.canonicalizeTileURL=function(t,e){var n=X(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var r="mapbox://tiles/";r+=n.path.replace("/v4/","");var i=n.params;return e&&(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&&(r+="?"+i.join("&")),r},N.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&G(e),r=[],i=0,o=t.tiles||[];i<o.length;i+=1){var a=o[i];q(a)?r.push(this.canonicalizeTileURL(a,n)):r.push(a)}return r},N.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",r=X(z.API_URL);if(t.protocol=r.protocol,t.authority=r.authority,"http"===t.protocol){var i=t.params.indexOf("secure");i>=0&&t.params.splice(i,1)}if("/"!==r.path&&(t.path=""+r.path+t.path),!z.REQUIRE_ACCESS_TOKEN)return W(t);if(!(e=e||z.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),W(t)};var j=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function q(t){return j.test(t)}var Z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function X(t){var e=t.match(Z);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function W(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var Y=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Y.prototype.getStorageKey=function(t){var e,n=J(z.ACCESS_TOKEN);return e=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):z.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},Y.prototype.fetchEventData=function(){var t=I("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=a.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=a.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){B("Unable to read from LocalStorage")}},Y.prototype.saveEventData=function(){var t=I("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){B("Unable to write to LocalStorage")}},Y.prototype.processRequests=function(t){},Y.prototype.postEvent=function(t,e,n,r){var i=this;if(z.EVENTS_URL){var o=X(z.EVENTS_URL);o.params.push("access_token="+(r||z.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.2",skuId:V,userId:this.anonId},A=e?h(a,e):a,s={url:W(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([A])};this.pendingRequest=wt(s,(function(t){i.pendingRequest=null,n(t),i.saveEventData(),i.processRequests(r)}))}},Y.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var tt,et,nt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,r){this.skuToken=n,(z.EVENTS_URL&&r||z.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return G(t)||q(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},r)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=d()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||r&&(e.success[r]=!0)}),t))}},e}(Y),rt=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return G(t)||q(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(z.ACCESS_TOKEN),r=n?n.u:z.ACCESS_TOKEN,i=r!==this.eventData.tokenU;g(this.anonId)||(this.anonId=d(),i=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),A=new Date(o),s=(o-this.eventData.lastSuccess)/864e5;i=i||s>=1||s<-1||a.getDate()!==A.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)}),t)}},e}(Y)),it=rt.postTurnstileEvent.bind(rt),ot=new nt,at=ot.postMapLoadEvent.bind(ot),At=500,st=50;function ut(){a.caches&&!tt&&(tt=a.caches.open("mapbox-tiles"))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var lt,ht=1/0;function ft(){return null==lt&&(lt=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),lt}var pt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pt);var dt,gt,mt=function(t){function e(e,n,r){401===n&&q(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),yt=F()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},vt=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(yt())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,r=new a.AbortController,i=new a.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:yt(),signal:r.signal}),o=!1,A=!1,s=(n=i.url).indexOf("sku=")>0&&q(n);"json"===t.type&&i.headers.set("Accept","application/json");var u=function(n,r,o){if(!A){if(n&&"SecurityError"!==n.message&&B(n),r&&o)return c(r);var u=Date.now();a.fetch(i).then((function(n){if(n.ok){var r=s?n.clone():null;return c(n,r,u)}return e(new mt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,r,s){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){A||(r&&s&&function(t,e,n){if(ut(),tt){var r={status:e.status,statusText:e.statusText,headers:new a.Headers};e.headers.forEach((function(t,e){return r.headers.set(e,t)}));var i=U(e.headers.get("Cache-Control")||"");i["no-store"]||(i["max-age"]&&r.headers.set("Expires",new Date(n+1e3*i["max-age"]).toUTCString()),new Date(r.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===et)try{new Response(new ReadableStream),et=!0}catch(t){et=!1}et?e(t.body):t.blob().then(e)}(e,(function(e){var n=new a.Response(e,r);ut(),tt&&tt.then((function(e){return e.put(ct(t.url),n)})).catch((function(t){return B(t.message)}))})))}}(i,r,s),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){A||e(new Error(t.message))}))};return s?function(t,e){if(ut(),!tt)return e(null);var n=ct(t.url);tt.then((function(t){t.match(n).then((function(r){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=U(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i)})).catch(e)})).catch(e)}(i,u):u(null,null),{cancel:function(){A=!0,o||r.abort()}}}(t,e);if(F()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new a.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new mt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},_t=function(t,e){return vt(h(t,{type:"arrayBuffer"}),e)},wt=function(t,e){return vt(h(t,{method:"POST"}),e)},xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";dt=[],gt=0;var Bt=function t(e,n){if($.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),gt>=z.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return dt.push(r),r}gt++;var i=!1,o=function(){if(!i)for(i=!0,gt--;dt.length&&gt<z.MAX_PARALLEL_IMAGE_REQUESTS;){var e=dt.shift();e.cancelled||(e.cancel=t(e.requestParameters,e.callback).cancel)}},A=_t(e,(function(t,e,r,i){o(),t?n(t):e&&(ft()?function(t,e){var n=new a.Blob([new Uint8Array(t)],{type:"image/png"});a.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(e,n):function(t,e,n,r){var i=new a.Image,o=a.URL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src),i.onload=null,a.requestAnimationFrame((function(){i.src=xt}))},i.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var A=new a.Blob([new Uint8Array(t)],{type:"image/png"});i.cacheControl=n,i.expires=r,i.src=t.byteLength?o.createObjectURL(A):xt}(e,n,r,i))}));return{cancel:function(){A.cancel(),o()}}};function bt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Ct(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var Ft=function(t,e){void 0===e&&(e={}),h(this,e),this.type=t},Ut=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",h({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ft),Et=function(){};Et.prototype.on=function(t,e){return this._listeners=this._listeners||{},bt(t,e,this._listeners),this},Et.prototype.off=function(t,e){return Ct(t,e,this._listeners),Ct(t,e,this._oneTimeListeners),this},Et.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},bt(t,e,this._oneTimeListeners),this},Et.prototype.fire=function(t,e){"string"==typeof t&&(t=new Ft(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var A=a[o];Ct(n,A,this._oneTimeListeners),A.call(this,t)}var s=this._eventedParent;s&&(h(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),s.fire(t))}else t instanceof Ut&&console.error(t.error);return this},Et.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Et.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Qt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},It=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function kt(t){var e=t.value;return e?[new It(t.key,e,"constants have been deprecated as of v8")]:[]}function St(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function Tt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Mt(t){if(Array.isArray(t))return t.map(Mt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=Mt(t[n]);return e}return Tt(t)}var Dt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Lt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n];this.bindings[i[0]]=i[1]}};Lt.prototype.concat=function(t){return new Lt(this,t)},Lt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Lt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Pt={kind:"null"},Ht={kind:"number"},zt={kind:"string"},$t={kind:"boolean"},Rt={kind:"color"},Ot={kind:"object"},Kt={kind:"value"},Vt={kind:"collator"},Nt={kind:"formatted"},Gt={kind:"resolvedImage"};function jt(t,e){return{kind:"array",itemType:t,N:e}}function qt(t){if("array"===t.kind){var e=qt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Zt=[Pt,Ht,zt,$t,Rt,Nt,Ot,jt(Kt),Gt];function Xt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Xt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Zt;n<r.length;n+=1)if(!Xt(r[n],e))return null}return"Expected "+qt(t)+" but found "+qt(e)+" instead."}function Wt(t,e){return e.some((function(e){return e.kind===t.kind}))}function Jt(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==pn(t):e===pn(t)}))}var Yt=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return r("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,A=t.replace(/ /g,"").toLowerCase();if(A in n)return n[A].slice();if("#"===A[0])return 4===A.length?(e=parseInt(A.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===A.length&&(e=parseInt(A.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var s=A.indexOf("("),u=A.indexOf(")");if(-1!==s&&u+1===A.length){var c=A.substr(0,s),l=A.substr(s+1,u-(s+1)).split(","),h=1;switch(c){case"rgba":if(4!==l.length)return null;h=o(l.pop());case"rgb":return 3!==l.length?null:[i(l[0]),i(l[1]),i(l[2]),h];case"hsla":if(4!==l.length)return null;h=o(l.pop());case"hsl":if(3!==l.length)return null;var f=(parseFloat(l[0])%360+360)%360/360,p=o(l[1]),d=o(l[2]),g=d<=.5?d*(p+1):d+p-d*p,m=2*d-g;return[r(255*a(m,g,f+1/3)),r(255*a(m,g,f)),r(255*a(m,g,f-1/3)),h];default:return null}}return null}}catch(t){}})).parseCSSColor,te=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};te.parse=function(t){if(t){if(t instanceof te)return t;if("string"==typeof t){var e=Yt(t);if(e)return new te(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},te.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],r=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+r+")"},te.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},te.black=new te(0,0,0,1),te.white=new te(1,1,1,1),te.transparent=new te(0,0,0,0),te.red=new te(1,0,0,1);var ee=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};ee.prototype.compare=function(t,e){return this.collator.compare(t,e)},ee.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ne=function(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i},re=function(t){this.sections=t};re.fromString=function(t){return new re([new ne(t,null,null,null,null)])},re.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},re.factory=function(t){return t instanceof re?t:re.fromString(t)},re.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},re.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}return t};var ie=function(t){this.name=t.name,this.available=t.available};function oe(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ae(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof te)return!0;if(t instanceof ee)return!0;if(t instanceof re)return!0;if(t instanceof ie)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!ae(n[e]))return!1;return!0}if("object"==pn(t)){for(var r in t)if(!ae(t[r]))return!1;return!0}return!1}function Ae(t){if(null===t)return Pt;if("string"==typeof t)return zt;if("boolean"==typeof t)return $t;if("number"==typeof t)return Ht;if(t instanceof te)return Rt;if(t instanceof ee)return Vt;if(t instanceof re)return Nt;if(t instanceof ie)return Gt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=Ae(i[r]);if(e){if(e===o)continue;e=Kt;break}e=o}return jt(e||Kt,n)}return Ot}function se(t){var e=pn(t);return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof te||t instanceof re||t instanceof ie?t.toString():JSON.stringify(t)}ie.prototype.toString=function(){return this.name},ie.fromString=function(t){return t?new ie({name:t,available:!1}):null},ie.prototype.serialize=function(){return["image",this.name]};var ue=function(t,e){this.type=t,this.value=e};ue.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ae(t[1]))return e.error("invalid value");var n=t[1],r=Ae(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new ue(r,n)},ue.prototype.evaluate=function(){return this.value},ue.prototype.eachChild=function(){},ue.prototype.outputDefined=function(){return!0},ue.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof te?["rgba"].concat(this.value.toArray()):this.value instanceof re?this.value.serialize():this.value};var ce=function(t){this.name="ExpressionEvaluationError",this.message=t};ce.prototype.toJSON=function(){return this.message};var le={string:zt,number:Ht,boolean:$t,object:Ot},he=function(t,e){this.type=t,this.args=e};he.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var A=t[1];if("string"!=typeof A||!(A in le)||"object"===A)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=le[A],r++}else o=Kt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=jt(o,a)}else n=le[i];for(var s=[];r<t.length;r++){var u=e.parse(t[r],r,Kt);if(!u)return null;s.push(u)}return new he(n,s)},he.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Xt(this.type,Ae(n)))return n;if(e===this.args.length-1)throw new ce("Expected value to be of type "+qt(this.type)+", but found "+qt(Ae(n))+" instead.")}return null},he.prototype.eachChild=function(t){this.args.forEach(t)},he.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},he.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var fe=function(t){this.type=Nt,this.sections=t};fe.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==pn(n))return e.error("First argument must be an image or text section.");for(var r=[],i=!1,o=1;o<=t.length-1;++o){var a=t[o];if(i&&"object"==pn(a)&&!Array.isArray(a)){i=!1;var A=null;if(a["font-scale"]&&!(A=e.parse(a["font-scale"],1,Ht)))return null;var s=null;if(a["text-font"]&&!(s=e.parse(a["text-font"],1,jt(zt))))return null;var u=null;if(a["text-color"]&&!(u=e.parse(a["text-color"],1,Rt)))return null;var c=r[r.length-1];c.scale=A,c.font=s,c.textColor=u}else{var l=e.parse(t[o],1,Kt);if(!l)return null;var h=l.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:l,scale:null,font:null,textColor:null})}}return new fe(r)},fe.prototype.evaluate=function(t){return new re(this.sections.map((function(e){var n=e.content.evaluate(t);return Ae(n)===Gt?new ne("",n,null,null,null):new ne(se(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},fe.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var pe=function(t){this.type=Gt,this.input=t};pe.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,zt);return n?new pe(n):e.error("No image name provided.")},pe.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ie.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},pe.prototype.eachChild=function(t){t(this.input)},pe.prototype.outputDefined=function(){return!1},pe.prototype.serialize=function(){return["image",this.input.serialize()]};var de={"to-boolean":$t,"to-color":Rt,"to-number":Ht,"to-string":zt},ge=function(t,e){this.type=t,this.args=e};ge.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=de[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Kt);if(!a)return null;i.push(a)}return new ge(r,i)},ge.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof te)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":oe(e[0],e[1],e[2],e[3])))return new te(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ce(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,A=0,s=this.args;A<s.length;A+=1){if(null===(a=s[A].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new ce("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?re.fromString(se(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ie.fromString(se(this.args[0].evaluate(t))):se(this.args[0].evaluate(t))},ge.prototype.eachChild=function(t){this.args.forEach(t)},ge.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ge.prototype.serialize=function(){if("formatted"===this.type.kind)return new fe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new pe(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var me=["Unknown","Point","LineString","Polygon"],ye=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ye.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ye.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?me[this.feature.type]:this.feature.type:null},ye.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ye.prototype.canonicalID=function(){return this.canonical},ye.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ye.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=te.parse(t)),e};var ve=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};ve.prototype.evaluate=function(t){return this._evaluate(t,this.args)},ve.prototype.eachChild=function(t){this.args.forEach(t)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},ve.parse=function(t,e){var n,r=t[0],i=ve.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,A=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),s=null,u=0,c=A;u<c.length;u+=1){var l=c[u],h=l[0],f=l[1];s=new Re(e.registry,e.path,null,e.scope);for(var p=[],d=!1,g=1;g<t.length;g++){var m=t[g],y=Array.isArray(h)?h[g-1]:h.type,v=s.parse(m,1+p.length,y);if(!v){d=!0;break}p.push(v)}if(!d)if(Array.isArray(h)&&h.length!==p.length)s.error("Expected "+h.length+" arguments, but found "+p.length+" instead.");else{for(var _=0;_<p.length;_++){var w=Array.isArray(h)?h[_]:h.type,x=p[_];s.concat(_+1).checkSubtype(w,x.type)}if(0===s.errors.length)return new ve(r,o,f,p)}}if(1===A.length)(n=e.errors).push.apply(n,s.errors);else{for(var B=(A.length?A:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(qt).join(", ")+")":"("+qt(e.type)+"...)"})).join(" | "),b=[],C=1;C<t.length;C++){var F=e.parse(t[C],1+b.length);if(!F)return null;b.push(qt(F.type))}e.error("Expected arguments of type "+B+", but found ("+b.join(", ")+") instead.")}return null},ve.register=function(t,e){for(var n in ve.definitions=e,e)t[n]=ve};var _e=function(t,e,n){this.type=Vt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function we(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function xe(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Be(t,e){var n=(180+t[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(n*i*8192),Math.round(r*i*8192)]}function be(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Ce(t,e){for(var n,r,i,o,a,A,s,u=!1,c=0,l=e.length;c<l;c++)for(var h=e[c],f=0,p=h.length;f<p-1;f++){if((o=(n=t)[0]-(r=h[f])[0])*(s=n[1]-(i=h[f+1])[1])-(A=n[0]-i[0])*(a=n[1]-r[1])==0&&o*A<=0&&a*s<=0)return!1;be(t,h[f],h[f+1])&&(u=!u)}return u}function Fe(t,e){for(var n=0;n<e.length;n++)if(Ce(t,e[n]))return!0;return!1}function Ue(t,e,n,r){var i=r[0]-n[0],o=r[1]-n[1],a=(t[0]-n[0])*o-i*(t[1]-n[1]),A=(e[0]-n[0])*o-i*(e[1]-n[1]);return a>0&&A<0||a<0&&A>0}function Ee(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if((l=[(c=o[a+1])[0]-(u=o[a])[0],c[1]-u[1]])[0]*(h=[(s=e)[0]-(A=t)[0],s[1]-A[1]])[1]-l[1]*h[0]!=0&&Ue(A,s,u,c)&&Ue(u,c,A,s))return!0;var A,s,u,c,l,h;return!1}function Qe(t,e){for(var n=0;n<t.length;++n)if(!Ce(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(Ee(t[r],t[r+1],e))return!1;return!0}function Ie(t,e){for(var n=0;n<e.length;n++)if(Qe(t,e[n]))return!0;return!1}function ke(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var A=Be(t[i][a],n);we(e,A),o.push(A)}r.push(o)}return r}function Se(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=ke(t[i],e,n);r.push(o)}return r}function Te(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}we(e,t)}function Me(t,e,n,r){for(var i=8192*Math.pow(2,r.z),o=[8192*r.x,8192*r.y],a=[],A=0,s=t;A<s.length;A+=1)for(var u=0,c=s[A];u<c.length;u+=1){var l=c[u],h=[l.x+o[0],l.y+o[1]];Te(h,e,n,i),a.push(h)}return a}function De(t,e,n,r){for(var i,o=8192*Math.pow(2,r.z),a=[8192*r.x,8192*r.y],A=[],s=0,u=t;s<u.length;s+=1){for(var c=[],l=0,h=u[s];l<h.length;l+=1){var f=h[l],p=[f.x+a[0],f.y+a[1]];we(e,p),c.push(p)}A.push(c)}if(e[2]-e[0]<=o/2){(i=e)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var d=0,g=A;d<g.length;d+=1)for(var m=0,y=g[d];m<y.length;m+=1)Te(y[m],e,n,o)}return A}_e.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=pn(n)||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,$t);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,$t);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,zt))?null:new _e(r,i,o)},_e.prototype.evaluate=function(t){return new ee(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},_e.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},_e.prototype.outputDefined=function(){return!1},_e.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Le=function(t,e){this.type=$t,this.geojson=t,this.geometries=e};function Pe(t){if(t instanceof ve){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Le)return!1;var e=!0;return t.eachChild((function(t){e&&!Pe(t)&&(e=!1)})),e}function He(t){if(t instanceof ve&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!He(t)&&(e=!1)})),e}function ze(t,e){if(t instanceof ve&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!ze(t,e)&&(n=!1)})),n}Le.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ae(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Le(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Le(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Le(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Le.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=ke(e.coordinates,r,i),a=Me(t.geometry(),n,r,i);if(!xe(n,r))return!1;for(var A=0,s=a;A<s.length;A+=1)if(!Ce(s[A],o))return!1}if("MultiPolygon"===e.type){var u=Se(e.coordinates,r,i),c=Me(t.geometry(),n,r,i);if(!xe(n,r))return!1;for(var l=0,h=c;l<h.length;l+=1)if(!Fe(h[l],u))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=ke(e.coordinates,r,i),a=De(t.geometry(),n,r,i);if(!xe(n,r))return!1;for(var A=0,s=a;A<s.length;A+=1)if(!Qe(s[A],o))return!1}if("MultiPolygon"===e.type){var u=Se(e.coordinates,r,i),c=De(t.geometry(),n,r,i);if(!xe(n,r))return!1;for(var l=0,h=c;l<h.length;l+=1)if(!Ie(h[l],u))return!1}return!0}(t,this.geometries)}return!1},Le.prototype.eachChild=function(){},Le.prototype.outputDefined=function(){return!0},Le.prototype.serialize=function(){return["within",this.geojson]};var $e=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};$e.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new $e(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},$e.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},$e.prototype.eachChild=function(){},$e.prototype.outputDefined=function(){return!1},$e.prototype.serialize=function(){return["var",this.name]};var Re=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Lt),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Oe(t,e){for(var n,r=t.length-1,i=0,o=r,a=0;i<=o;)if((n=t[a=Math.floor((i+o)/2)])<=e){if(a===r||e<t[a+1])return a;i=a+1}else{if(!(n>e))throw new ce("Input is not a number.");o=a-1}return 0}Re.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Re.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new he(e,[t]):"coerce"===n?new ge(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+pn(r)+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,A=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==A.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==A.kind&&"string"!==A.kind){if(this.checkSubtype(a,A))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof ue)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof $e)return t(e.boundExpression);if(e instanceof ve&&"error"===e.name)return!1;if(e instanceof _e)return!1;if(e instanceof Le)return!1;var n=e instanceof ge||e instanceof he,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof ue})),!!r&&Pe(e)&&ze(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var s=new ye;try{o=new ue(o.type,o.evaluate(s))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==pn(t)?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+pn(t)+" instead.")},Re.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Re(this.registry,r,e||null,i,this.errors)},Re.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Dt(r,t))},Re.prototype.checkSubtype=function(t,e){var n=Xt(t,e);return n&&this.error(n),n};var Ke=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Ve(t,e,n){return t*(1-n)+e*n}Ke.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Ht);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],A=t[o+1],s=o,u=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);var c=e.parse(A,u,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Ke(i,n,r)},Ke.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Oe(e,r)].evaluate(t)},Ke.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ke.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},Ke.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ne=Object.freeze({__proto__:null,number:Ve,color:function(t,e,n){return new te(Ve(t.r,e.r,n),Ve(t.g,e.g,n),Ve(t.b,e.b,n),Ve(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return Ve(t,e[r],n)}))}}),Ge=6/29*3*(6/29),je=Math.PI/180,qe=180/Math.PI;function Ze(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ge+4/29}function Xe(t){return t>6/29?t*t*t:Ge*(t-4/29)}function We(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Je(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ye(t){var e=Je(t.r),n=Je(t.g),r=Je(t.b),i=Ze((.4124564*e+.3575761*n+.1804375*r)/.95047),o=Ze((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Ze((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function tn(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*Xe(e),n=.95047*Xe(n),r=1.08883*Xe(r),new te(We(3.2404542*n-1.5371385*e-.4985314*r),We(-.969266*n+1.8760108*e+.041556*r),We(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function en(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var nn={forward:Ye,reverse:tn,interpolate:function(t,e,n){return{l:Ve(t.l,e.l,n),a:Ve(t.a,e.a,n),b:Ve(t.b,e.b,n),alpha:Ve(t.alpha,e.alpha,n)}}},rn={forward:function(t){var e=Ye(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*qe;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*je,n=t.c;return tn({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:en(t.h,e.h,n),c:Ve(t.c,e.c,n),l:Ve(t.l,e.l,n),alpha:Ve(t.alpha,e.alpha,n)}}},on=Object.freeze({__proto__:null,lab:nn,hcl:rn}),an=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var A=a[o],s=A[1];this.labels.push(A[0]),this.outputs.push(s)}};function An(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}an.interpolationFactor=function(t,e,r,i){var o=0;if("exponential"===t.name)o=An(e,t.base,r,i);else if("linear"===t.name)o=An(e,1,r,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(An(e,1,r,i))}return o},an.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var A=r.slice(1);if(4!==A.length||A.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:A}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Ht)))return null;var s=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Rt:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var l=o[c],h=o[c+1],f=c+3,p=c+4;if("number"!=typeof l)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(s.length&&s[s.length-1][0]>=l)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var d=e.parse(h,p,u);if(!d)return null;u=u||d.type,s.push([l,d])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new an(u,n,r,i,s):e.error("Type "+qt(u)+" is not interpolatable.")},an.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Oe(e,r),a=an.interpolationFactor(this.interpolation,r,e[o],e[o+1]),A=n[o].evaluate(t),s=n[o+1].evaluate(t);return"interpolate"===this.operator?Ne[this.type.kind.toLowerCase()](A,s,a):"interpolate-hcl"===this.operator?rn.reverse(rn.interpolate(rn.forward(A),rn.forward(s),a)):nn.reverse(nn.interpolate(nn.forward(A),nn.forward(s),a))},an.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},an.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},an.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var sn=function(t,e){this.type=t,this.args=e};sn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var A=e.parse(a[o],1+i.length,n,void 0,{typeAnnotation:"omit"});if(!A)return null;n=n||A.type,i.push(A)}var s=r&&i.some((function(t){return Xt(r,t.type)}));return new sn(s?Kt:n,i)},sn.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(t))&&n instanceof ie&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null===n);i+=1);return n},sn.prototype.eachChild=function(t){this.args.forEach(t)},sn.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},sn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var un=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};un.prototype.evaluate=function(t){return this.result.evaluate(t)},un.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},un.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+pn(i)+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t.push(r[0],r[1].serialize())}return t.push(this.result.serialize()),t};var cn=function(t,e,n){this.type=t,this.index=e,this.input=n};cn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),r=e.parse(t[2],2,jt(e.expectedType||Kt));return n&&r?new cn(r.type.itemType,n,r):null},cn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ce("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new ce("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new ce("Array index must be an integer, but found "+e+" instead.");return n[e]},cn.prototype.eachChild=function(t){t(this.index),t(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ln=function(t,e){this.type=$t,this.needle=t,this.haystack=e};ln.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Kt),r=e.parse(t[2],2,Kt);return n&&r?Wt(n.type,[$t,zt,Ht,Pt,Kt])?new ln(n,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+qt(n.type)+" instead"):null},ln.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!Jt(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+qt(Ae(e))+" instead.");if(!Jt(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+qt(Ae(n))+" instead.");return n.indexOf(e)>=0},ln.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},ln.prototype.outputDefined=function(){return!0},ln.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var hn=function(t,e,n){this.type=Ht,this.needle=t,this.haystack=e,this.fromIndex=n};hn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Kt),r=e.parse(t[2],2,Kt);if(!n||!r)return null;if(!Wt(n.type,[$t,zt,Ht,Pt,Kt]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+qt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Ht);return i?new hn(n,r,i):null}return new hn(n,r)},hn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Jt(e,["boolean","string","number","null"]))throw new ce("Expected first argument to be of type boolean, string, number or null, but found "+qt(Ae(e))+" instead.");if(!Jt(n,["string","array"]))throw new ce("Expected second argument to be of type array or string, but found "+qt(Ae(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)},hn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var fn=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};fn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var A=t[a],s=t[a+1];Array.isArray(A)||(A=[A]);var u=e.concat(a);if(0===A.length)return u.error("Expected at least one branch label.");for(var c=0,l=A;c<l.length;c+=1){var h=l[c];if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,Ae(h)))return null}else n=Ae(h);if(void 0!==i[String(h)])return u.error("Branch labels must be unique.");i[String(h)]=o.length}var f=e.parse(s,a,r);if(!f)return null;r=r||f.type,o.push(f)}var p=e.parse(t[1],1,Kt);if(!p)return null;var d=e.parse(t[t.length-1],t.length-1,r);return d?"value"!==p.type.kind&&e.concat(1).checkSubtype(n,p.type)?null:new fn(n,r,p,i,o,d):null},fn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(Ae(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},fn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},fn.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(l=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[l][1].push(a)}for(var A=function(e){return"number"===t.inputType.kind?Number(e):e},s=0,u=n;s<u.length;s+=1){var c=u[s],l=c[0],h=c[1];e.push(1===h.length?A(h[0]):h.map(A)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var dn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};dn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,$t);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var A=e.parse(t[t.length-1],t.length-1,n);return A?new dn(n,r,A):null},dn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];if(r[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},dn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[1];t(r[0]),t(i)}t(this.otherwise)},dn.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var gn=function(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r};function mn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function yn(t,e,n,r){return 0===r.compare(e,n)}function vn(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=$t,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Kt);if(!o)return null;if(!mn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+qt(o.type)+"'.");var a=e.parse(t[2],2,Kt);if(!a)return null;if(!mn(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+qt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+qt(o.type)+"' and '"+qt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new he(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new he(o.type,[a])));var A=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(A=e.parse(t[3],3,Vt)))return null}return new i(o,a,A)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var A=Ae(o),s=Ae(a);if(A.kind!==s.kind||"string"!==A.kind&&"number"!==A.kind)throw new ce('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+A.kind+", "+s.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=Ae(o),c=Ae(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}gn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Kt),r=e.parse(t[2],2,Ht);if(!n||!r)return null;if(!Wt(n.type,[jt(Kt),zt,Kt]))return e.error("Expected first argument to be of type array or string, but found "+qt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,Ht);return i?new gn(n.type,n,r,i):null}return new gn(n.type,n,r)},gn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!Jt(e,["string","array"]))throw new ce("Expected first argument to be of type array or string, but found "+qt(Ae(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)},gn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},gn.prototype.outputDefined=function(){return!1},gn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var _n=vn("==",(function(t,e,n){return e===n}),yn),wn=vn("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!yn(0,e,n,r)})),xn=vn("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),Bn=vn(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),bn=vn("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Cn=vn(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),Fn=function(t,e,n,r,i){this.type=zt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Fn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Ht);if(!n)return null;var r=t[2];if("object"!=pn(r)||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,zt)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,zt)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,Ht)))return null;var A=null;return r["max-fraction-digits"]&&!(A=e.parse(r["max-fraction-digits"],1,Ht))?null:new Fn(n,i,o,a,A)},Fn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Fn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Fn.prototype.outputDefined=function(){return!1},Fn.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Un=function(t){this.type=Ht,this.input=t};Un.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+qt(n.type)+" instead."):new Un(n):null},Un.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new ce("Expected value to be of type string or array, but found "+qt(Ae(e))+" instead.")},Un.prototype.eachChild=function(t){t(this.input)},Un.prototype.outputDefined=function(){return!1},Un.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var En={"==":_n,"!=":wn,">":Bn,"<":xn,">=":Cn,"<=":bn,array:he,at:cn,boolean:he,case:dn,coalesce:sn,collator:_e,format:fe,image:pe,in:ln,"index-of":hn,interpolate:an,"interpolate-hcl":an,"interpolate-lab":an,length:Un,let:un,literal:ue,match:fn,number:he,"number-format":Fn,object:he,slice:gn,step:Ke,string:he,"to-boolean":ge,"to-color":ge,"to-number":ge,"to-string":ge,var:$e,within:Le};function Qn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,A=oe(n,r,i,a);if(A)throw new ce(A);return new te(n/255*a,r/255*a,i/255*a,a)}function In(t,e){return t in e}function kn(t,e){var n=e[t];return void 0===n?null:n}function Sn(t){return{type:t}}function Tn(t){return{result:"success",value:t}}function Mn(t){return{result:"error",value:t}}function Dn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ln(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Pn(t){return!!t.expression&&t.expression.interpolated}function Hn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":pn(t)}function zn(t){return"object"==pn(t)&&null!==t&&!Array.isArray(t)}function $n(t){return t}function Rn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function On(t,e,n,r,i){return Rn(pn(n)===i?r[n]:void 0,t.default,e.default)}function Kn(t,e,n){if("number"!==Hn(n))return Rn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Oe(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function Vn(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Hn(n))return Rn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Oe(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),A=t.stops[o][1],s=t.stops[o+1][1],u=Ne[e.type]||$n;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=on[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof A.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=A.evaluate.apply(void 0,t),r=s.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(A,s,a)}function Nn(t,e,n){return"color"===e.type?n=te.parse(n):"formatted"===e.type?n=re.fromString(n.toString()):"resolvedImage"===e.type?n=ie.fromString(n.toString()):Hn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Rn(n,t.default,e.default)}ve.register(En,{error:[{kind:"error"},[zt],function(t,e){throw new ce(e[0].evaluate(t))}],typeof:[zt,[Kt],function(t,e){return qt(Ae(e[0].evaluate(t)))}],"to-rgba":[jt(Ht,4),[Rt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Rt,[Ht,Ht,Ht],Qn],rgba:[Rt,[Ht,Ht,Ht,Ht],Qn],has:{type:$t,overloads:[[[zt],function(t,e){return In(e[0].evaluate(t),t.properties())}],[[zt,Ot],function(t,e){var n=e[1];return In(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Kt,overloads:[[[zt],function(t,e){return kn(e[0].evaluate(t),t.properties())}],[[zt,Ot],function(t,e){var n=e[1];return kn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Kt,[zt],function(t,e){return kn(e[0].evaluate(t),t.featureState||{})}],properties:[Ot,[],function(t){return t.properties()}],"geometry-type":[zt,[],function(t){return t.geometryType()}],id:[Kt,[],function(t){return t.id()}],zoom:[Ht,[],function(t){return t.globals.zoom}],"heatmap-density":[Ht,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Ht,[],function(t){return t.globals.lineProgress||0}],accumulated:[Kt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Ht,Sn(Ht),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Ht,Sn(Ht),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Ht,overloads:[[[Ht,Ht],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[Ht],function(t,e){return-e[0].evaluate(t)}]]},"/":[Ht,[Ht,Ht],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[Ht,[Ht,Ht],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[Ht,[],function(){return Math.LN2}],pi:[Ht,[],function(){return Math.PI}],e:[Ht,[],function(){return Math.E}],"^":[Ht,[Ht,Ht],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[Ht,[Ht],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Ht,[Ht],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Ht,[Ht],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Ht,[Ht],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Ht,[Ht],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Ht,[Ht],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Ht,[Ht],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Ht,[Ht],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Ht,[Ht],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Ht,[Ht],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Ht,Sn(Ht),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Ht,Sn(Ht),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Ht,[Ht],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Ht,[Ht],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ht,[Ht],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Ht,[Ht],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[$t,[zt,Kt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[$t,[Kt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[$t,[zt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[$t,[zt,Kt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return pn(i)==pn(o)&&i<o}],"filter-id-<":[$t,[Kt],function(t,e){var n=e[0],r=t.id(),i=n.value;return pn(r)==pn(i)&&r<i}],"filter->":[$t,[zt,Kt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return pn(i)==pn(o)&&i>o}],"filter-id->":[$t,[Kt],function(t,e){var n=e[0],r=t.id(),i=n.value;return pn(r)==pn(i)&&r>i}],"filter-<=":[$t,[zt,Kt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return pn(i)==pn(o)&&i<=o}],"filter-id-<=":[$t,[Kt],function(t,e){var n=e[0],r=t.id(),i=n.value;return pn(r)==pn(i)&&r<=i}],"filter->=":[$t,[zt,Kt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return pn(i)==pn(o)&&i>=o}],"filter-id->=":[$t,[Kt],function(t,e){var n=e[0],r=t.id(),i=n.value;return pn(r)==pn(i)&&r>=i}],"filter-has":[$t,[Kt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[$t,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[$t,[jt(zt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[$t,[jt(Kt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[$t,[zt,jt(Kt)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[$t,[zt,jt(Kt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:$t,overloads:[[[$t,$t],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[Sn($t),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:$t,overloads:[[[$t,$t],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[Sn($t),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[$t,[$t],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[$t,[zt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[zt,[zt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[zt,[zt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[zt,Sn(Kt),function(t,e){return e.map((function(e){return se(e.evaluate(t))})).join("")}],"resolved-locale":[zt,[Vt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Gn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ye,this._defaultValue=e?function(t){return"color"===t.type&&zn(t.default)?new te(0,0,0,0):"color"===t.type?te.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function jn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in En}function qn(t,e){var n,r,i=new Re(En,[],e?(r={color:Rt,string:zt,number:Ht,enum:zt,boolean:$t,formatted:Nt,resolvedImage:Gt},"array"===(n=e).type?jt(r[n.value]||Kt,n.length):r[n.type]):void 0),o=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return o?Tn(new Gn(o,e)):Mn(i.errors)}Gn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Gn.prototype.evaluate=function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new ce("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Zn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!He(e.expression)};Zn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Zn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var Xn=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!He(e.expression),this.interpolationType=r};function Wn(t,e){if("error"===(t=qn(t,e)).result)return t;var n=t.value.expression,r=Pe(n);if(!r&&!Dn(e))return Mn([new Dt("","data expressions not supported")]);var i=ze(n,["zoom"]);if(!i&&!Ln(e))return Mn([new Dt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof un)n=t(e.result);else if(e instanceof sn)for(var r=0,i=e.args;r<i.length&&!(n=t(i[r]));r+=1);else(e instanceof Ke||e instanceof an)&&e.input instanceof ve&&"zoom"===e.input.name&&(n=e);return n instanceof Dt||e.eachChild((function(e){var r=t(e);r instanceof Dt?n=r:!n&&r?n=new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Dt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||i?o instanceof Dt?Mn([o]):o instanceof an&&!Pn(e)?Mn([new Dt("",'"interpolate" expressions cannot be used with this property')]):Tn(o?new Xn(r?"camera":"composite",t.value,o.labels,o instanceof an?o.interpolation:void 0):new Zn(r?"constant":"source",t.value)):Mn([new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},Xn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)},Xn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?an.interpolationFactor(this.interpolationType,t,e,n):0};var Jn=function(t,e){this._parameters=t,this._specification=e,St(this,function t(e,n){var r,i,o,a="color"===n.type,A=e.stops&&"object"==pn(e.stops[0][0]),s=A||!(A||void 0!==e.property),u=e.type||(Pn(n)?"exponential":"interval");if(a&&((e=St({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],te.parse(t[1])]}))),e.default=te.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!on[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===u)r=Vn;else if("interval"===u)r=Kn;else if("categorical"===u){r=On,i=Object.create(null);for(var c=0,l=e.stops;c<l.length;c+=1){var h=l[c];i[h[0]]=h[1]}o=pn(e.stops[0][0])}else{if("identity"!==u)throw new Error('Unknown function type "'+u+'"');r=Nn}if(A){for(var f={},p=[],d=0;d<e.stops.length;d++){var g=e.stops[d],m=g[0].zoom;void 0===f[m]&&(f[m]={zoom:m,type:e.type,property:e.property,default:e.default,stops:[]},p.push(m)),f[m].stops.push([g[0].value,g[1]])}for(var y=[],v=0,_=p;v<_.length;v+=1){var w=_[v];y.push([f[w].zoom,t(f[w],n)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:an.interpolationFactor.bind(void 0,x),zoomStops:y.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return Vn({stops:y,base:e.base},n,i).evaluate(i,r)}}}if(s){var B="exponential"===u?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:B,interpolationFactor:an.interpolationFactor.bind(void 0,B),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return r(e,n,t.zoom,i,o)}}}return{kind:"source",evaluate:function(t,a){var A=a&&a.properties?a.properties[e.property]:void 0;return void 0===A?Rn(e.default,n.default):r(e,n,A,i,o)}}}(this._parameters,this._specification))};function Yn(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,A=[],s=Hn(n);if("object"!==s)return[new It(e,n,"object expected, "+s+" found")];for(var u in n){var c=u.split(".")[0],l=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=br;else if(i["*"])h=i["*"];else{if(!r["*"]){A.push(new It(e,n[u],'unknown property "'+u+'"'));continue}h=br}A=A.concat(h({key:(e&&e+".")+u,value:n[u],valueSpec:l,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f].default&&void 0===n[f]&&A.push(new It(e,n,'missing required property "'+f+'"'));return A}function tr(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||br;if("array"!==Hn(e))return[new It(o,e,"array expected, "+Hn(e)+" found")];if(n.length&&e.length!==n.length)return[new It(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new It(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var A={type:n.value,values:n.values};i.$version<7&&(A.function=n.function),"object"===Hn(n.value)&&(A=n.value);for(var s=[],u=0;u<e.length;u++)s=s.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:A,style:r,styleSpec:i,key:o+"["+u+"]"}));return s}function er(t){var e=t.key,n=t.value,r=t.valueSpec,i=Hn(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new It(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new It(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new It(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function nr(t){var e,n,r,i=t.valueSpec,o=Tt(t.value.type),a={},A="categorical"!==o&&void 0===t.value.property,s=!A,u="array"===Hn(t.value.stops)&&"array"===Hn(t.value.stops[0])&&"object"===Hn(t.value.stops[0][0]),c=Yn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new It(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(tr({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:l})),"array"===Hn(n)&&0===n.length&&e.push(new It(t.key,n,"array must have at least one stop")),e},default:function(t){return br({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&A&&c.push(new It(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new It(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Pn(t.valueSpec)&&c.push(new It(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(s&&!Dn(t.valueSpec)?c.push(new It(t.key,t.value,"property functions not supported")):A&&!Ln(t.valueSpec)&&c.push(new It(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new It(t.key,t.value,'"property" property is required')),c;function l(t){var e=[],o=t.value,A=t.key;if("array"!==Hn(o))return[new It(A,o,"array expected, "+Hn(o)+" found")];if(2!==o.length)return[new It(A,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==Hn(o[0]))return[new It(A,o,"object expected, "+Hn(o[0])+" found")];if(void 0===o[0].zoom)return[new It(A,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new It(A,o,"object stop key must have value")];if(r&&r>Tt(o[0].zoom))return[new It(A,o[0].zoom,"stop zoom values must appear in ascending order")];Tt(o[0].zoom)!==r&&(r=Tt(o[0].zoom),n=void 0,a={}),e=e.concat(Yn({key:A+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:er,value:h}}))}else e=e.concat(h({key:A+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return jn(Mt(o[1]))?e.concat([new It(A+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(br({key:A+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var A=Hn(t.value),s=Tt(t.value),u=null!==t.value?t.value:r;if(e){if(A!==e)return[new It(t.key,u,A+" stop domain type must match previous stop domain type "+e)]}else e=A;if("number"!==A&&"string"!==A&&"boolean"!==A)return[new It(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==A&&"categorical"!==o){var c="number expected, "+A+" found";return Dn(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new It(t.key,u,c)]}return"categorical"!==o||"number"!==A||isFinite(s)&&Math.floor(s)===s?"categorical"!==o&&"number"===A&&void 0!==n&&s<n?[new It(t.key,u,"stop domain values must appear in ascending order")]:(n=s,"categorical"===o&&s in a?[new It(t.key,u,"stop domain values must be unique")]:(a[s]=!0,[])):[new It(t.key,u,"integer expected, found "+s)]}}function rr(t){var e=("property"===t.expressionContext?Wn:qn)(Mt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new It(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new It(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!He(n))return[new It(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!He(n))return[new It(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!ze(n,["zoom","feature-state"]))return[new It(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Pe(n))return[new It(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ir(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Tt(n))&&i.push(new It(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Tt(n))&&i.push(new It(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function or(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!or(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}Jn.deserialize=function(t){return new Jn(t._parameters,t._specification)},Jn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var ar={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ar(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};or(t)||(t=ur(t));var e=qn(t,ar);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function sr(t,e){return t<e?-1:t>e?1:0}function ur(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?cr(t[1],t[2],"=="):"!="===n?fr(cr(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?cr(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(ur))):"all"===n?["all"].concat(t.slice(1).map(ur)):"none"===n?["all"].concat(t.slice(1).map(ur).map(fr)):"in"===n?lr(t[1],t.slice(2)):"!in"===n?fr(lr(t[1],t.slice(2))):"has"===n?hr(t[1]):"!has"===n?fr(hr(t[1])):"within"!==n||t}function cr(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function lr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return pn(t)!=pn(e[0])}))?["filter-in-large",t,["literal",e.sort(sr)]]:["filter-in-small",t,["literal",e]]}}function hr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function fr(t){return["!",t]}function pr(t){return or(Mt(t.value))?rr(St({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==Hn(n))return[new It(r,n,"array expected, "+Hn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new It(r,n,"filter array must have at least 1 element")];switch(a=a.concat(ir({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Tt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Tt(n[1])&&a.push(new It(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new It(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Hn(n[1]))&&a.push(new It(r+"[1]",n[1],"string expected, "+i+" found"));for(var A=2;A<n.length;A++)i=Hn(n[A]),"$type"===Tt(n[1])?a=a.concat(ir({key:r+"["+A+"]",value:n[A],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new It(r+"["+A+"]",n[A],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var s=1;s<n.length;s++)a=a.concat(t({key:r+"["+s+"]",value:n[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Hn(n[1]),2!==n.length?a.push(new It(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new It(r+"[1]",n[1],"string expected, "+i+" found"));break;case"within":i=Hn(n[1]),2!==n.length?a.push(new It(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==i&&a.push(new It(r+"[1]",n[1],"object expected, "+i+" found"))}return a}(t)}function dr(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,A=i[e+"_"+t.layerType];if(!A)return[];var s=a.match(/^(.*)-transition$/);if("paint"===e&&s&&A[s[1]]&&A[s[1]].transition)return br({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||A[a];if(!c)return[new It(n,o,'unknown property "'+a+'"')];if("string"===Hn(o)&&Dn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new It(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var l=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&l.push(new It(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&zn(Mt(o))&&"identity"===Tt(o.type)&&l.push(new It(n,o,'"text-font" does not support identity functions'))),l.concat(br({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function gr(t){return dr(t,"paint")}function mr(t){return dr(t,"layout")}function yr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new It(r,n,'either "type" or "ref" is required'));var a,A=Tt(n.type),s=Tt(n.ref);if(n.id)for(var u=Tt(n.id),c=0;c<t.arrayIndex;c++){var l=i.layers[c];Tt(l.id)===u&&e.push(new It(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+l.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new It(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Tt(t.id)===s&&(a=t)})),a?a.ref?e.push(new It(r,n.ref,"ref cannot reference another ref layer")):A=Tt(a.type):e.push(new It(r,n.ref,'ref layer "'+s+'" not found'));else if("background"!==A)if(n.source){var h=i.sources&&i.sources[n.source],f=h&&Tt(h.type);h?"vector"===f&&"raster"===A?e.push(new It(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==A?e.push(new It(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==A?e.push(new It(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==A||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||e.push(new It(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new It(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new It(r,n.source,'source "'+n.source+'" not found'))}else e.push(new It(r,n,'missing required property "source"'));return e=e.concat(Yn({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return br({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:pr,layout:function(t){return Yn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return mr(St({layerType:A},t))}}})},paint:function(t){return Yn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return gr(St({layerType:A},t))}}})}}}))}function vr(t){var e=t.value,n=t.key,r=Hn(e);return"string"!==r?[new It(n,e,"string expected, "+r+" found")]:[]}var _r={promoteId:function(t){var e=t.key,n=t.value;if("string"===Hn(n))return vr({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,vr({key:e+"."+i,value:n[i]}));return r}};function wr(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new It(n,e,'"type" is required')];var o,a=Tt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Yn({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:_r});case"geojson":if(o=Yn({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:_r}),e.cluster)for(var A in e.clusterProperties){var s=e.clusterProperties[A],u=s[0],c="string"==typeof u?[u,["accumulated"],["get",A]]:u;o.push.apply(o,rr({key:n+"."+A+".map",value:s[1],expressionContext:"cluster-map"})),o.push.apply(o,rr({key:n+"."+A+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Yn({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Yn({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new It(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ir({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function xr(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=Hn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new It("light",e,"object expected, "+a+" found")]);for(var A in e){var s=A.match(/^(.*)-transition$/);o=o.concat(s&&r[s[1]]&&r[s[1]].transition?br({key:A,value:e[A],valueSpec:n.transition,style:i,styleSpec:n}):r[A]?br({key:A,value:e[A],valueSpec:r[A],style:i,styleSpec:n}):[new It(A,e[A],'unknown property "'+A+'"')])}return o}var Br={"*":function(){return[]},array:tr,boolean:function(t){var e=t.value,n=t.key,r=Hn(e);return"boolean"!==r?[new It(n,e,"boolean expected, "+r+" found")]:[]},number:er,color:function(t){var e=t.key,n=t.value,r=Hn(n);return"string"!==r?[new It(e,n,"color expected, "+r+" found")]:null===Yt(n)?[new It(e,n,'color expected, "'+n+'" found')]:[]},constants:kt,enum:ir,filter:pr,function:nr,layer:yr,object:Yn,source:wr,light:xr,string:vr,formatted:function(t){return 0===vr(t).length?[]:rr(t)},resolvedImage:function(t){return 0===vr(t).length?[]:rr(t)}};function br(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&zn(Tt(e))?nr(t):n.expression&&jn(Mt(e))?rr(t):n.type&&Br[n.type]?Br[n.type](t):Yn(St({},t,{valueSpec:n.type?r[n.type]:n}))}function Cr(t){var e=t.value,n=t.key,r=vr(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new It(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new It(n,e,'"glyphs" url must include a "{range}" token'))),r}function Fr(t,e){void 0===e&&(e=Qt);var n=[];return n=n.concat(br({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Cr,"*":function(){return[]}}})),t.constants&&(n=n.concat(kt({key:"constants",value:t.constants,style:t,styleSpec:e}))),Ur(n)}function Ur(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Er(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Ur(t.apply(this,e))}}Fr.source=Er(wr),Fr.light=Er(xr),Fr.layer=Er(yr),Fr.filter=Er(pr),Fr.paintProperty=Er(gr),Fr.layoutProperty=Er(mr);var Qr=Fr,Ir=Qr.light,kr=Qr.paintProperty,Sr=Qr.layoutProperty;function Tr(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1)t.fire(new Ut(new Error(i[r].message))),n=!0;return n}var Mr=Dr;function Dr(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(n=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],A=i[3+o+1];r.push(a===A?null:i.subarray(a,A))}var s=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],s),this.bboxes=i.subarray(s),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}Dr.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Dr.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Dr.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},Dr.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var A=[];return this._forEachCell(t,e,n,r,this._queryCell,A,{},i),A},Dr.prototype._queryCell=function(t,e,n,r,i,o,a,A){var s=this.cells[i];if(null!==s)for(var u=this.keys,c=this.bboxes,l=0;l<s.length;l++){var h=s[l];if(void 0===a[h]){var f=4*h;(A?A(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&r>=c[f+1])?(a[h]=!0,o.push(u[h])):a[h]=!1}}},Dr.prototype._forEachCell=function(t,e,n,r,i,o,a,A){for(var s=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(n),l=this._convertToCellCoord(r),h=s;h<=c;h++)for(var f=u;f<=l;f++){var p=this.d*f+h;if((!A||A(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&i.call(this,t,e,n,r,p,o,a,A))return}},Dr.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Dr.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Dr.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var A=t[a];i[3+a]=o,i.set(A,o),o+=A.length}return i[3+t.length]=o,i.set(this.keys,o),i[3+t.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var Lr=a.ImageData,Pr=a.ImageBitmap,Hr={};function zr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Hr[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var $r in zr("Object",Object),Mr.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Mr.deserialize=function(t){return new Mr(t.buffer)},zr("Grid",Mr),zr("Color",te),zr("Error",Error),zr("ResolvedImage",ie),zr("StylePropertyFunction",Jn),zr("StyleExpression",Gn,{omit:["_evaluator"]}),zr("ZoomDependentExpression",Xn),zr("ZoomConstantExpression",Zn),zr("CompoundExpression",ve,{omit:["_evaluate"]}),En)En[$r]._classRegistryKey||zr("Expression_"+$r,En[$r]);function Rr(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function Or(t){return Pr&&t instanceof Pr}function Kr(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Rr(t)||Or(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Lr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1)r.push(Kr(o[i],e));return r}if("object"==pn(t)){var a=t.constructor,A=a._classRegistryKey;if(!A)throw new Error("can't serialize object of unregistered class");var s=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var u in t)if(t.hasOwnProperty(u)&&!(Hr[A].omit.indexOf(u)>=0)){var c=t[u];s[u]=Hr[A].shallow.indexOf(u)>=0?c:Kr(c,e)}t instanceof Error&&(s.message=t.message)}if(s.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==A&&(s.$name=A),s}throw new Error("can't serialize object of type "+pn(t))}function Vr(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Rr(t)||Or(t)||ArrayBuffer.isView(t)||t instanceof Lr)return t;if(Array.isArray(t))return t.map(Vr);if("object"==pn(t)){var e=t.$name||"Object",n=Hr[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var A=t[a];r[a]=Hr[e].shallow.indexOf(a)>=0?A:Vr(A)}}return r}throw new Error("can't deserialize object of type "+pn(t))}var Nr=function(){this.first=!0};Nr.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Gr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function jr(t){for(var e=0,n=t;e<n.length;e+=1)if(qr(n[e].charCodeAt(0)))return!0;return!1}function qr(t){return!(746!==t&&747!==t&&(t<4352||!(Gr["Bopomofo Extended"](t)||Gr.Bopomofo(t)||Gr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Gr["CJK Compatibility Ideographs"](t)||Gr["CJK Compatibility"](t)||Gr["CJK Radicals Supplement"](t)||Gr["CJK Strokes"](t)||!(!Gr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Gr["CJK Unified Ideographs Extension A"](t)||Gr["CJK Unified Ideographs"](t)||Gr["Enclosed CJK Letters and Months"](t)||Gr["Hangul Compatibility Jamo"](t)||Gr["Hangul Jamo Extended-A"](t)||Gr["Hangul Jamo Extended-B"](t)||Gr["Hangul Jamo"](t)||Gr["Hangul Syllables"](t)||Gr.Hiragana(t)||Gr["Ideographic Description Characters"](t)||Gr.Kanbun(t)||Gr["Kangxi Radicals"](t)||Gr["Katakana Phonetic Extensions"](t)||Gr.Katakana(t)&&12540!==t||!(!Gr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Gr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Gr["Unified Canadian Aboriginal Syllabics"](t)||Gr["Unified Canadian Aboriginal Syllabics Extended"](t)||Gr["Vertical Forms"](t)||Gr["Yijing Hexagram Symbols"](t)||Gr["Yi Syllables"](t)||Gr["Yi Radicals"](t))))}function Zr(t){return!(qr(t)||(e=t,Gr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Gr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Gr["Letterlike Symbols"](e)||Gr["Number Forms"](e)||Gr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Gr["Control Pictures"](e)&&9251!==e||Gr["Optical Character Recognition"](e)||Gr["Enclosed Alphanumerics"](e)||Gr["Geometric Shapes"](e)||Gr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Gr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Gr["CJK Symbols and Punctuation"](e)||Gr.Katakana(e)||Gr["Private Use Area"](e)||Gr["CJK Compatibility Forms"](e)||Gr["Small Form Variants"](e)||Gr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e}function Xr(t){return t>=1424&&t<=2303||Gr["Arabic Presentation Forms-A"](t)||Gr["Arabic Presentation Forms-B"](t)}function Wr(t,e){return!(!e&&Xr(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Gr.Khmer(t))}function Jr(t){for(var e=0,n=t;e<n.length;e+=1)if(Xr(n[e].charCodeAt(0)))return!0;return!1}var Yr=null,ti="unavailable",ei=null,ni=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(ti="error"),Yr&&Yr(t)};function ri(){ii.fire(new Ft("pluginStateChange",{pluginStatus:ti,pluginURL:ei}))}var ii=new Et,oi=function(){return ti},ai=function(){if("deferred"!==ti||!ei)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ti="loading",ri(),ei&&_t({url:ei},(function(t){t?ni(t):(ti="loaded",ri())}))},Ai={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===ti||null!=Ai.applyArabicShaping},isLoading:function(){return"loading"===ti},setState:function(t){ti=t.pluginStatus,ei=t.pluginURL},isParsed:function(){return null!=Ai.applyArabicShaping&&null!=Ai.processBidirectionalText&&null!=Ai.processStyledBidirectionalText},getPluginURL:function(){return ei}},si=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Nr,this.transition={})};si.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!Wr(r[n].charCodeAt(0),e))return!1;return!0}(t,Ai.isLoaded())},si.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},si.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var ui=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(zn(t))return new Jn(t,e);if(jn(t)){var n=Wn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=te.parse(t)),{kind:"constant",evaluate:function(){return r}}}(void 0===e?t.specification.default:e,t.specification)};ui.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ui.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var ci=function(t){this.property=t,this.value=new ui(t,void 0)};ci.prototype.transitioned=function(t,e){return new hi(this.property,this.value,e,h({},t.transition,this.transition),t.now)},ci.prototype.untransitioned=function(){return new hi(this.property,this.value,null,{},0)};var li=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};li.prototype.getValue=function(t){return w(this._values[t].value.value)},li.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ci(this._values[t].property)),this._values[t].value=new ui(this._values[t].property,null===e?void 0:w(e))},li.prototype.getTransition=function(t){return w(this._values[t].transition)},li.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ci(this._values[t].property)),this._values[t].transition=w(e)||void 0},li.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},li.prototype.transitioned=function(t,e){for(var n=new fi(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},li.prototype.untransitioned=function(){for(var t=new fi(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var hi=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};hi.prototype.possiblyEvaluate=function(t,e,n){var r=t.now||0,i=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(t,e,n);var a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return i};var fi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};fi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new gi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r},fi.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var pi=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};pi.prototype.getValue=function(t){return w(this._values[t].value)},pi.prototype.setValue=function(t,e){this._values[t]=new ui(this._values[t].property,null===e?void 0:w(e))},pi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},pi.prototype.possiblyEvaluate=function(t,e,n){for(var r=new gi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var a=o[i];r._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return r};var di=function(t,e,n){this.property=t,this.value=e,this.parameters=n};di.prototype.isConstant=function(){return"constant"===this.value.kind},di.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},di.prototype.evaluate=function(t,e,n,r){return this.property.evaluate(this.value,this.parameters,t,e,n,r)};var gi=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};gi.prototype.get=function(t){return this._values[t]};var mi=function(t){this.specification=t};mi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},mi.prototype.interpolate=function(t,e,n){var r=Ne[this.specification.type];return r?r(t,e,n):t};var yi=function(t,e){this.specification=t,this.overrides=e};yi.prototype.possiblyEvaluate=function(t,e,n,r){return new di(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,r)}:t.expression,e)},yi.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new di(this,{kind:"constant",value:void 0},t.parameters);var r=Ne[this.specification.type];return r?new di(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},yi.prototype.evaluate=function(t,e,n,r,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,r,i,o)};var vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0===t.value)return new di(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,e);return new di(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var A=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new di(this,{kind:"constant",value:A},e)}return new di(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r,i,o){if("source"===t.kind){var a=t.evaluate(e,n,r,i,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(yi),_i=function(t){this.specification=t};_i.prototype.possiblyEvaluate=function(t,e,n,r){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n,r);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new si(Math.floor(e.zoom-1),e)),t.expression.evaluate(new si(Math.floor(e.zoom),e)),t.expression.evaluate(new si(Math.floor(e.zoom+1),e)),e)}},_i.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},_i.prototype.interpolate=function(t){return t};var wi=function(t){this.specification=t};wi.prototype.possiblyEvaluate=function(t,e,n,r){return!!t.expression.evaluate(e,null,{},n,r)},wi.prototype.interpolate=function(){return!1};var xi=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var r=this.defaultPropertyValues[e]=new ui(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new ci(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};zr("DataDrivenProperty",yi),zr("DataConstantProperty",mi),zr("CrossFadedDataDrivenProperty",vi),zr("CrossFadedProperty",_i),zr("ColorRampProperty",wi);var Bi=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new pi(n.layout)),n.paint)){for(var r in this._transitionablePaint=new li(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gi(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Sr,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return y(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(kr,"layers."+this.id+".paint."+t,t,e,n))return!1;if(y(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-11),e||void 0),!1;var r=this._transitionablePaint._values[t],i="cross-faded-data-driven"===r.property.specification["property-type"],o=r.value.isDataDriven(),a=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var A=this._transitionablePaint._values[t].value;return A.isDataDriven()||o||i||this._handleOverridablePaintPropertyUpdate(t,a,A)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),_(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Tr(this,t.call(Qr,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:Qt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof di&&Dn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Et),bi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ci=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Fi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ui(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i=bi[t.type].BYTES_PER_ELEMENT,o=n=Ei(n,Math.max(e,i)),a=t.components||1;return r=Math.max(r,i),n+=i*a,{name:t.name,type:t.type,components:a,offset:o}})),size:Ei(n,Math.max(r,e)),alignment:e}}function Ei(t,e){return Math.ceil(t/e)*e}Fi.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Fi.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Fi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Fi.prototype.clear=function(){this.length=0},Fi.prototype.resize=function(t){this.reserve(t),this.length=t},Fi.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Fi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Fi);Qi.prototype.bytesPerElement=4,zr("StructArrayLayout2i4",Qi);var Ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Fi);Ii.prototype.bytesPerElement=8,zr("StructArrayLayout4i8",Ii);var ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var A=6*t;return this.int16[A+0]=e,this.int16[A+1]=n,this.int16[A+2]=r,this.int16[A+3]=i,this.int16[A+4]=o,this.int16[A+5]=a,t},e}(Fi);ki.prototype.bytesPerElement=12,zr("StructArrayLayout2i4i12",ki);var Si=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var A=4*t,s=8*t;return this.int16[A+0]=e,this.int16[A+1]=n,this.uint8[s+4]=r,this.uint8[s+5]=i,this.uint8[s+6]=o,this.uint8[s+7]=a,t},e}(Fi);Si.prototype.bytesPerElement=8,zr("StructArrayLayout2i4ub8",Si);var Ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Fi);Ti.prototype.bytesPerElement=8,zr("StructArrayLayout2f8",Ti);var Mi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,A,s,u){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,r,i,o,a,A,s,u)},e.prototype.emplace=function(t,e,n,r,i,o,a,A,s,u,c){var l=10*t;return this.uint16[l+0]=e,this.uint16[l+1]=n,this.uint16[l+2]=r,this.uint16[l+3]=i,this.uint16[l+4]=o,this.uint16[l+5]=a,this.uint16[l+6]=A,this.uint16[l+7]=s,this.uint16[l+8]=u,this.uint16[l+9]=c,t},e}(Fi);Mi.prototype.bytesPerElement=20,zr("StructArrayLayout10ui20",Mi);var Di=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,A,s,u,c,l){var h=this.length;return this.resize(h+1),this.emplace(h,t,e,n,r,i,o,a,A,s,u,c,l)},e.prototype.emplace=function(t,e,n,r,i,o,a,A,s,u,c,l,h){var f=12*t;return this.int16[f+0]=e,this.int16[f+1]=n,this.int16[f+2]=r,this.int16[f+3]=i,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=A,this.uint16[f+7]=s,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=l,this.int16[f+11]=h,t},e}(Fi);Di.prototype.bytesPerElement=24,zr("StructArrayLayout4i4ui4i24",Di);var Li=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Fi);Li.prototype.bytesPerElement=12,zr("StructArrayLayout3f12",Li);var Pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Fi);Pi.prototype.bytesPerElement=4,zr("StructArrayLayout1ul4",Pi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,A,s){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,r,i,o,a,A,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,A,s,u){var c=10*t,l=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[l+3]=A,this.uint16[c+8]=s,this.uint16[c+9]=u,t},e}(Fi);Hi.prototype.bytesPerElement=20,zr("StructArrayLayout6i1ul2ui20",Hi);var zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var A=6*t;return this.int16[A+0]=e,this.int16[A+1]=n,this.int16[A+2]=r,this.int16[A+3]=i,this.int16[A+4]=o,this.int16[A+5]=a,t},e}(Fi);zi.prototype.bytesPerElement=12,zr("StructArrayLayout2i2i2i12",zi);var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,r,i)},e.prototype.emplace=function(t,e,n,r,i,o){var a=4*t,A=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[A+6]=i,this.int16[A+7]=o,t},e}(Fi);$i.prototype.bytesPerElement=16,zr("StructArrayLayout2f1f2i16",$i);var Ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Fi);Ri.prototype.bytesPerElement=12,zr("StructArrayLayout2ub2f12",Ri);var Oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Fi);Oi.prototype.bytesPerElement=6,zr("StructArrayLayout3ui6",Oi);var Ki=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g){var m=this.length;return this.resize(m+1),this.emplace(m,t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g)},e.prototype.emplace=function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m){var y=24*t,v=12*t,_=48*t;return this.int16[y+0]=e,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=i,this.uint32[v+2]=o,this.uint32[v+3]=a,this.uint32[v+4]=A,this.uint16[y+10]=s,this.uint16[y+11]=u,this.uint16[y+12]=c,this.float32[v+7]=l,this.float32[v+8]=h,this.uint8[_+36]=f,this.uint8[_+37]=p,this.uint8[_+38]=d,this.uint32[v+10]=g,this.int16[y+22]=m,t},e}(Fi);Ki.prototype.bytesPerElement=48,zr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ki);var Vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U){var E=this.length;return this.resize(E+1),this.emplace(E,t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U)},e.prototype.emplace=function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U,E){var Q=34*t,I=17*t;return this.int16[Q+0]=e,this.int16[Q+1]=n,this.int16[Q+2]=r,this.int16[Q+3]=i,this.int16[Q+4]=o,this.int16[Q+5]=a,this.int16[Q+6]=A,this.int16[Q+7]=s,this.uint16[Q+8]=u,this.uint16[Q+9]=c,this.uint16[Q+10]=l,this.uint16[Q+11]=h,this.uint16[Q+12]=f,this.uint16[Q+13]=p,this.uint16[Q+14]=d,this.uint16[Q+15]=g,this.uint16[Q+16]=m,this.uint16[Q+17]=y,this.uint16[Q+18]=v,this.uint16[Q+19]=_,this.uint16[Q+20]=w,this.uint16[Q+21]=x,this.uint16[Q+22]=B,this.uint32[I+12]=b,this.float32[I+13]=C,this.float32[I+14]=F,this.float32[I+15]=U,this.float32[I+16]=E,t},e}(Fi);Vi.prototype.bytesPerElement=68,zr("StructArrayLayout8i15ui1ul4f68",Vi);var Ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Fi);Ni.prototype.bytesPerElement=4,zr("StructArrayLayout1f4",Ni);var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Fi);Gi.prototype.bytesPerElement=6,zr("StructArrayLayout3i6",Gi);var ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=n,this.uint16[i+3]=r,t},e}(Fi);ji.prototype.bytesPerElement=8,zr("StructArrayLayout1ul2ui8",ji);var qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Fi);qi.prototype.bytesPerElement=4,zr("StructArrayLayout2ui4",qi);var Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Fi);Zi.prototype.bytesPerElement=2,zr("StructArrayLayout1ui2",Zi);var Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Fi);Xi.prototype.bytesPerElement=16,zr("StructArrayLayout4f16",Xi);var Wi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(Ci);Wi.prototype.size=20;var Ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Wi(this,t)},e}(Hi);zr("CollisionBoxArray",Ji);var Yi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(Ci);Yi.prototype.size=48;var to=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Yi(this,t)},e}(Ki);zr("PlacedSymbolArray",to);var eo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(Ci);eo.prototype.size=68;var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new eo(this,t)},e}(Vi);zr("SymbolInstanceArray",no);var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(Ni);zr("GlyphOffsetArray",ro);var io=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(Gi);zr("SymbolLineVertexArray",io);var oo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(Ci);oo.prototype.size=8;var ao=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new oo(this,t)},e}(ji);zr("FeatureIndexArray",ao);var Ao=Ui([{name:"a_pos",components:2,type:"Int16"}],4).members,so=function(t){void 0===t&&(t=[]),this.segments=t};function uo(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}so.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>so.MAX_VERTEX_ARRAY_LENGTH&&B("Max vertices per segment is "+so.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>so.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},so.prototype.get=function(){return this.segments},so.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},so.simpleSegment=function(t,e,n,r){return new so([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},so.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zr("SegmentVector",so);var co=Ui([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lo=e((function(t){t.exports=function(t,e){var n,r,i,o,a,A,s,u;for(r=t.length-(n=3&t.length),i=e,a=3432918353,A=461845907,u=0;u<r;)s=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=s=(65535&(s=(s=(65535&s)*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*A+(((s>>>16)*A&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(s=0,n){case 3:s^=(255&t.charCodeAt(u+2))<<16;case 2:s^=(255&t.charCodeAt(u+1))<<8;case 1:i^=s=(65535&(s=(s=(65535&(s^=255&t.charCodeAt(u)))*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*A+(((s>>>16)*A&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),ho=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),fo=lo,po=ho;fo.murmur3=lo,fo.murmur2=po;var go=function(){this.ids=[],this.positions=[],this.indexed=!1};go.prototype.add=function(t,e,n,r){this.ids.push(yo(t)),this.positions.push(e,n,r)},go.prototype.getPositions=function(t){for(var e=yo(t),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=e?r=i:n=i+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},go.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){for(;r<i;){for(var o=e[r+i>>1],a=r-1,A=i+1;;){do{a++}while(e[a]<o);do{A--}while(e[A]>o);if(a>=A)break;vo(e,a,A),vo(n,3*a,3*A),vo(n,3*a+1,3*A+1),vo(n,3*a+2,3*A+2)}A-r<i-A?(t(e,n,r,A),r=A+1):(t(e,n,A+1,i),i=A)}}(n,r,0,n.length-1),e&&e.push(n.buffer,r.buffer),{ids:n,positions:r}},go.deserialize=function(t){var e=new go;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var mo=Math.pow(2,53)-1;function yo(t){var e=+t;return!isNaN(e)&&e<=mo?e:fo(String(t))}function vo(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}zr("FeaturePositionMap",go);var _o=function(t,e){this.gl=t.gl,this.location=e},wo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(_o),xo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(_o),Bo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(_o),bo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(_o),Co=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(_o),Fo=function(t){function e(e,n){t.call(this,e,n),this.current=te.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(_o),Uo=new Float32Array(16),Eo=function(t){function e(e,n){t.call(this,e,n),this.current=Uo}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(_o);function Qo(t){return[uo(255*t.r,255*t.g),uo(255*t.b,255*t.a)]}var Io=function(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n};Io.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},Io.prototype.getBinding=function(t,e,n){return"color"===this.type?new Fo(t,e):new xo(t,e)};var ko=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ko.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},ko.prototype.setUniform=function(t,e,n,r){var i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&t.set(i)},ko.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new Co(t,e):new xo(t,e)};var So=function(t,e,n,r){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};So.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.paintVertexArray.length,a=this.expression.evaluate(new si(0),e,{},r,[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},So.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(t,e,i)},So.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var r=Qo(n),i=t;i<e;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},So.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},So.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var To=function(t,e,n,r,i,o){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new o};To.prototype.populatePaintArray=function(t,e,n,r,i){var o=this.expression.evaluate(new si(this.zoom),e,{},r,[],i),a=this.expression.evaluate(new si(this.zoom+1),e,{},r,[],i),A=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(A,t,o,a)},To.prototype.updatePaintArray=function(t,e,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(t,e,i,o)},To.prototype._setPaintValue=function(t,e,n,r){if("color"===this.type)for(var i=Qo(n),o=Qo(r),a=t;a<e;a++)this.paintVertexArray.emplace(a,i[0],i[1],o[0],o[1]);else{for(var A=t;A<e;A++)this.paintVertexArray.emplace(A,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},To.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},To.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},To.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,r=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(r)},To.prototype.getBinding=function(t,e,n){return new xo(t,e)};var Mo=function(t,e,n,r,i,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Mo.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(r,t,e.patterns&&e.patterns[this.layerId],n)},Mo.prototype.updatePaintArray=function(t,e,n,r,i){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],i)},Mo.prototype._setPaintValues=function(t,e,n,r){if(r&&n){var i=r[n.min],o=r[n.mid],a=r[n.max];if(i&&o&&a)for(var A=t;A<e;A++)this.zoomInPaintVertexArray.emplace(A,o.tl[0],o.tl[1],o.br[0],o.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],o.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(A,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Mo.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,co.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,co.members,this.expression.isStateDependent))},Mo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Do=function(t,e,n){this.binders={},this._buffers=[];var r=[];for(var i in t.paint._values)if(n(i)){var o=t.paint.get(i);if(o instanceof di&&Dn(o.property.specification)){var a=Po(i,t.type),A=o.value,s=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],l="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===A.kind)this.binders[i]=l?new ko(A.value,a):new Io(A.value,a,s),r.push("/u_"+i);else if("source"===A.kind||l){var h=Ho(i,s,"source");this.binders[i]=l?new Mo(A,s,u,e,h,t.id):new So(A,a,s,h),r.push("/a_"+i)}else{var f=Ho(i,s,"composite");this.binders[i]=new To(A,a,s,u,e,f),r.push("/z_"+i)}}}this.cacheKey=r.sort().join("")};Do.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof So||e instanceof To?e.maxValue:0},Do.prototype.populatePaintArrays=function(t,e,n,r,i){for(var o in this.binders){var a=this.binders[o];(a instanceof So||a instanceof To||a instanceof Mo)&&a.populatePaintArray(t,e,n,r,i)}},Do.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var r=this.binders[n];r instanceof ko&&r.setConstantPatternPositions(t,e)}},Do.prototype.updatePaintArrays=function(t,e,n,r,i){var o=!1;for(var a in t)for(var A=0,s=e.getPositions(a);A<s.length;A+=1){var u=s[A],c=n.feature(u.index);for(var l in this.binders){var h=this.binders[l];if((h instanceof So||h instanceof To||h instanceof Mo)&&!0===h.expression.isStateDependent){var f=r.paint.get(l);h.expression=f.value,h.updatePaintArray(u.start,u.end,c,t[a],i),o=!0}}}return o},Do.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof Io||n instanceof ko)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},Do.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof So||n instanceof To)for(var r=0;r<n.paintVertexAttributes.length;r++)t.push(n.paintVertexAttributes[r].name);else if(n instanceof Mo)for(var i=0;i<co.members.length;i++)t.push(co.members[i].name)}return t},Do.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Io||n instanceof ko||n instanceof To)for(var r=0,i=n.uniformNames;r<i.length;r+=1)t.push(i[r])}return t},Do.prototype.getPaintVertexBuffers=function(){return this._buffers},Do.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof Io||i instanceof ko||i instanceof To)for(var o=0,a=i.uniformNames;o<a.length;o+=1){var A=a[o];if(e[A]){var s=i.getBinding(t,e[A],A);n.push({name:A,property:r,binding:s})}}}return n},Do.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],A=a.name,s=a.property;this.binders[s].setUniform(a.binding,r,n.get(s),A)}},Do.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Mo){var r=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else(n instanceof So||n instanceof To)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Do.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof So||n instanceof To||n instanceof Mo)&&n.upload(t)}this.updatePaintBuffers()},Do.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof So||e instanceof To||e instanceof Mo)&&e.destroy()}};var Lo=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.programConfigurations[o.id]=new Do(o,e,n)}this.needsUpload=!1,this._featureMap=new go,this._bufferOffset=0};function Po(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Ho(t,e,n){var r={color:{source:Ti,composite:Xi},number:{source:Ni,composite:Ti}},i={"line-pattern":{source:Mi,composite:Mi},"fill-pattern":{source:Mi,composite:Mi},"fill-extrusion-pattern":{source:Mi,composite:Mi}}[t];return i&&i[n]||r[e][n]}Lo.prototype.populatePaintArrays=function(t,e,n,r,i,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,r,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Lo.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,r)||this.needsUpload}},Lo.prototype.get=function(t){return this.programConfigurations[t]},Lo.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Lo.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},zr("ConstantBinder",Io),zr("CrossFadedConstantBinder",ko),zr("SourceExpressionBinder",So),zr("CrossFadedCompositeBinder",Mo),zr("CompositeExpressionBinder",To),zr("ProgramConfiguration",Do,{omit:["_buffers"]}),zr("ProgramConfigurationSet",Lo);var zo=Math.pow(2,14)-1,$o=-zo-1;function Ro(t){for(var e=8192/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o],A=Math.round(a.x*e),s=Math.round(a.y*e);a.x=c(A,$o,zo),a.y=c(s,$o,zo),(A<a.x||A>a.x+1||s<a.y||s>a.y+1)&&B("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Oo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Ro(t):[]}}function Ko(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Vo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Qi,this.indexArray=new Oi,this.segments=new so,this.programConfigurations=new Lo(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function No(t,e){for(var n=0;n<t.length;n++)if(ta(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(ta(t,e[r]))return!0;return!!Zo(t,e)}function Go(t,e,n){return!!ta(t,e)||!!Wo(e,t,n)}function jo(t,e){if(1===t.length)return Yo(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(ta(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(Yo(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(Zo(t,e[a]))return!0;return!1}function qo(t,e,n){if(t.length>1){if(Zo(t,e))return!0;for(var r=0;r<e.length;r++)if(Wo(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(Wo(t[i],e,n))return!0;return!1}function Zo(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(Xo(r,i,e[o],e[o+1]))return!0;return!1}function Xo(t,e,n,r){return b(t,n,r)!==b(e,n,r)&&b(t,e,n)!==b(t,e,r)}function Wo(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(Jo(t,e[i-1],e[i])<r)return!0;return!1}function Jo(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return t.distSqr(i<0?e:i>1?n:n.sub(e)._mult(i)._add(e))}function Yo(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var A=0,s=(n=t[a]).length-1;A<n.length;s=A++)(r=n[A]).y>e.y!=(i=n[s]).y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function ta(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ea(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=b(t,e,n[0]);return o!==b(t,e,n[1])||o!==b(t,e,n[2])||o!==b(t,e,n[3])}function na(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).getMaxValue(t)}function ra(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ia(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e)._mult(o);"viewport"===n&&a._rotate(-r);for(var A=[],s=0;s<t.length;s++)A.push(t[s].sub(a));return A}Vo.prototype.populate=function(t,e,n){var r=this.layers[0],i=[],o=null;"circle"===r.type&&(o=r.layout.get("circle-sort-key"));for(var a=0,A=t;a<A.length;a+=1){var s=A[a],u=s.feature,c=s.id,l=s.index,h=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,p=Oo(u,f);if(this.layers[0]._featureFilter.filter(new si(this.zoom),p,n)){var d=o?o.evaluate(p,{},n):void 0,g={id:c,properties:u.properties,type:u.type,sourceLayerIndex:h,index:l,geometry:f?p.geometry:Ro(u),patterns:{},sortKey:d};i.push(g)}}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var m=0,y=i;m<y.length;m+=1){var v=y[m],_=v.geometry,w=v.index,x=v.sourceLayerIndex,B=t[w].feature;this.addFeature(v,_,w,n),e.featureIndex.insert(B,_,w,x,this.index)}},Vo.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Vo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Vo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ao),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Vo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vo.prototype.addFeature=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1)for(var a=0,A=o[i];a<A.length;a+=1){var s=A[a],u=s.x,c=s.y;if(!(u<0||u>=8192||c<0||c>=8192)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),h=l.vertexLength;Ko(this.layoutVertexArray,u,c,-1,-1),Ko(this.layoutVertexArray,u,c,1,-1),Ko(this.layoutVertexArray,u,c,1,1),Ko(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),l.vertexLength+=4,l.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},r)},zr("CircleBucket",Vo,{omit:["layers"]});var oa=new xi({"circle-sort-key":new yi(Qt.layout_circle["circle-sort-key"])}),aa={paint:new xi({"circle-radius":new yi(Qt.paint_circle["circle-radius"]),"circle-color":new yi(Qt.paint_circle["circle-color"]),"circle-blur":new yi(Qt.paint_circle["circle-blur"]),"circle-opacity":new yi(Qt.paint_circle["circle-opacity"]),"circle-translate":new mi(Qt.paint_circle["circle-translate"]),"circle-translate-anchor":new mi(Qt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mi(Qt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mi(Qt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new yi(Qt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new yi(Qt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new yi(Qt.paint_circle["circle-stroke-opacity"])}),layout:oa},Aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ua(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],A=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],d=e[12],g=e[13],m=e[14],y=e[15],v=n[0],_=n[1],w=n[2],x=n[3];return t[0]=v*r+_*A+w*l+x*d,t[1]=v*i+_*s+w*h+x*g,t[2]=v*o+_*u+w*f+x*m,t[3]=v*a+_*c+w*p+x*y,t[4]=(v=n[4])*r+(_=n[5])*A+(w=n[6])*l+(x=n[7])*d,t[5]=v*i+_*s+w*h+x*g,t[6]=v*o+_*u+w*f+x*m,t[7]=v*a+_*c+w*p+x*y,t[8]=(v=n[8])*r+(_=n[9])*A+(w=n[10])*l+(x=n[11])*d,t[9]=v*i+_*s+w*h+x*g,t[10]=v*o+_*u+w*f+x*m,t[11]=v*a+_*c+w*p+x*y,t[12]=(v=n[12])*r+(_=n[13])*A+(w=n[14])*l+(x=n[15])*d,t[13]=v*i+_*s+w*h+x*g,t[14]=v*o+_*u+w*f+x*m,t[15]=v*a+_*c+w*p+x*y,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var ca,la,ha=ua;function fa(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}ca=new Aa(3),Aa!=Float32Array&&(ca[0]=0,ca[1]=0,ca[2]=0),la=new Aa(4),Aa!=Float32Array&&(la[0]=0,la[1]=0,la[2]=0,la[3]=0);var pa=(function(){var t=new Aa(2);Aa!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,aa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Vo(t)},e.prototype.queryRadius=function(t){var e=t;return na("circle-radius",this,e)+na("circle-stroke-width",this,e)+ra(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,A){for(var s=ia(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),l=c?s:function(t,e){return t.map((function(t){return da(t,e)}))}(s,A),h=c?u*a:u,f=0,p=r;f<p.length;f+=1)for(var d=0,g=p[f];d<g.length;d+=1){var m=g[d],y=c?m:da(m,A),v=h,_=fa([],[m.x,m.y,0,1],A);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=_[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=o.cameraToCenterDistance/_[3]),Go(l,y,v))return!0}return!1},e}(Bi));function da(t,e){var n=fa([],[t.x,t.y,0,1],e);return new i(n[0]/n[3],n[1]/n[3])}var ga=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Vo);function ma(t,e,n,r){var i=e.width,o=e.height;if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function ya(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=ma({},{width:r,height:i},n);va(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function va(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,A=e.data,s=0;s<i.height;s++)for(var u=((n.y+s)*t.width+n.x)*o,c=((r.y+s)*e.width+r.x)*o,l=0;l<i.width*o;l++)A[c+l]=a[u+l];return e}zr("HeatmapBucket",ga,{omit:["layers"]});var _a=function(t,e){ma(this,t,1,e)};_a.prototype.resize=function(t){ya(this,t,1)},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(t,e,n,r,i){va(t,e,n,r,i,1)};var wa=function(t,e){ma(this,t,4,e)};wa.prototype.resize=function(t){ya(this,t,4)},wa.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},wa.prototype.clone=function(){return new wa({width:this.width,height:this.height},new Uint8Array(this.data))},wa.copy=function(t,e,n,r,i){va(t,e,n,r,i,4)},zr("AlphaImage",_a),zr("RGBAImage",wa);var xa={paint:new xi({"heatmap-radius":new yi(Qt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new yi(Qt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mi(Qt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new wi(Qt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mi(Qt.paint_heatmap["heatmap-opacity"])})};function Ba(t){var e={},n=t.resolution||256,r=t.clips?t.clips.length:1,i=t.image||new wa({width:n,height:r}),o=function(n,r,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,A=0;a<r;++a,A+=4*n)for(var s=0,u=0;s<n;s++,u+=4){var c=s/(n-1),l=t.clips[a];o(A,u,l.start*(1-c)+l.end*c)}else for(var h=0,f=0;h<n;h++,f+=4)o(0,f,h/(n-1));return i}var ba=function(t){function e(e){t.call(this,e,xa),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new ga(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=Ba({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Bi),Ca={paint:new xi({"hillshade-illumination-direction":new mi(Qt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mi(Qt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mi(Qt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mi(Qt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mi(Qt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mi(Qt.paint_hillshade["hillshade-accent-color"])})},Fa=function(t){function e(e){t.call(this,e,Ca)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Bi),Ua=Ui([{name:"a_pos",components:2,type:"Int16"}],4).members,Ea=Ia,Qa=Ia;function Ia(t,e,n){n=n||2;var r,i,o,a,A,s,u,c=e&&e.length,l=c?e[0]*n:t.length,h=ka(t,0,l,n,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(t,e,n,r){var i,o,a,A=[];for(i=0,o=e.length;i<o;i++)(a=ka(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),A.push(Oa(a));for(A.sort(Ha),i=0;i<A.length;i++)za(A[i],n),n=Sa(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var p=n;p<l;p+=n)(A=t[p])<r&&(r=A),(s=t[p+1])<i&&(i=s),A>o&&(o=A),s>a&&(a=s);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Ta(h,f,n,r,i,u),f}function ka(t,e,n,r,i){var o,a;if(i===eA(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Ja(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Ja(o,t[o],t[o+1],a);return a&&Ga(a,a.next)&&(Ya(a),a=a.next),a}function Sa(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Ga(r,r.next)&&0!==Na(r.prev,r,r.next))r=r.next;else{if(Ya(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Ta(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Ra(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,A,s,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,A=0,e=0;e<u&&(A++,r=r.nextZ);e++);for(s=u;A>0||s>0&&r;)0!==A&&(0===s||!r||n.z<=r.z)?(i=n,n=n.nextZ,A--):(i=r,r=r.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,o);for(var A,s,u=t;t.prev!==t.next;)if(A=t.prev,s=t.next,o?Da(t,r,i,o):Ma(t))e.push(A.i/n),e.push(t.i/n),e.push(s.i/n),Ya(t),t=s.next,u=s.next;else if((t=s)===u){a?1===a?Ta(t=La(Sa(t),e,n),e,n,r,i,o,2):2===a&&Pa(t,e,n,r,i,o):Ta(Sa(t),e,n,r,i,o,1);break}}}function Ma(t){var e=t.prev,n=t,r=t.next;if(Na(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ka(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Na(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Da(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Na(i,o,a)>=0)return!1;for(var A=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,s=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Ra(i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,e,n,r),c=Ra(A,s,e,n,r),l=t.prevZ,h=t.nextZ;l&&l.z>=u&&h&&h.z<=c;){if(l!==t.prev&&l!==t.next&&Ka(i.x,i.y,o.x,o.y,a.x,a.y,l.x,l.y)&&Na(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,h!==t.prev&&h!==t.next&&Ka(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Na(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;l&&l.z>=u;){if(l!==t.prev&&l!==t.next&&Ka(i.x,i.y,o.x,o.y,a.x,a.y,l.x,l.y)&&Na(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;h&&h.z<=c;){if(h!==t.prev&&h!==t.next&&Ka(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Na(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function La(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ga(i,o)&&ja(i,r,r.next,o)&&Xa(i,o)&&Xa(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Ya(r),Ya(r.next),r=t=o),r=r.next}while(r!==t);return Sa(r)}function Pa(t,e,n,r,i,o){var a=t;do{for(var A=a.next.next;A!==a.prev;){if(a.i!==A.i&&Va(a,A)){var s=Wa(a,A);return a=Sa(a,a.next),s=Sa(s,s.next),Ta(a,e,n,r,i,o),void Ta(s,e,n,r,i,o)}A=A.next}a=a.next}while(a!==t)}function Ha(t,e){return t.x-e.x}function za(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var A=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(A<=i&&A>a){if(a=A,A===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var s,u=n,c=n.x,l=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ka(o<l?i:a,o,c,l,o<l?a:i,o,r.x,r.y)&&(s=Math.abs(o-r.y)/(i-r.x),Xa(r,t)&&(s<h||s===h&&(r.x>n.x||r.x===n.x&&$a(n,r)))&&(n=r,h=s)),r=r.next}while(r!==u);return n}(t,e)){var n=Wa(e,t);Sa(e,e.next),Sa(n,n.next)}}function $a(t,e){return Na(t.prev,t,e.prev)<0&&Na(e.next,t,t.next)<0}function Ra(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Oa(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Ka(t,e,n,r,i,o,a,A){return(i-a)*(e-A)-(t-a)*(o-A)>=0&&(t-a)*(r-A)-(n-a)*(e-A)>=0&&(n-a)*(o-A)-(i-a)*(r-A)>=0}function Va(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ja(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Xa(t,e)&&Xa(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(Na(t.prev,t,e.prev)||Na(t,e.prev,e))||Ga(t,e)&&Na(t.prev,t,t.next)>0&&Na(e.prev,e,e.next)>0)}function Na(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ga(t,e){return t.x===e.x&&t.y===e.y}function ja(t,e,n,r){var i=Za(Na(t,e,n)),o=Za(Na(t,e,r)),a=Za(Na(n,r,t)),A=Za(Na(n,r,e));return i!==o&&a!==A||!(0!==i||!qa(t,n,e))||!(0!==o||!qa(t,r,e))||!(0!==a||!qa(n,t,r))||!(0!==A||!qa(n,e,r))}function qa(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Za(t){return t>0?1:t<0?-1:0}function Xa(t,e){return Na(t.prev,t,t.next)<0?Na(t,e,t.next)>=0&&Na(t,t.prev,e)>=0:Na(t,e,t.prev)<0||Na(t,t.next,e)<0}function Wa(t,e){var n=new tA(t.i,t.x,t.y),r=new tA(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ja(t,e,n,r){var i=new tA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ya(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function tA(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function eA(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function nA(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,A=n-r+1,s=Math.log(a),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(a-u)/a)*(A-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-A*u/a+c)),Math.min(i,Math.floor(n+(a-A)*u/a+c)),o)}var l=e[n],h=r,f=i;for(rA(e,r,n),o(e[i],l)>0&&rA(e,r,i);h<f;){for(rA(e,h,f),h++,f--;o(e[h],l)<0;)h++;for(;o(e[f],l)>0;)f--}0===o(e[r],l)?rA(e,r,f):rA(e,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(t,e,n||0,r||t.length-1,i||iA)}function rA(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function iA(t,e){return t<e?-1:t>e?1:0}function oA(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var A=C(t[a]);0!==A&&(t[a].area=Math.abs(A),void 0===i&&(i=A<0),i===A<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var s=0;s<o.length;s++)o[s].length<=e||(nA(o[s],e,1,o[s].length-1,aA),o[s]=o[s].slice(0,e));return o}function aA(t,e){return e.area-t.area}function AA(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var A=a[o].paint.get(t+"-pattern");A.isConstant()||(i=!0);var s=A.constantOr(null);s&&(i=!0,r[s.to]=!0,r[s.from]=!0)}return i}function sA(t,e,n,r,i){for(var o=i.patternDependencies,a=0,A=e;a<A.length;a+=1){var s=A[a],u=s.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{},i.availableImages),l=u.evaluate({zoom:r},n,{},i.availableImages),h=u.evaluate({zoom:r+1},n,{},i.availableImages);l=l&&l.name?l.name:l,h=h&&h.name?h.name:h,o[c=c&&c.name?c.name:c]=!0,o[l]=!0,o[h]=!0,n.patterns[s.id]={min:c,mid:l,max:h}}}return n}Ia.deviation=function(t,e,n,r){var i=e&&e.length,o=Math.abs(eA(t,0,i?e[0]*n:t.length,n));if(i)for(var a=0,A=e.length;a<A;a++)o-=Math.abs(eA(t,e[a]*n,a<A-1?e[a+1]*n:t.length,n));var s=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,l=r[a+2]*n;s+=Math.abs((t[u]-t[l])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[l+1]-t[u+1]))}return 0===o&&0===s?0:Math.abs((s-o)/o)},Ia.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&n.holes.push(r+=t[i-1].length)}return n},Ea.default=Qa;var uA=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Qi,this.indexArray=new Oi,this.indexArray2=new qi,this.programConfigurations=new Lo(t.layers,t.zoom),this.segments=new so,this.segments2=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};uA.prototype.populate=function(t,e,n){this.hasPattern=AA("fill",this.layers,e);for(var r=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var A=a[o],s=A.feature,u=A.id,c=A.index,l=A.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,f=Oo(s,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var p=r?r.evaluate(f,{},n,e.availableImages):void 0,d={id:u,properties:s.properties,type:s.type,sourceLayerIndex:l,index:c,geometry:h?f.geometry:Ro(s),patterns:{},sortKey:p};i.push(d)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,m=i;g<m.length;g+=1){var y=m[g],v=y.geometry,_=y.index,w=y.sourceLayerIndex;if(this.hasPattern){var x=sA("fill",this.layers,y,this.zoom,e);this.patternFeatures.push(x)}else this.addFeature(y,v,_,n,{});e.featureIndex.insert(t[_].feature,v,_,w,this.index)}},uA.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},uA.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},uA.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},uA.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uA.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ua),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},uA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},uA.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=oA(e,500);o<a.length;o+=1){for(var A=a[o],s=0,u=0,c=A;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),h=l.vertexLength,f=[],p=[],d=0,g=A;d<g.length;d+=1){var m=g[d];if(0!==m.length){m!==A[0]&&p.push(f.length/2);var y=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),v=y.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(v+m.length-1,v),f.push(m[0].x),f.push(m[0].y);for(var _=1;_<m.length;_++)this.layoutVertexArray.emplaceBack(m[_].x,m[_].y),this.indexArray2.emplaceBack(v+_-1,v+_),f.push(m[_].x),f.push(m[_].y);y.vertexLength+=m.length,y.primitiveLength+=m.length}}for(var w=Ea(f,p),x=0;x<w.length;x+=3)this.indexArray.emplaceBack(h+w[x],h+w[x+1],h+w[x+2]);l.vertexLength+=s,l.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},zr("FillBucket",uA,{omit:["layers","patternFeatures"]});var cA=new xi({"fill-sort-key":new yi(Qt.layout_fill["fill-sort-key"])}),lA={paint:new xi({"fill-antialias":new mi(Qt.paint_fill["fill-antialias"]),"fill-opacity":new yi(Qt.paint_fill["fill-opacity"]),"fill-color":new yi(Qt.paint_fill["fill-color"]),"fill-outline-color":new yi(Qt.paint_fill["fill-outline-color"]),"fill-translate":new mi(Qt.paint_fill["fill-translate"]),"fill-translate-anchor":new mi(Qt.paint_fill["fill-translate-anchor"]),"fill-pattern":new vi(Qt.paint_fill["fill-pattern"])}),layout:cA},hA=function(t){function e(e){t.call(this,e,lA)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new uA(t)},e.prototype.queryRadius=function(){return ra(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return jo(ia(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(Bi),fA=Ui([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,pA=dA;function dA(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(gA,this,e)}function gA(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function mA(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)r+=((n=t[a]).x-(e=t[i]).x)*(e.y+n.y);return r}dA.types=["Unknown","Point","LineString","Polygon"],dA.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,A=0,s=[];t.pos<n;){if(o<=0){var u=t.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=t.readSVarint(),A+=t.readSVarint(),1===r&&(e&&s.push(e),e=[]),e.push(new i(a,A));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&s.push(e),s},dA.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,A=-1/0,s=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>A&&(A=i),(o+=t.readSVarint())<s&&(s=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,s,A,u]},dA.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,A=this.extent*e,s=this.loadGeometry(),u=dA.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+A)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var l=[];for(r=0;r<s.length;r++)l[r]=s[r][0];c(s=l);break;case 2:for(r=0;r<s.length;r++)c(s[r]);break;case 3:for(s=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=mA(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(s),r=0;r<s.length;r++)for(i=0;i<s[r].length;i++)c(s[r][i])}1===s.length?s=s[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:s},properties:this.properties};return"id"in this&&(h.id=this.id),h};var yA=vA;function vA(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(_A,this,e),this.length=this._features.length}function _A(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function wA(t,e,n){if(3===t){var r=new yA(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}vA.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new pA(this._pbf,e,this.extent,this._keys,this._values)};var xA={VectorTile:function(t,e){this.layers=t.readFields(wA,{},e)},VectorTileFeature:pA,VectorTileLayer:yA},BA=xA.VectorTileFeature.types,bA=Math.pow(2,13);function CA(t,e,n,r,i,o,a,A){t.emplaceBack(e,n,2*Math.floor(r*bA)+a,i*bA*2,o*bA*2,Math.round(A))}var FA=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ki,this.indexArray=new Oi,this.programConfigurations=new Lo(t.layers,t.zoom),this.segments=new so,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function UA(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}FA.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=AA("fill-extrusion",this.layers,e);for(var r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.feature,A=o.id,s=o.index,u=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,l=Oo(a,c);if(this.layers[0]._featureFilter.filter(new si(this.zoom),l,n)){var h={id:A,sourceLayerIndex:u,index:s,geometry:c?l.geometry:Ro(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(sA("fill-extrusion",this.layers,h,this.zoom,e)):this.addFeature(h,h.geometry,s,n,{}),e.featureIndex.insert(a,h.geometry,s,u,this.index,!0)}}},FA.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.features;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},FA.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},FA.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},FA.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},FA.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,fA),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},FA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},FA.prototype.addFeature=function(t,e,n,r,i){for(var o=0,a=oA(e,500);o<a.length;o+=1){for(var A=a[o],s=0,u=0,c=A;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=0,f=A;h<f.length;h+=1){var p=f[h];if(0!==p.length&&!((S=p).every((function(t){return t.x<0}))||S.every((function(t){return t.x>8192}))||S.every((function(t){return t.y<0}))||S.every((function(t){return t.y>8192}))))for(var d=0,g=0;g<p.length;g++){var m=p[g];if(g>=1){var y=p[g-1];if(!UA(m,y)){l.vertexLength+4>so.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=m.sub(y)._perp()._unit(),_=y.dist(m);d+_>32768&&(d=0),CA(this.layoutVertexArray,m.x,m.y,v.x,v.y,0,0,d),CA(this.layoutVertexArray,m.x,m.y,v.x,v.y,0,1,d),CA(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,d+=_),CA(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,d);var w=l.vertexLength;this.indexArray.emplaceBack(w,w+2,w+1),this.indexArray.emplaceBack(w+1,w+2,w+3),l.vertexLength+=4,l.primitiveLength+=2}}}}if(l.vertexLength+s>so.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===BA[t.type]){for(var x=[],B=[],b=l.vertexLength,C=0,F=A;C<F.length;C+=1){var U=F[C];if(0!==U.length){U!==A[0]&&B.push(x.length/2);for(var E=0;E<U.length;E++){var Q=U[E];CA(this.layoutVertexArray,Q.x,Q.y,0,0,1,1,0),x.push(Q.x),x.push(Q.y)}}}for(var I=Ea(x,B),k=0;k<I.length;k+=3)this.indexArray.emplaceBack(b+I[k],b+I[k+2],b+I[k+1]);l.primitiveLength+=I.length/3,l.vertexLength+=s}}var S;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},zr("FillExtrusionBucket",FA,{omit:["layers","features"]});var EA={paint:new xi({"fill-extrusion-opacity":new mi(Qt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new yi(Qt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mi(Qt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mi(Qt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new vi(Qt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new yi(Qt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new yi(Qt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mi(Qt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},QA=function(t){function e(e){t.call(this,e,EA)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new FA(t)},e.prototype.queryRadius=function(){return ra(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,A,s){var u=ia(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,A),c=this.paint.get("fill-extrusion-height").evaluate(e,n),l=this.paint.get("fill-extrusion-base").evaluate(e,n),h=function(t,e,n,r){for(var o=[],a=0,A=t;a<A.length;a+=1){var s=A[a],u=[s.x,s.y,0,1];fa(u,u,e),o.push(new i(u[0]/u[3],u[1]/u[3]))}return o}(u,s),f=function(t,e,n,r){for(var o=[],a=[],A=r[8]*e,s=r[9]*e,u=r[10]*e,c=r[11]*e,l=r[8]*n,h=r[9]*n,f=r[10]*n,p=r[11]*n,d=0,g=t;d<g.length;d+=1){for(var m=[],y=[],v=0,_=g[d];v<_.length;v+=1){var w=_[v],x=w.x,B=w.y,b=r[0]*x+r[4]*B+r[12],C=r[1]*x+r[5]*B+r[13],F=r[2]*x+r[6]*B+r[14],U=r[3]*x+r[7]*B+r[15],E=F+u,Q=U+c,I=b+l,k=C+h,S=F+f,T=U+p,M=new i((b+A)/Q,(C+s)/Q);M.z=E/Q,m.push(M);var D=new i(I/T,k/T);D.z=S/T,y.push(D)}o.push(m),a.push(y)}return[o,a]}(r,l,c,s);return function(t,e,n){var r=1/0;jo(n,e)&&(r=kA(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],A=0;A<o.length-1;A++){var s=o[A],u=[s,o[A+1],a[A+1],a[A],s];No(n,u)&&(r=Math.min(r,kA(n,u)))}return r!==1/0&&r}(f[0],f[1],h)},e}(Bi);function IA(t,e){return t.x*e.x+t.y*e.y}function kA(t,e){if(1===t.length){for(var n,r=0,i=e[r++];!n||i.equals(n);)if(!(n=e[r++]))return 1/0;for(;r<e.length;r++){var o=e[r],a=t[0],A=n.sub(i),s=o.sub(i),u=a.sub(i),c=IA(A,A),l=IA(A,s),h=IA(s,s),f=IA(u,A),p=IA(u,s),d=c*h-l*l,g=(h*f-l*p)/d,m=(c*p-l*f)/d,y=i.z*(1-g-m)+n.z*g+o.z*m;if(isFinite(y))return y}return 1/0}for(var v=1/0,_=0,w=e;_<w.length;_+=1)v=Math.min(v,w[_].z);return v}var SA=Ui([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,TA=Ui([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,MA=xA.VectorTileFeature.types,DA=Math.cos(Math.PI/180*37.5),LA=Math.pow(2,14)/.5,PA=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(t){e.gradients[t.id]={}})),this.layoutVertexArray=new Si,this.layoutVertexArray2=new Ti,this.indexArray=new Oi,this.programConfigurations=new Lo(t.layers,t.zoom),this.segments=new so,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};PA.prototype.populate=function(t,e,n){this.hasPattern=AA("line",this.layers,e);for(var r=this.layers[0].layout.get("line-sort-key"),i=[],o=0,a=t;o<a.length;o+=1){var A=a[o],s=A.feature,u=A.id,c=A.index,l=A.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,f=Oo(s,h);if(this.layers[0]._featureFilter.filter(new si(this.zoom),f,n)){var p=r?r.evaluate(f,{},n):void 0,d={id:u,properties:s.properties,type:s.type,sourceLayerIndex:l,index:c,geometry:h?f.geometry:Ro(s),patterns:{},sortKey:p};i.push(d)}}r&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,m=i;g<m.length;g+=1){var y=m[g],v=y.geometry,_=y.index,w=y.sourceLayerIndex;if(this.hasPattern){var x=sA("line",this.layers,y,this.zoom,e);this.patternFeatures.push(x)}else this.addFeature(y,v,_,n,{});e.featureIndex.insert(t[_].feature,v,_,w,this.index)}},PA.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},PA.prototype.addFeatures=function(t,e,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var o=i[r];this.addFeature(o,o.geometry,o.index,e,n)}},PA.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},PA.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},PA.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,TA)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,SA),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},PA.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},PA.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},PA.prototype.addFeature=function(t,e,n,r,i){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),A=o.get("line-cap"),s=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,l=e;c<l.length;c+=1)this.addLine(l[c],t,a,A,s,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i,r)},PA.prototype.addLine=function(t,e,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var A="Polygon"===MA[e.type],s=t.length;s>=2&&t[s-1].equals(t[s-2]);)s--;for(var u=0;u<s-1&&t[u].equals(t[u+1]);)u++;if(!(s<(A?3:2))){"bevel"===n&&(i=1.05);var c,l=this.overscaling<=16?122880/(512*this.overscaling):0,h=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray),f=void 0,p=void 0,d=void 0,g=void 0;this.e1=this.e2=-1,A&&(g=t[u].sub(c=t[s-2])._unit()._perp());for(var m=u;m<s;m++)if(!(p=m===s-1?A?t[u+1]:void 0:t[m+1])||!t[m].equals(p)){g&&(d=g),c&&(f=c),c=t[m],g=p?p.sub(c)._unit()._perp():d;var y=(d=d||g).add(g);0===y.x&&0===y.y||y._unit();var v=d.x*g.x+d.y*g.y,_=y.x*g.x+y.y*g.y,w=0!==_?1/_:1/0,x=2*Math.sqrt(2-2*_),B=_<DA&&f&&p,b=d.x*g.y-d.y*g.x>0;if(B&&m>u){var C=c.dist(f);if(C>2*l){var F=c.sub(c.sub(f)._mult(l/C)._round());this.updateDistance(f,F),this.addCurrentVertex(F,d,0,0,h),f=F}}var U=f&&p,E=U?n:A?"butt":r;if(U&&"round"===E&&(w<o?E="miter":w<=2&&(E="fakeround")),"miter"===E&&w>i&&(E="bevel"),"bevel"===E&&(w>2&&(E="flipbevel"),w<i&&(E="miter")),f&&this.updateDistance(f,c),"miter"===E)y._mult(w),this.addCurrentVertex(c,y,0,0,h);else if("flipbevel"===E){if(w>100)y=g.mult(-1);else{var Q=w*d.add(g).mag()/d.sub(g).mag();y._perp()._mult(Q*(b?-1:1))}this.addCurrentVertex(c,y,0,0,h),this.addCurrentVertex(c,y.mult(-1),0,0,h)}else if("bevel"===E||"fakeround"===E){var I=-Math.sqrt(w*w-1),k=b?I:0,S=b?0:I;if(f&&this.addCurrentVertex(c,d,k,S,h),"fakeround"===E)for(var T=Math.round(180*x/Math.PI/20),M=1;M<T;M++){var D=M/T;if(.5!==D){var L=D-.5;D+=D*L*(D-1)*((1.0904+v*(v*(3.55645-1.43519*v)-3.2452))*L*L+(.848013+v*(.215638*v-1.06021)))}var P=g.sub(d)._mult(D)._add(d)._unit()._mult(b?-1:1);this.addHalfVertex(c,P.x,P.y,!1,b,0,h)}p&&this.addCurrentVertex(c,g,-k,-S,h)}else if("butt"===E)this.addCurrentVertex(c,y,0,0,h);else if("square"===E){var H=f?1:-1;this.addCurrentVertex(c,y,H,H,h)}else"round"===E&&(f&&(this.addCurrentVertex(c,d,0,0,h),this.addCurrentVertex(c,d,1,1,h,!0)),p&&(this.addCurrentVertex(c,g,-1,-1,h,!0),this.addCurrentVertex(c,g,0,0,h)));if(B&&m<s-1){var z=c.dist(p);if(z>2*l){var $=c.add(p.sub(c)._mult(l/z)._round());this.updateDistance(c,$),this.addCurrentVertex($,g,0,0,h),c=$}}}}},PA.prototype.addCurrentVertex=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=e.y*r-e.x,A=-e.y-e.x*r;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,i),this.addHalfVertex(t,a,A,o,!0,-r,i),this.distance>LA/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,r,i,o))},PA.prototype.addHalfVertex=function(t,e,n,r,i,o,a){var A=.5*(this.lineClips?this.scaledDistance*(LA-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(r?1:0),(t.y<<1)+(i?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&A)<<2,A>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var s=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,s),a.primitiveLength++),i?this.e2=s:this.e1=s},PA.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},PA.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},zr("LineBucket",PA,{omit:["layers","patternFeatures"]});var HA=new xi({"line-cap":new mi(Qt.layout_line["line-cap"]),"line-join":new yi(Qt.layout_line["line-join"]),"line-miter-limit":new mi(Qt.layout_line["line-miter-limit"]),"line-round-limit":new mi(Qt.layout_line["line-round-limit"]),"line-sort-key":new yi(Qt.layout_line["line-sort-key"])}),zA={paint:new xi({"line-opacity":new yi(Qt.paint_line["line-opacity"]),"line-color":new yi(Qt.paint_line["line-color"]),"line-translate":new mi(Qt.paint_line["line-translate"]),"line-translate-anchor":new mi(Qt.paint_line["line-translate-anchor"]),"line-width":new yi(Qt.paint_line["line-width"]),"line-gap-width":new yi(Qt.paint_line["line-gap-width"]),"line-offset":new yi(Qt.paint_line["line-offset"]),"line-blur":new yi(Qt.paint_line["line-blur"]),"line-dasharray":new _i(Qt.paint_line["line-dasharray"]),"line-pattern":new vi(Qt.paint_line["line-pattern"]),"line-gradient":new wi(Qt.paint_line["line-gradient"])}),layout:HA},$A=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new si(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=h({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(yi))(zA.paint.properties["line-width"].specification);$A.useIntegerZoom=!0;var RA=function(t){function e(e){t.call(this,e,zA),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ke,this.gradientVersion=(this.gradientVersion+1)%A)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=$A.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new PA(t)},e.prototype.queryRadius=function(t){var e=t,n=OA(na("line-width",this,e),na("line-gap-width",this,e)),r=na("line-offset",this,e);return n/2+Math.abs(r)+ra(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,A){var s=ia(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,A),u=A/2*OA(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],A=[],s=0;s<a.length;s++){var u=a[s],c=a[s+1],l=0===s?r:u.sub(a[s-1])._unit()._perp(),h=s===a.length-1?r:c.sub(u)._unit()._perp(),f=l._add(h)._unit();f._mult(1/(f.x*h.x+f.y*h.y)),A.push(f._mult(e)._add(u))}n.push(A)}return n}(r,c*A)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(ta(t,i[o]))return!0;if(qo(t,i,n))return!0}return!1}(s,r,u)},e.prototype.isTileClipped=function(){return!0},e}(Bi);function OA(t,e){return e>0?e+2*t:t}var KA=Ui([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),VA=Ui([{name:"a_projected_pos",components:3,type:"Float32"}],4),NA=(Ui([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Ui([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),GA=(Ui([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Ui([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),jA=Ui([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qA(t,e,n){return t.sections.forEach((function(t){var r,i,o;t.text=(r=t.text,i=n,"uppercase"===(o=e.layout.get("text-transform").evaluate(i,{}))?r=r.toLocaleUpperCase():"lowercase"===o&&(r=r.toLocaleLowerCase()),Ai.applyArabicShaping&&(r=Ai.applyArabicShaping(r)),r)})),t}Ui([{name:"triangle",components:3,type:"Uint16"}]),Ui([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ui([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ui([{type:"Float32",name:"offsetX"}]),Ui([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ZA={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},XA=function(t,e,n,r,i){var o,a,A=8*i-r-1,s=(1<<A)-1,u=s>>1,c=-7,l=n?i-1:0,h=n?-1:1,f=t[e+l];for(l+=h,o=f&(1<<-c)-1,f>>=-c,c+=A;c>0;o=256*o+t[e+l],l+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+l],l+=h,c-=8);if(0===o)o=1-u;else{if(o===s)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},WA=function(t,e,n,r,i,o){var a,A,s,u=8*o-i-1,c=(1<<u)-1,l=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(A=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=c?(A=0,a=c):a+l>=1?(A=(e*s-1)*Math.pow(2,i),a+=l):(A=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&A,f+=p,A/=256,i-=8);for(a=a<<i|A,u+=i;u>0;t[n+f]=255&a,f+=p,a/=256,u-=8);t[n+f-p]|=128*d},JA=YA;function YA(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}YA.Varint=0,YA.Fixed64=1,YA.Bytes=2,YA.Fixed32=5;var ts="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function es(t){return t.type===YA.Bytes?t.readVarint()+t.pos:t.pos+1}function ns(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function rs(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function is(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function os(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function as(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function As(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function ss(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function us(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function cs(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function ls(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function hs(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function fs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function ps(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function ds(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function gs(t,e,n){1===t&&n.readMessage(ms,e)}function ms(t,e,n){if(3===t){var r=n.readMessage(ys,{}),i=r.width,o=r.height,a=r.left,A=r.top,s=r.advance;e.push({id:r.id,bitmap:new _a({width:i+6,height:o+6},r.bitmap),metrics:{width:i,height:o,left:a,top:A,advance:s}})}}function ys(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function vs(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],A=0,s=0,u=0,c=t;u<c.length;u+=1)for(var l=c[u],h=a.length-1;h>=0;h--){var f=a[h];if(!(l.w>f.w||l.h>f.h)){if(l.x=f.x,l.y=f.y,s=Math.max(s,l.y+l.h),A=Math.max(A,l.x+l.w),l.w===f.w&&l.h===f.h){var p=a.pop();h<a.length&&(a[h]=p)}else l.h===f.h?(f.x+=l.w,f.w-=l.w):l.w===f.w?(f.y+=l.h,f.h-=l.h):(a.push({x:f.x+l.w,y:f.y,w:f.w-l.w,h:l.h}),f.y+=l.h,f.h-=l.h);break}}return{w:A,h:s,fill:e/(A*s)||0}}YA.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=fs(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=ds(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=fs(this.buf,this.pos)+4294967296*fs(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=fs(this.buf,this.pos)+4294967296*ds(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=XA(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=XA(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return ns(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return ns(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return ns(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return ns(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return ns(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return ns(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&ts?function(t,e,n){return ts.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,A,s=t[i],u=null,c=s>239?4:s>223?3:s>191?2:1;if(i+c>n)break;1===c?s<128&&(u=s):2===c?128==(192&(o=t[i+1]))&&(u=(31&s)<<6|63&o)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(o=t[i+1]))&&128==(192&a)&&((u=(15&s)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],A=t[i+3],128==(192&(o=t[i+1]))&&128==(192&a)&&128==(192&A)&&((u=(15&s)<<18|(63&o)<<12|(63&a)<<6|63&A)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==YA.Bytes)return t.push(this.readVarint(e));var n=es(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==YA.Bytes)return t.push(this.readSVarint());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==YA.Bytes)return t.push(this.readBoolean());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==YA.Bytes)return t.push(this.readFloat());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==YA.Bytes)return t.push(this.readDouble());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==YA.Bytes)return t.push(this.readFixed32());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==YA.Bytes)return t.push(this.readSFixed32());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==YA.Bytes)return t.push(this.readFixed64());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==YA.Bytes)return t.push(this.readSFixed64());var e=es(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===YA.Varint)for(;this.buf[this.pos++]>127;);else if(e===YA.Bytes)this.pos=this.readVarint()+this.pos;else if(e===YA.Fixed32)this.pos+=4;else{if(e!==YA.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),ps(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),ps(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),ps(this.buf,-1&t,this.pos),ps(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),ps(this.buf,-1&t,this.pos),ps(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r,i,o;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),i=n,(o=e).buf[o.pos++]=127&i|128,i>>>=7,o.buf[o.pos++]=127&i|128,i>>>=7,o.buf[o.pos++]=127&i|128,i>>>=7,o.buf[o.pos++]=127&i|128,o.buf[o.pos]=127&(i>>>=7),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&rs(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),WA(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),WA(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&rs(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,YA.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,is,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,os,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,ss,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,as,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,As,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,us,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,cs,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,ls,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,hs,e)},writeBytesField:function(t,e){this.writeTag(t,YA.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,YA.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,YA.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,YA.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,YA.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,YA.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,YA.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,YA.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,YA.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,YA.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var _s=function(t,e){var n=e.pixelRatio,r=e.version,i=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=o,this.content=a,this.version=r},ws={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ws.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ws.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ws.tlbr.get=function(){return this.tl.concat(this.br)},ws.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(_s.prototype,ws);var xs=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=vs(i),a=new wa({width:o.w||1,height:o.h||1});for(var A in t){var s=t[A],u=n[A].paddedRect;wa.copy(s.data,a,{x:0,y:0},{x:u.x+1,y:u.y+1},s.data)}for(var c in e){var l=e[c],h=r[c].paddedRect,f=h.x+1,p=h.y+1,d=l.data.width,g=l.data.height;wa.copy(l.data,a,{x:0,y:0},{x:f,y:p},l.data),wa.copy(l.data,a,{x:0,y:g-1},{x:f,y:p-1},{width:d,height:1}),wa.copy(l.data,a,{x:0,y:0},{x:f,y:p+g},{width:d,height:1}),wa.copy(l.data,a,{x:d-1,y:0},{x:f-1,y:p},{width:1,height:g}),wa.copy(l.data,a,{x:0,y:0},{x:f+d,y:p},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=r};xs.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new _s(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},xs.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},xs.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl;n.update(e.data,void 0,{x:r[0],y:r[1]})}},zr("ImagePosition",_s),zr("ImageAtlas",xs);var Bs={horizontal:1,vertical:2,horizontalOnly:3},bs=function(){this.scale=1,this.fontStack="",this.imageName=null};bs.forText=function(t,e){var n=new bs;return n.scale=t||1,n.fontStack=e,n},bs.forImage=function(t){var e=new bs;return e.imageName=t,e};var Cs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Fs(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d){var g,m=Cs.fromFeature(t,i);l===Bs.vertical&&m.verticalizePunctuation();var y=Ai.processBidirectionalText,v=Ai.processStyledBidirectionalText;if(y&&1===m.sections.length){g=[];for(var _=0,w=y(m.toString(),Ts(m,u,o,e,r,f,p));_<w.length;_+=1){var x=w[_],B=new Cs;B.text=x,B.sections=m.sections;for(var b=0;b<x.length;b++)B.sectionIndex.push(0);g.push(B)}}else if(v){g=[];for(var C=0,F=v(m.text,m.sectionIndex,Ts(m,u,o,e,r,f,p));C<F.length;C+=1){var U=F[C],E=new Cs;E.text=U[0],E.sectionIndex=U[1],E.sections=m.sections,g.push(E)}}else g=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var A=a[o];n.push(t.substring(i,A)),i=A}return i<r.length&&n.push(t.substring(i,r.length)),n}(m,Ts(m,u,o,e,r,f,p));var Q=[],I={positionedLines:Q,text:m.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:l,iconsInText:!1,verticalizable:!1};return function(t,e,n,r,i,o,a,A,s,u,c,l){for(var h=0,f=-17,p=0,d=0,g="right"===A?1:"left"===A?0:.5,m=0,y=0,v=i;y<v.length;y+=1){var _=v[y];_.trim();var w=_.getMaxScale(),x=24*(w-1),B={positionedGlyphs:[],lineOffset:0};t.positionedLines[m]=B;var b=B.positionedGlyphs,C=0;if(_.length()){for(var F=0;F<_.length();F++){var U=_.getSection(F),E=_.getSectionIndex(F),Q=_.getCharCode(F),I=0,k=null,S=null,T=null,M=24,D=!(s===Bs.horizontal||!c&&!qr(Q)||c&&(Us[Q]||(V=Q,Gr.Arabic(V)||Gr["Arabic Supplement"](V)||Gr["Arabic Extended-A"](V)||Gr["Arabic Presentation Forms-A"](V)||Gr["Arabic Presentation Forms-B"](V))));if(U.imageName){var L=r[U.imageName];if(!L)continue;T=U.imageName,t.iconsInText=t.iconsInText||!0,S=L.paddedRect;var P=L.displaySize;U.scale=24*U.scale/l,I=x+(24-P[1]*U.scale),M=(k={width:P[0],height:P[1],left:1,top:-3,advance:D?P[1]:P[0]}).advance;var H=D?P[0]*U.scale-24*w:P[1]*U.scale-24*w;H>0&&H>C&&(C=H)}else{var z=n[U.fontStack],$=z&&z[Q];if($&&$.rect)S=$.rect,k=$.metrics;else{var R=e[U.fontStack],O=R&&R[Q];if(!O)continue;k=O.metrics}I=24*(w-U.scale)}D?(t.verticalizable=!0,b.push({glyph:Q,imageName:T,x:h,y:f+I,vertical:D,scale:U.scale,fontStack:U.fontStack,sectionIndex:E,metrics:k,rect:S}),h+=M*U.scale+u):(b.push({glyph:Q,imageName:T,x:h,y:f+I,vertical:D,scale:U.scale,fontStack:U.fontStack,sectionIndex:E,metrics:k,rect:S}),h+=k.advance*U.scale+u)}0!==b.length&&(p=Math.max(h-u,p),Ds(b,0,b.length-1,g,C)),h=0;var K=o*w+C;B.lineOffset=Math.max(C,x),f+=K,d=Math.max(K,d),++m}else f+=o,++m}var V,N=f- -17,G=Ms(a),j=G.horizontalAlign,q=G.verticalAlign;(function(t,e,n,r,i,o,a,A,s){var u,c=(e-n)*i;u=o!==a?-A*r- -17:(-r*s+.5)*a;for(var l=0,h=t;l<h.length;l+=1)for(var f=0,p=h[l].positionedGlyphs;f<p.length;f+=1){var d=p[f];d.x+=c,d.y+=u}})(t.positionedLines,g,j,q,p,d,o,N,i.length),t.top+=-q*N,t.bottom=t.top+N,t.left+=-j*p,t.right=t.left+p}(I,e,n,r,g,a,A,s,l,u,h,d),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(Q)&&I}Cs.fromFeature=function(t,e){for(var n=new Cs,r=0;r<t.sections.length;r++){var i=t.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,e)}return n},Cs.prototype.length=function(){return this.text.length},Cs.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},Cs.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},Cs.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},Cs.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;e+=r&&Zr(r)&&!ZA[t[n+1]]||i&&Zr(i)&&!ZA[t[n-1]]||!ZA[t[n]]?t[n]:ZA[t[n]]}return e}(this.text)},Cs.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Us[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&Us[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},Cs.prototype.substring=function(t,e){var n=new Cs;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},Cs.prototype.toString=function(){return this.text},Cs.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},Cs.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(bs.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,r=0;r<t.text.length;++r)this.sectionIndex.push(n)},Cs.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(bs.forImage(e)),this.sectionIndex.push(this.sections.length-1)):B("Reached maximum number of images 6401")}else B("Can't add FormattedSection with an empty image.")},Cs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Us={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Es={};function Qs(t,e,n,r,i,o){if(e.imageName){var a=r[e.imageName];return a?a.displaySize[0]*e.scale*24/o+i:0}var A=n[e.fontStack],s=A&&A[t];return s?s.metrics.advance*e.scale+i:0}function Is(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function ks(t,e,n){var r=0;return 10===t&&(r-=1e4),n&&(r+=150),40!==t&&65288!==t||(r+=50),41!==e&&65289!==e||(r+=50),r}function Ss(t,e,n,r,i,o){for(var a=null,A=Is(e,n,i,o),s=0,u=r;s<u.length;s+=1){var c=u[s],l=Is(e-c.x,n,i,o)+c.badness;l<=A&&(a=c,A=l)}return{index:t,x:e,priorBreak:a,badness:A}}function Ts(t,e,n,r,i,o,a){if("point"!==o)return[];if(!t)return[];for(var A,s=[],u=function(t,e,n,r,i,o){for(var a=0,A=0;A<t.length();A++){var s=t.getSection(A);a+=Qs(t.getCharCode(A),s,r,i,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,r,i,a),c=t.text.indexOf("​")>=0,l=0,h=0;h<t.length();h++){var f=t.getSection(h),p=t.getCharCode(h);if(Us[p]||(l+=Qs(p,f,r,i,e,a)),h<t.length()-1){var d=!((A=p)<11904||!(Gr["Bopomofo Extended"](A)||Gr.Bopomofo(A)||Gr["CJK Compatibility Forms"](A)||Gr["CJK Compatibility Ideographs"](A)||Gr["CJK Compatibility"](A)||Gr["CJK Radicals Supplement"](A)||Gr["CJK Strokes"](A)||Gr["CJK Symbols and Punctuation"](A)||Gr["CJK Unified Ideographs Extension A"](A)||Gr["CJK Unified Ideographs"](A)||Gr["Enclosed CJK Letters and Months"](A)||Gr["Halfwidth and Fullwidth Forms"](A)||Gr.Hiragana(A)||Gr["Ideographic Description Characters"](A)||Gr["Kangxi Radicals"](A)||Gr["Katakana Phonetic Extensions"](A)||Gr.Katakana(A)||Gr["Vertical Forms"](A)||Gr["Yi Radicals"](A)||Gr["Yi Syllables"](A)));(Es[p]||d||f.imageName)&&s.push(Ss(h+1,l,u,s,ks(p,t.getCharCode(h+1),d&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Ss(t.length(),l,u,s,0,!0))}function Ms(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Ds(t,e,n,r,i){if(r||i)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*r,A=e;A<=n;A++)t[A].x-=a,t[A].y+=i}function Ls(t,e,n,r,i,o){var a,A=t.image;if(A.content){var s=A.content,u=A.pixelRatio||1;a=[s[0]/u,s[1]/u,A.displaySize[0]-s[2]/u,A.displaySize[1]-s[3]/u]}var c,l,h,f,p=e.left*o,d=e.right*o;"width"===n||"both"===n?(f=i[0]+p-r[3],l=i[0]+d+r[1]):l=(f=i[0]+(p+d-A.displaySize[0])/2)+A.displaySize[0];var g=e.top*o,m=e.bottom*o;return"height"===n||"both"===n?(c=i[1]+g-r[0],h=i[1]+m+r[2]):h=(c=i[1]+(g+m-A.displaySize[1])/2)+A.displaySize[1],{image:A,top:c,right:l,bottom:h,left:f,collisionPadding:a}}Es[10]=!0,Es[32]=!0,Es[38]=!0,Es[40]=!0,Es[41]=!0,Es[43]=!0,Es[45]=!0,Es[47]=!0,Es[173]=!0,Es[183]=!0,Es[8203]=!0,Es[8208]=!0,Es[8211]=!0,Es[8231]=!0;var Ps=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);function Hs(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new si(t+1))};if("source"===n.kind)return{kind:"source"};for(var r=n.zoomStops,i=n.interpolationType,o=0;o<r.length&&r[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var A=r[o],s=r[a];return"composite"===n.kind?{kind:"composite",minZoom:A,maxZoom:s,interpolationType:i}:{kind:"camera",minZoom:A,maxZoom:s,minSize:n.evaluate(new si(A)),maxSize:n.evaluate(new si(s)),interpolationType:i}}function zs(t,e,n){var r=e.uSize,i=n.lowerSize;return"source"===t.kind?i/128:"composite"===t.kind?Ve(i/128,n.upperSize/128,e.uSizeT):r}function $s(t,e){var n=0,r=0;if("constant"===t.kind)r=t.layoutSize;else if("source"!==t.kind){var i=t.interpolationType,o=i?c(an.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?r=Ve(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:r}}zr("Anchor",Ps);var Rs=Object.freeze({__proto__:null,getSizeData:Hs,evaluateSizeForFeature:zs,evaluateSizeForZoom:$s,SIZE_PACK_FACTOR:128});function Os(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,A=0;A>-n/2;){if(--a<0)return!1;A-=t[a].dist(o),o=t[a]}A+=t[a].dist(t[a+1]),a++;for(var s=[],u=0;A<n/2;){var c=t[a],l=t[a+1];if(!l)return!1;var h=t[a-1].angleTo(c)-c.angleTo(l);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),s.push({distance:A,angleDelta:h}),u+=h;A-s[0].distance>r;)u-=s.shift().angleDelta;if(u>i)return!1;a++,A+=c.dist(l)}return!0}function Ks(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Vs(t,e,n){return t?.6*e*n:0}function Ns(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Gs(t,e,n,r,i,o){for(var a=Vs(n,i,o),A=Ns(n,r)*o,s=0,u=Ks(t)/2,c=0;c<t.length-1;c++){var l=t[c],h=t[c+1],f=l.dist(h);if(s+f>u){var p=(u-s)/f,d=Ve(l.x,h.x,p),g=Ve(l.y,h.y,p),m=new Ps(d,g,h.angleTo(l),c);return m._round(),!a||Os(t,m,A,a,e)?m:void 0}s+=f}}function js(t,e,n,r,i,o,a,A,s){var u=Vs(r,o,a),c=Ns(r,i),l=c*a,h=0===t[0].x||t[0].x===s||0===t[0].y||t[0].y===s;return e-l<e/4&&(e=l+e/4),function t(e,n,r,i,o,a,A,s,u){for(var c=a/2,l=Ks(e),h=0,f=n-r,p=[],d=0;d<e.length-1;d++){for(var g=e[d],m=e[d+1],y=g.dist(m),v=m.angleTo(g);f+r<h+y;){var _=((f+=r)-h)/y,w=Ve(g.x,m.x,_),x=Ve(g.y,m.y,_);if(w>=0&&w<u&&x>=0&&x<u&&f-c>=0&&f+c<=l){var B=new Ps(w,x,v,d);B._round(),i&&!Os(e,B,a,i,o)||p.push(B)}}h+=y}return s||p.length||A||(p=t(e,h/2,r,i,o,a,A,!0,u)),p}(t,h?e/2*A%e:(c/2+2*o)*a*A%e,e,u,n,l,h,!1,s)}function qs(t,e,n,r,o){for(var a=[],A=0;A<t.length;A++)for(var s=t[A],u=void 0,c=0;c<s.length-1;c++){var l=s[c],h=s[c+1];l.x<e&&h.x<e||(l.x<e?l=new i(e,l.y+(e-l.x)/(h.x-l.x)*(h.y-l.y))._round():h.x<e&&(h=new i(e,l.y+(e-l.x)/(h.x-l.x)*(h.y-l.y))._round()),l.y<n&&h.y<n||(l.y<n?l=new i(l.x+(n-l.y)/(h.y-l.y)*(h.x-l.x),n)._round():h.y<n&&(h=new i(l.x+(n-l.y)/(h.y-l.y)*(h.x-l.x),n)._round()),l.x>=r&&h.x>=r||(l.x>=r?l=new i(r,l.y+(r-l.x)/(h.x-l.x)*(h.y-l.y))._round():h.x>=r&&(h=new i(r,l.y+(r-l.x)/(h.x-l.x)*(h.y-l.y))._round()),l.y>=o&&h.y>=o||(l.y>=o?l=new i(l.x+(o-l.y)/(h.y-l.y)*(h.x-l.x),o)._round():h.y>=o&&(h=new i(l.x+(o-l.y)/(h.y-l.y)*(h.x-l.x),o)._round()),u&&l.equals(u[u.length-1])||a.push(u=[l]),u.push(h)))))}return a}function Zs(t,e,n,r){var o=[],a=t.image,A=a.pixelRatio,s=a.paddedRect.w-2,u=a.paddedRect.h-2,c=t.right-t.left,l=t.bottom-t.top,h=a.stretchX||[[0,s]],f=a.stretchY||[[0,u]],p=function(t,e){return t+e[1]-e[0]},d=h.reduce(p,0),g=f.reduce(p,0),m=s-d,y=u-g,v=0,_=d,w=0,x=g,B=0,b=m,C=0,F=y;if(a.content&&r){var U=a.content;v=Xs(h,0,U[0]),w=Xs(f,0,U[1]),_=Xs(h,U[0],U[2]),x=Xs(f,U[1],U[3]),B=U[0]-v,C=U[1]-w,b=U[2]-U[0]-_,F=U[3]-U[1]-x}var E=function(r,o,s,u){var h=Js(r.stretch-v,_,c,t.left),f=Ys(r.fixed-B,b,r.stretch,d),p=Js(o.stretch-w,x,l,t.top),m=Ys(o.fixed-C,F,o.stretch,g),y=Js(s.stretch-v,_,c,t.left),U=Ys(s.fixed-B,b,s.stretch,d),E=Js(u.stretch-w,x,l,t.top),Q=Ys(u.fixed-C,F,u.stretch,g),I=new i(h,p),k=new i(y,p),S=new i(y,E),T=new i(h,E),M=new i(f/A,m/A),D=new i(U/A,Q/A),L=e*Math.PI/180;if(L){var P=Math.sin(L),H=Math.cos(L),z=[H,-P,P,H];I._matMult(z),k._matMult(z),T._matMult(z),S._matMult(z)}var $=r.stretch+r.fixed,R=o.stretch+o.fixed;return{tl:I,tr:k,bl:T,br:S,tex:{x:a.paddedRect.x+1+$,y:a.paddedRect.y+1+R,w:s.stretch+s.fixed-$,h:u.stretch+u.fixed-R},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:M,pixelOffsetBR:D,minFontScaleX:b/A/c,minFontScaleY:F/A/l,isSDF:n}};if(r&&(a.stretchX||a.stretchY))for(var Q=Ws(h,m,d),I=Ws(f,y,g),k=0;k<Q.length-1;k++)for(var S=Q[k],T=Q[k+1],M=0;M<I.length-1;M++)o.push(E(S,I[M],T,I[M+1]));else o.push(E({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:u+1}));return o}function Xs(t,e,n){for(var r=0,i=0,o=t;i<o.length;i+=1){var a=o[i];r+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return r}function Ws(t,e,n){for(var r=[{fixed:-1,stretch:0}],i=0,o=t;i<o.length;i+=1){var a=o[i],A=a[0],s=a[1],u=r[r.length-1];r.push({fixed:A-u.stretch,stretch:u.stretch}),r.push({fixed:A-u.stretch,stretch:u.stretch+(s-A)})}return r.push({fixed:e+1,stretch:n}),r}function Js(t,e,n,r){return t/e*n+r}function Ys(t,e,n,r){return t-e*n/r}var tu=function(t,e,n,r,o,a,A,s,u,c){if(this.boxStartIndex=t.length,u){var l=a.top,h=a.bottom,f=a.collisionPadding;f&&(l-=f[1],h+=f[3]);var p=h-l;p>0&&(p=Math.max(10,p),this.circleDiameter=p)}else{var d=a.top*A-s,g=a.bottom*A+s,m=a.left*A-s,y=a.right*A+s,v=a.collisionPadding;if(v&&(m-=v[0]*A,d-=v[1]*A,y+=v[2]*A,g+=v[3]*A),c){var _=new i(m,d),w=new i(y,d),x=new i(m,g),B=new i(y,g),b=c*Math.PI/180;_._rotate(b),w._rotate(b),x._rotate(b),B._rotate(b),m=Math.min(_.x,w.x,x.x,B.x),y=Math.max(_.x,w.x,x.x,B.x),d=Math.min(_.y,w.y,x.y,B.y),g=Math.max(_.y,w.y,x.y,B.y)}t.emplaceBack(e.x,e.y,m,d,y,g,n,r,o)}this.boxEndIndex=t.length},eu=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=nu),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function nu(t,e){return t<e?-1:t>e?1:0}function ru(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,A=-1/0,s=t[0],u=0;u<s.length;u++){var c=s[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>A)&&(A=c.y)}var l=Math.min(a-r,A-o),h=l/2,f=new eu([],iu);if(0===l)return new i(r,o);for(var p=r;p<a;p+=l)for(var d=o;d<A;d+=l)f.push(new ou(p+h,d+h,h,t));for(var g=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,A=a-1;o<a;A=o++){var s=i[o],u=i[A],c=s.x*u.y-u.x*s.y;n+=(s.x+u.x)*c,r+=(s.y+u.y)*c,e+=3*c}return new ou(n/e,r/e,0,t)}(t),m=f.length;f.length;){var y=f.pop();(y.d>g.d||!g.d)&&(g=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,m)),y.max-g.d<=e||(f.push(new ou(y.p.x-(h=y.h/2),y.p.y-h,h,t)),f.push(new ou(y.p.x+h,y.p.y-h,h,t)),f.push(new ou(y.p.x-h,y.p.y+h,h,t)),f.push(new ou(y.p.x+h,y.p.y+h,h,t)),m+=4)}return n&&(console.log("num probes: "+m),console.log("best distance: "+g.d)),g.p}function iu(t,e){return e.max-t.max}function ou(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,A=o.length,s=A-1;a<A;s=a++){var u=o[a],c=o[s];u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,Jo(t,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}eu.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},eu.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},eu.prototype.peek=function(){return this.data[0]},eu.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},eu.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],A=o+1;if(A<this.length&&n(e[A],a)<0&&(o=A,a=e[A]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var au=Number.POSITIVE_INFINITY;function Au(t,e){return e[1]!==au?function(t,e,n){var r=0,i=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(t){case"top-right":case"bottom-right":case"right":r=-e;break;case"top-left":case"bottom-left":case"left":r=e}return[r,i]}(t,e[0],e[1]):function(t,e){var n=0,r=0;e<0&&(e=0);var i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}(t,e[0])}function su(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function uu(t,e,n,r,o,a,A,s,u,c,l,h,f,p,d){var g=function(t,e,n,r,o,a,A,s){for(var u=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],l=0,h=e.positionedLines;l<h.length;l+=1)for(var f=h[l],p=0,d=f.positionedGlyphs;p<d.length;p+=1){var g=d[p];if(g.rect){var m=g.rect||{},y=4,v=!0,_=1,w=0,x=(o||s)&&g.vertical,B=g.metrics.advance*g.scale/2;if(s&&e.verticalizable&&(w=f.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var b=A[g.imageName];v=b.sdf,y=1/(_=b.pixelRatio)}var C=o?[g.x+B,g.y]:[0,0],F=o?[0,0]:[g.x+B+n[0],g.y+n[1]-w],U=[0,0];x&&(U=F,F=[0,0]);var E=(g.metrics.left-y)*g.scale-B+F[0],Q=(-g.metrics.top-y)*g.scale+F[1],I=E+m.w*g.scale/_,k=Q+m.h*g.scale/_,S=new i(E,Q),T=new i(I,Q),M=new i(E,k),D=new i(I,k);if(x){var L=new i(-B,B- -17),P=-Math.PI/2,H=12-B,z=new i(22-H,-(g.imageName?H:0)),$=new(Function.prototype.bind.apply(i,[null].concat(U)));S._rotateAround(P,L)._add(z)._add($),T._rotateAround(P,L)._add(z)._add($),M._rotateAround(P,L)._add(z)._add($),D._rotateAround(P,L)._add(z)._add($)}if(u){var R=Math.sin(u),O=Math.cos(u),K=[O,-R,R,O];S._matMult(K),T._matMult(K),M._matMult(K),D._matMult(K)}var V=new i(0,0),N=new i(0,0);c.push({tl:S,tr:T,bl:M,br:D,tex:m,writingMode:e.writingMode,glyphOffset:C,sectionIndex:g.sectionIndex,isSDF:v,pixelOffsetTL:V,pixelOffsetBR:N,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,s,o,a,A,r,t.allowVerticalPlacement),m=t.textSizeData,y=null;"source"===m.kind?(y=[128*o.layout.get("text-size").evaluate(A,{})])[0]>32640&&B(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===m.kind&&((y=[128*p.compositeTextSizes[0].evaluate(A,{},d),128*p.compositeTextSizes[1].evaluate(A,{},d)])[0]>32640||y[1]>32640)&&B(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,g,y,s,a,A,c,e,u.lineStartIndex,u.lineLength,f,d);for(var v=0,_=l;v<_.length;v+=1)h[_[v]]=t.text.placedSymbolArray.length-1;return 4*g.length}function cu(t){for(var e in t)return t[e];return null}function lu(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}var hu=xA.VectorTileFeature.types,fu=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function pu(t,e,n,r,i,o,a,A,s,u,c,l,h){var f=A?Math.min(32640,Math.round(A[0])):0,p=A?Math.min(32640,Math.round(A[1])):0;t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,(f<<1)+(s?1:0),p,16*u,16*c,256*l,256*h)}function du(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function gu(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Jr(n[e].text))return!0;return!1}var mu=function(t){this.layoutVertexArray=new Di,this.indexArray=new Oi,this.programConfigurations=t,this.segments=new so,this.dynamicLayoutVertexArray=new Li,this.opacityVertexArray=new Pi,this.placedSymbolArray=new to};mu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},mu.prototype.upload=function(t,e,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,KA.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,VA.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,fu,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t))},mu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},zr("SymbolBuffers",mu);var yu=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new so,this.collisionVertexArray=new Ri};yu.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,NA.members,!0)},yu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},zr("CollisionBuffers",yu);var vu=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Hs(this.zoom,e["text-size"]),this.iconSizeData=Hs(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return Bs[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};vu.prototype.createArrays=function(){this.text=new mu(new Lo(this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new mu(new Lo(this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new ro,this.lineVertexArray=new io,this.symbolInstances=new no},vu.prototype.calculateGlyphDependencies=function(t,e,n,r,i){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||r)&&i){var a=ZA[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},vu.prototype.populate=function(t,e,n){var r=this.layers[0],i=r.layout,o=i.get("text-font"),a=i.get("text-field"),A=i.get("icon-image"),s=("constant"!==a.value.kind||a.value.value instanceof re&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==A.value.kind||!!A.value.value||Object.keys(A.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],s||u){for(var l=e.iconDependencies,h=e.glyphDependencies,f=e.availableImages,p=new si(this.zoom),d=0,g=t;d<g.length;d+=1){var m=g[d],y=m.feature,v=m.id,_=m.index,w=m.sourceLayerIndex,x=r._featureFilter.needGeometry,B=Oo(y,x);if(r._featureFilter.filter(p,B,n)){x||(B.geometry=Ro(y));var b=void 0;if(s){var C=r.getValueAndResolveTokens("text-field",B,n,f),F=re.factory(C);gu(F)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===oi()||this.hasRTLText&&Ai.isParsed())&&(b=qA(F,r,B))}var U=void 0;if(u){var E=r.getValueAndResolveTokens("icon-image",B,n,f);U=E instanceof ie?E:ie.fromString(E)}if(b||U){var Q=this.sortFeaturesByKey?c.evaluate(B,{},n):void 0;if(this.features.push({id:v,text:b,icon:U,index:_,sourceLayerIndex:w,geometry:B.geometry,properties:y.properties,type:hu[y.type],sortKey:Q}),U&&(l[U.name]=!0),b){var I=o.evaluate(B,{},n).join(","),k="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Bs.vertical)>=0;for(var S=0,T=b.sections;S<T.length;S+=1){var M=T[S];if(M.image)l[M.image.name]=!0;else{var D=jr(b.toString()),L=M.fontStack||I,P=h[L]=h[L]||{};this.calculateGlyphDependencies(M.text,P,k,this.allowVerticalPlacement,D)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function A(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function s(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<t.length;u++){var c=t[u],l=c.geometry,h=c.text?c.text.toString():null;if(h){var f=s(h,l),p=s(h,l,!0);if(f in n&&p in e&&n[f]!==e[p]){var d=A(f,p,l),g=a(f,p,r[d].geometry);delete e[f],delete n[p],n[s(h,r[g].geometry,!0)]=g,r[d].geometry=null}else f in n?a(f,p,l):p in e?A(f,p,l):(o(u),e[f]=i-1,n[p]=i-1)}else o(u)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},vu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},vu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},vu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},vu.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},vu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},vu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},vu.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var A=t.segment||0;A>=0;A--)o[A]={x:e[A].x,y:e[A].y,tileUnitDistanceFromAnchor:i},A>0&&(i+=e[A-1].dist(e[A]));for(var s=0;s<e.length;s++){var u=o[s];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},vu.prototype.addSymbols=function(t,e,n,r,i,o,a,A,s,u,c,l){for(var h=t.indexArray,f=t.layoutVertexArray,p=t.segments.prepareSegment(4*e.length,f,h,this.canOverlap?o.sortKey:void 0),d=this.glyphOffsetArray.length,g=p.vertexLength,m=this.allowVerticalPlacement&&a===Bs.vertical?Math.PI/2:0,y=o.text&&o.text.sections,v=0;v<e.length;v++){var _=e[v],w=_.tl,x=_.tr,B=_.bl,b=_.br,C=_.tex,F=_.pixelOffsetTL,U=_.pixelOffsetBR,E=_.minFontScaleX,Q=_.minFontScaleY,I=_.glyphOffset,k=_.isSDF,S=_.sectionIndex,T=p.vertexLength,M=I[1];pu(f,A.x,A.y,w.x,M+w.y,C.x,C.y,n,k,F.x,F.y,E,Q),pu(f,A.x,A.y,x.x,M+x.y,C.x+C.w,C.y,n,k,U.x,F.y,E,Q),pu(f,A.x,A.y,B.x,M+B.y,C.x,C.y+C.h,n,k,F.x,U.y,E,Q),pu(f,A.x,A.y,b.x,M+b.y,C.x+C.w,C.y+C.h,n,k,U.x,U.y,E,Q),du(t.dynamicLayoutVertexArray,A,m),h.emplaceBack(T,T+1,T+2),h.emplaceBack(T+1,T+2,T+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(I[0]),v!==e.length-1&&S===e[v+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,o,o.index,{},l,y&&y[S])}t.placedSymbolArray.emplaceBack(A.x,A.y,d,this.glyphOffsetArray.length-d,g,s,u,A.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,0,!1,0,c)},vu.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},vu.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,A){var s=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),u=s.vertexLength,c=o.layoutVertexArray,l=o.collisionVertexArray,h=A.anchorX,f=A.anchorY;this._addCollisionDebugVertex(c,l,a,h,f,new i(t,e)),this._addCollisionDebugVertex(c,l,a,h,f,new i(n,e)),this._addCollisionDebugVertex(c,l,a,h,f,new i(n,r)),this._addCollisionDebugVertex(c,l,a,h,f,new i(t,r)),s.vertexLength+=4;var p=o.indexArray;p.emplaceBack(u,u+1),p.emplaceBack(u+1,u+2),p.emplaceBack(u+2,u+3),p.emplaceBack(u+3,u),s.primitiveLength+=4},vu.prototype.addDebugCollisionBoxes=function(t,e,n,r){for(var i=t;i<e;i++){var o=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,r?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},vu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new yu(zi,GA.members,qi),this.iconCollisionBox=new yu(zi,GA.members,qi);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},vu.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i,o,a,A,s){for(var u={},c=e;c<n;c++){var l=t.get(c);u.textBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY},u.textFeatureIndex=l.featureIndex;break}for(var h=r;h<i;h++){var f=t.get(h);u.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},u.verticalTextFeatureIndex=f.featureIndex;break}for(var p=o;p<a;p++){var d=t.get(p);u.iconBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},u.iconFeatureIndex=d.featureIndex;break}for(var g=A;g<s;g++){var m=t.get(g);u.verticalIconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},u.verticalIconFeatureIndex=m.featureIndex;break}return u},vu.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},vu.prototype.hasTextData=function(){return this.text.segments.get().length>0},vu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},vu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},vu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},vu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},vu.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),r=n.vertexStartIndex+4*n.numGlyphs,i=n.vertexStartIndex;i<r;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)},vu.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),r=[],i=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var A=this.symbolInstances.get(a);r.push(0|Math.round(e*A.anchorX+n*A.anchorY)),i.push(A.featureIndex)}return o.sort((function(t,e){return r[t]-r[e]||i[e]-i[t]})),o},vu.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},vu.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=this.symbolInstances.get(r[n]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},zr("SymbolBucket",vu,{omit:["layers","collisionBoxArray","features","compareText"]}),vu.MAX_GLYPHS=65535,vu.addDynamicAttributes=du;var _u=new xi({"symbol-placement":new mi(Qt.layout_symbol["symbol-placement"]),"symbol-spacing":new mi(Qt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mi(Qt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new yi(Qt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mi(Qt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mi(Qt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mi(Qt.layout_symbol["icon-ignore-placement"]),"icon-optional":new mi(Qt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mi(Qt.layout_symbol["icon-rotation-alignment"]),"icon-size":new yi(Qt.layout_symbol["icon-size"]),"icon-text-fit":new mi(Qt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mi(Qt.layout_symbol["icon-text-fit-padding"]),"icon-image":new yi(Qt.layout_symbol["icon-image"]),"icon-rotate":new yi(Qt.layout_symbol["icon-rotate"]),"icon-padding":new mi(Qt.layout_symbol["icon-padding"]),"icon-keep-upright":new mi(Qt.layout_symbol["icon-keep-upright"]),"icon-offset":new yi(Qt.layout_symbol["icon-offset"]),"icon-anchor":new yi(Qt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mi(Qt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mi(Qt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mi(Qt.layout_symbol["text-rotation-alignment"]),"text-field":new yi(Qt.layout_symbol["text-field"]),"text-font":new yi(Qt.layout_symbol["text-font"]),"text-size":new yi(Qt.layout_symbol["text-size"]),"text-max-width":new yi(Qt.layout_symbol["text-max-width"]),"text-line-height":new mi(Qt.layout_symbol["text-line-height"]),"text-letter-spacing":new yi(Qt.layout_symbol["text-letter-spacing"]),"text-justify":new yi(Qt.layout_symbol["text-justify"]),"text-radial-offset":new yi(Qt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mi(Qt.layout_symbol["text-variable-anchor"]),"text-anchor":new yi(Qt.layout_symbol["text-anchor"]),"text-max-angle":new mi(Qt.layout_symbol["text-max-angle"]),"text-writing-mode":new mi(Qt.layout_symbol["text-writing-mode"]),"text-rotate":new yi(Qt.layout_symbol["text-rotate"]),"text-padding":new mi(Qt.layout_symbol["text-padding"]),"text-keep-upright":new mi(Qt.layout_symbol["text-keep-upright"]),"text-transform":new yi(Qt.layout_symbol["text-transform"]),"text-offset":new yi(Qt.layout_symbol["text-offset"]),"text-allow-overlap":new mi(Qt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mi(Qt.layout_symbol["text-ignore-placement"]),"text-optional":new mi(Qt.layout_symbol["text-optional"])}),wu={paint:new xi({"icon-opacity":new yi(Qt.paint_symbol["icon-opacity"]),"icon-color":new yi(Qt.paint_symbol["icon-color"]),"icon-halo-color":new yi(Qt.paint_symbol["icon-halo-color"]),"icon-halo-width":new yi(Qt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new yi(Qt.paint_symbol["icon-halo-blur"]),"icon-translate":new mi(Qt.paint_symbol["icon-translate"]),"icon-translate-anchor":new mi(Qt.paint_symbol["icon-translate-anchor"]),"text-opacity":new yi(Qt.paint_symbol["text-opacity"]),"text-color":new yi(Qt.paint_symbol["text-color"],{runtimeType:Rt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new yi(Qt.paint_symbol["text-halo-color"]),"text-halo-width":new yi(Qt.paint_symbol["text-halo-width"]),"text-halo-blur":new yi(Qt.paint_symbol["text-halo-blur"]),"text-translate":new mi(Qt.paint_symbol["text-translate"]),"text-translate-anchor":new mi(Qt.paint_symbol["text-translate-anchor"])}),layout:_u},xu=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Pt,this.defaultValue=t};xu.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},xu.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},xu.prototype.outputDefined=function(){return!1},xu.prototype.serialize=function(){return null},zr("FormatSectionOverride",xu,{omit:["defaultValue"]});var Bu=function(t){function e(e){t.call(this,e,wu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var r=this.layout.get("text-writing-mode");if(r){for(var i=[],o=0,a=r;o<a.length;o+=1){var A=a[o];i.indexOf(A)<0&&i.push(A)}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,r){var i=this.layout.get(t).evaluate(e,{},n,r),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||jn(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)},e.prototype.createBucket=function(t){return new vu(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=wu.paint.overridableProperties;t<n.length;t+=1){var r=n[t];if(e.hasPaintOverride(this.layout,r)){var i,o=this.paint.get(r),a=new xu(o),A=new Gn(a,o.property.specification);i="constant"===o.value.kind||"source"===o.value.kind?new Zn("source",A):new Xn("composite",A,o.value.zoomStops,o.value._interpolationType),this.paint._values[r]=new di(o.property,i,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,r){return!(!this.layout||n.isDataDriven()||r.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),r=wu.paint.properties[e],i=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r.overrides&&r.overrides.hasOverride(n[e]))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof re)o(n.value.value.sections);else if("source"===n.value.kind){var a=function t(e){i||(e instanceof ue&&Ae(e.value)===Nt?o(e.value.sections):e instanceof fe?o(e.sections):e.eachChild(t))},A=n.value;A._styleExpression&&a(A._styleExpression.expression)}return i},e}(Bi),bu={paint:new xi({"background-color":new mi(Qt.paint_background["background-color"]),"background-pattern":new _i(Qt.paint_background["background-pattern"]),"background-opacity":new mi(Qt.paint_background["background-opacity"])})},Cu=function(t){function e(e){t.call(this,e,bu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Bi),Fu={paint:new xi({"raster-opacity":new mi(Qt.paint_raster["raster-opacity"]),"raster-hue-rotate":new mi(Qt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mi(Qt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mi(Qt.paint_raster["raster-brightness-max"]),"raster-saturation":new mi(Qt.paint_raster["raster-saturation"]),"raster-contrast":new mi(Qt.paint_raster["raster-contrast"]),"raster-resampling":new mi(Qt.paint_raster["raster-resampling"]),"raster-fade-duration":new mi(Qt.paint_raster["raster-fade-duration"])})},Uu=function(t){function e(e){t.call(this,e,Fu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Bi),Eu=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(Bi),Qu={circle:pa,heatmap:ba,hillshade:Fa,fill:hA,"fill-extrusion":QA,line:RA,symbol:Bu,background:Cu,raster:Uu},Iu=a.HTMLImageElement,ku=a.HTMLCanvasElement,Su=a.HTMLVideoElement,Tu=a.ImageData,Mu=a.ImageBitmap,Du=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};Du.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,A=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),A.bindTexture(A.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===A.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Iu||t instanceof ku||t instanceof Su||t instanceof Tu||Mu&&t instanceof Mu?A.texImage2D(A.TEXTURE_2D,0,this.format,this.format,A.UNSIGNED_BYTE,t):A.texImage2D(A.TEXTURE_2D,0,this.format,r,i,0,this.format,A.UNSIGNED_BYTE,t.data);else{var s=n||{x:0,y:0},u=s.x,c=s.y;t instanceof Iu||t instanceof ku||t instanceof Su||t instanceof Tu||Mu&&t instanceof Mu?A.texSubImage2D(A.TEXTURE_2D,0,u,c,A.RGBA,A.UNSIGNED_BYTE,t):A.texSubImage2D(A.TEXTURE_2D,0,u,c,r,i,A.RGBA,A.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&A.generateMipmap(A.TEXTURE_2D)},Du.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},Du.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Du.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Lu=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Lu.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},Lu.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Pu=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},m(["receive","process"],this),this.invoker=new Lu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?t:a};function Hu(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Pu.prototype.send=function(t,e,n,r,i){var o=this;void 0===i&&(i=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var A=Q(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:Kr(e,A)},A),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:r,sourceMapId:o.mapId})}}},Pu.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else F()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Pu.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Pu.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Vr(e.error)):r(null,Vr(e.data)))}else{var i=!1,o=Q(this.globalScope)?void 0:[],a=e.hasCallback?function(e,r){i=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Kr(e):null,data:Kr(r,o)},o)}:function(t){i=!0},A=null,s=Vr(e.data);if(this.parent[e.type])A=this.parent[e.type](e.sourceMapId,s,a);else if(this.parent.getWorkerSource){var u=e.type.split(".");A=this.parent.getWorkerSource(e.sourceMapId,u[0],s.source)[u[1]](s,a)}else a(new Error("Could not find function "+e.type));!i&&A&&A.cancel&&(this.cancelCallbacks[t]=A.cancel)}},Pu.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var zu=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};zu.prototype.setNorthEast=function(t){return this._ne=t instanceof $u?new $u(t.lng,t.lat):$u.convert(t),this},zu.prototype.setSouthWest=function(t){return this._sw=t instanceof $u?new $u(t.lng,t.lat):$u.convert(t),this},zu.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof $u)e=t,n=t;else{if(!(t instanceof zu))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(zu.convert(t)):this.extend($u.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new $u(e.lng,e.lat),this._ne=new $u(n.lng,n.lat)),this},zu.prototype.getCenter=function(){return new $u((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},zu.prototype.getSouthWest=function(){return this._sw},zu.prototype.getNorthEast=function(){return this._ne},zu.prototype.getNorthWest=function(){return new $u(this.getWest(),this.getNorth())},zu.prototype.getSouthEast=function(){return new $u(this.getEast(),this.getSouth())},zu.prototype.getWest=function(){return this._sw.lng},zu.prototype.getSouth=function(){return this._sw.lat},zu.prototype.getEast=function(){return this._ne.lng},zu.prototype.getNorth=function(){return this._ne.lat},zu.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},zu.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},zu.prototype.isEmpty=function(){return!(this._sw&&this._ne)},zu.prototype.contains=function(t){var e=$u.convert(t),n=e.lng,r=e.lat,i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i},zu.convert=function(t){return!t||t instanceof zu?t:new zu(t)};var $u=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};$u.prototype.wrap=function(){return new $u(l(this.lng,-180,180),this.lat)},$u.prototype.toArray=function(){return[this.lng,this.lat]},$u.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},$u.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,r=t.lat*e,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))},$u.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new zu(new $u(this.lng-n,this.lat-e),new $u(this.lng+n,this.lat+e))},$u.convert=function(t){if(t instanceof $u)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new $u(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==pn(t)&&null!==t)return new $u(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ru=2*Math.PI*6371008.8;function Ou(t){return Ru*Math.cos(t*Math.PI/180)}function Ku(t){return(180+t)/360}function Vu(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Nu(t,e){return t/Ou(e)}function Gu(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var ju=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};ju.fromLngLat=function(t,e){void 0===e&&(e=0);var n=$u.convert(t);return new ju(Ku(n.lng),Vu(n.lat),Nu(e,n.lat))},ju.prototype.toLngLat=function(){return new $u(360*this.x-180,Gu(this.y))},ju.prototype.toAltitude=function(){return this.z*Ou(Gu(this.y))},ju.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ru*(t=Gu(this.y),1/Math.cos(t*Math.PI/180));var t};var qu=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Wu(0,t,t,e,n)};qu.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},qu.prototype.url=function(t,e){var n,r,i,o,a,A=(r=this.y,i=this.z,o=Hu(256*(n=this.x),256*(r=Math.pow(2,i)-r-1),i),a=Hu(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),s=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",s).replace("{bbox-epsg-3857}",A)},qu.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},qu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Zu=function(t,e){this.wrap=t,this.canonical=e,this.key=Wu(t,e.z,e.z,e.x,e.y)},Xu=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new qu(n,+r,+i),this.key=Wu(e,t,n,r,i)};function Wu(t,e,n,r,i){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*i+r).toString(36)+n.toString(36)+e.toString(36)}Xu.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Xu.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Xu(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xu(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Xu.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Wu(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Wu(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Xu.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Xu.prototype.children=function(t){if(this.overscaledZ>=t)return[new Xu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Xu(e,this.wrap,e,n,r),new Xu(e,this.wrap,e,n+1,r),new Xu(e,this.wrap,e,n,r+1),new Xu(e,this.wrap,e,n+1,r+1)]},Xu.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Xu.prototype.wrapped=function(){return new Xu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Xu.prototype.unwrapTo=function(t){return new Xu(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Xu.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Xu.prototype.toUnwrapped=function(){return new Zu(this.wrap,this.canonical)},Xu.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Xu.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ju(t.x-this.wrap,t.y))},zr("CanonicalTileID",qu),zr("OverscaledTileID",Xu,{omit:["posMatrix"]});var Ju=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return B('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var r=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Ju.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),r=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Ju.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Ju.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Ju.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Ju.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Ju.prototype.getPixels=function(){return new wa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ju.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var A=-e*this.dim,s=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.data[this._idx(c,u)]=t.data[this._idx(c+A,u+s)]},zr("DEMData",Ju);var Yu=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Yu.prototype.encode=function(t){return this._stringToNumber[t]},Yu.prototype.decode=function(t){return this._numberToString[t]};var tc=function(t,e,n,r,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,this.id=i},ec={geometry:{configurable:!0}};ec.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ec.geometry.set=function(t){this._geometry=t},tc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(tc.prototype,ec);var nc=function(){this.state={},this.stateChanges={},this.deletedStates={}};nc.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},h(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},nc.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},nc.prototype.getState=function(t,e){var n=String(e),r=h({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var o in i)delete r[o]}return r},nc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},nc.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),h(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var A={};if(null===this.deletedStates[a])for(var s in this.state[a])A[s]={},this.state[a][s]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,l=Object.keys(this.deletedStates[a][u]);c<l.length;c+=1)delete this.state[a][u][l[c]];A[u]=this.state[a][u]}n[a]=n[a]||{},h(n[a],A)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in t)t[f].setFeatureState(n,e)};var rc=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Mr(8192,16,0),this.grid3D=new Mr(8192,16,0),this.featureIndexArray=new ao,this.promoteId=e};function ic(t,e,n,r,i){return v(t,(function(t,o){var a=e instanceof gi?e.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function oc(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var A=a[o];e=Math.min(e,A.x),n=Math.min(n,A.y),r=Math.max(r,A.x),i=Math.max(i,A.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function ac(t,e){return e-t}rc.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var A=o?this.grid3D:this.grid,s=0;s<e.length;s++){for(var u=e[s],c=[1/0,1/0,-1/0,-1/0],l=0;l<u.length;l++){var h=u[l];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&A.insert(a,c[0],c[1],c[2],c[3])}},rc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new xA.VectorTile(new JA(this.rawTileData)).layers,this.sourceLayerCoder=new Yu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},rc.prototype.query=function(t,e,n,r){var o=this;this.loadVTLayers();for(var a=t.params||{},A=8192/t.tileSize/t.scale,s=Ar(a.filter),u=t.queryGeometry,c=t.queryPadding*A,l=oc(u),h=this.grid.query(l.minX-c,l.minY-c,l.maxX+c,l.maxY+c),f=oc(t.cameraQueryGeometry),p=0,d=this.grid3D.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c,(function(e,n,r,o){return function(t,e,n,r,o){for(var a=0,A=t;a<A.length;a+=1){var s=A[a];if(e<=s.x&&n<=s.y&&r>=s.x&&o>=s.y)return!0}var u=[new i(e,n),new i(e,o),new i(r,o),new i(r,n)];if(t.length>2)for(var c=0,l=u;c<l.length;c+=1)if(ta(t,l[c]))return!0;for(var h=0;h<t.length-1;h++)if(ea(t[h],t[h+1],u))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,r+c,o+c)}));p<d.length;p+=1)h.push(d[p]);h.sort(ac);for(var g,m={},y=function(i){var c=h[i];if(c!==g){g=c;var l=o.featureIndexArray.get(c),f=null;o.loadMatchingFeature(m,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,s,a.layers,a.availableImages,e,n,r,(function(e,n,r){return f||(f=Ro(e)),n.queryIntersectsFeature(u,e,r,f,o.z,t.transform,A,t.pixelPosMatrix)}))}},v=0;v<h.length;v++)y(v);return m},rc.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,A,s,u,c){var l=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,l)){var f=this.sourceLayerCoder.decode(n),p=this.vtLayers[f].feature(r);if(i.needGeometry){var d=Oo(p,!0);if(!i.filter(new si(this.tileID.overscaledZ),d,this.tileID.canonical))return}else if(!i.filter(new si(this.tileID.overscaledZ),p))return;for(var g=this.getId(p,f),m=0;m<l.length;m++){var y=l[m];if(!(o&&o.indexOf(y)<0)){var v=A[y];if(v){var _={};void 0!==g&&u&&(_=u.getState(v.sourceLayer||"_geojsonTileLayer",g));var w=h({},s[y]);w.paint=ic(w.paint,v.paint,p,_,a),w.layout=ic(w.layout,v.layout,p,_,a);var x=!c||c(p,v,_);if(x){var B=new tc(p,this.z,this.x,this.y,g);B.layer=w;var b=t[y];void 0===b&&(b=t[y]=[]),b.push({featureIndex:r,feature:B,intersectionZ:x})}}}}}},rc.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o,a,A){var s={};this.loadVTLayers();for(var u=Ar(i),c=0,l=t;c<l.length;c+=1)this.loadMatchingFeature(s,n,r,l[c],u,o,a,A,e);return s},rc.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},rc.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},zr("FeatureIndex",rc,{omit:["rawTileData","sourceLayerCoder"]});var Ac=function(t,e){this.tileID=t,this.uid=p(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ac.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<H.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Ac.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ac.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,A=r;a<A.length;a+=1)n[A[a].id]=t}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof vu){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof vu&&a.hasRTLText){this.hasRTLText=!0,Ai.isLoading()||Ai.isLoaded()||"deferred"!==oi()||ai();break}}for(var A in this.queryPadding=0,this.buckets){var s=this.buckets[A];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(A).queryRadius(s))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Ji},Ac.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ac.prototype.getBucket=function(t){return this.buckets[t.id]},Ac.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Du(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Du(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},Ac.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},Ac.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,A,s,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:A,params:a,queryPadding:this.queryPadding*s},t,e,n):{}},Ac.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var r=n.loadVTLayers(),i=e?e.sourceLayer:"",o=r._geojsonTileLayer||r[i];if(o)for(var a=Ar(e&&e.filter),A=this.tileID.canonical,s=A.z,u=A.x,c=A.y,l={z:s,x:u,y:c},h=0;h<o.length;h++){var f=o.feature(h);if(a.needGeometry){var p=Oo(f,!0);if(!a.filter(new si(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!a.filter(new si(this.tileID.overscaledZ),f))continue;var d=n.getId(f,i),g=new tc(f,s,u,c,d);g.tile=l,t.push(g)}}},Ac.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ac.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ac.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=U(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ac.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Ac.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(e.style.hasLayer(r)){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],A=t[o];if(a&&A&&0!==Object.keys(A).length){i.update(A,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var s=e&&e.style&&e.style.getLayer(r);s&&(this.queryPadding=Math.max(this.queryPadding,s.queryRadius(i)))}}}},Ac.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Ac.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<H.now()},Ac.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ac.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=H.now()+t},Ac.prototype.setDependencies=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1)n[i[r]]=!0;this.dependencies[t]=n},Ac.prototype.hasDependency=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=this.dependencies[r[n]];if(i)for(var o=0,a=e;o<a.length;o+=1)if(i[a[o]])return!0}return!1};var sc=a.performance,uc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},sc.mark(this._marks.start)};uc.prototype.finish=function(){sc.mark(this._marks.end);var t=sc.getEntriesByName(this._marks.measure);return 0===t.length&&(sc.measure(this._marks.measure,this._marks.start,this._marks.end),t=sc.getEntriesByName(this._marks.measure),sc.clearMarks(this._marks.start),sc.clearMarks(this._marks.end),sc.clearMeasures(this._marks.measure)),t},t.Actor=Pu,t.AlphaImage=_a,t.CanonicalTileID=qu,t.CollisionBoxArray=Ji,t.Color=te,t.DEMData=Ju,t.DataConstantProperty=mi,t.DictionaryCoder=Yu,t.EXTENT=8192,t.ErrorEvent=Ut,t.EvaluationParameters=si,t.Event=Ft,t.Evented=Et,t.FeatureIndex=rc,t.FillBucket=uA,t.FillExtrusionBucket=FA,t.ImageAtlas=xs,t.ImagePosition=_s,t.LineBucket=PA,t.LngLat=$u,t.LngLatBounds=zu,t.MercatorCoordinate=ju,t.ONE_EM=24,t.OverscaledTileID=Xu,t.Point=i,t.Point$1=i,t.Properties=xi,t.Protobuf=JA,t.RGBAImage=wa,t.RequestManager=N,t.RequestPerformance=uc,t.ResourceType=pt,t.SegmentVector=so,t.SourceFeatureState=nc,t.StructArrayLayout1ui2=Zi,t.StructArrayLayout2f1f2i16=$i,t.StructArrayLayout2i4=Qi,t.StructArrayLayout3ui6=Oi,t.StructArrayLayout4i8=Ii,t.SymbolBucket=vu,t.Texture=Du,t.Tile=Ac,t.Transitionable=li,t.Uniform1f=xo,t.Uniform1i=wo,t.Uniform2f=Bo,t.Uniform3f=bo,t.Uniform4f=Co,t.UniformColor=Fo,t.UniformMatrix4f=Eo,t.UnwrappedTileID=Zu,t.ValidationError=It,t.WritingMode=Bs,t.ZoomHistory=Nr,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=du,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=s,t.bindAll=m,t.browser=H,t.cacheEntryPossiblyAdded=function(t){++ht>st&&(t.getActor().send("enforceCacheSizeLimit",At),ht=0)},t.clamp=c,t.clearTileCache=function(t){var e=a.caches.delete("mapbox-tiles");t&&e.catch(t).then((function(){return t()}))},t.clipLine=qs,t.clone=function(t){var e=new Aa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=w,t.clone$2=function(t){var e=new Aa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=jA,t.config=z,t.create=function(){var t=new Aa(16);return Aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new Aa(9);return Aa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new Aa(4);return Aa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=qn,t.createLayout=Ui,t.createStyleLayer=function(t){return"custom"===t.type?new Eu(t):new Qu[t.type](t)},t.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],A=n[1],s=n[2];return t[0]=i*s-o*A,t[1]=o*a-r*s,t[2]=r*A-i*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}if("object"==pn(e)&&null!==e&&null!==n){if("object"!=pn(n))return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=u,t.emitValidationErrors=Tr,t.endsWith=y,t.enforceCacheSizeLimit=function(t){ut(),tt&&tt.then((function(e){e.keys().then((function(n){for(var r=0;r<n.length-t;r++)e.delete(n[r])}))}))},t.evaluateSizeForFeature=zs,t.evaluateSizeForZoom=$s,t.evaluateVariableOffset=Au,t.evented=ii,t.extend=h,t.featureFilter=Ar,t.filterObject=_,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Ms,t.getAnchorJustification=su,t.getArrayBuffer=_t,t.getImage=Bt,t.getJSON=function(t,e){return vt(h(t,{type:"json"}),e)},t.getRTLTextPluginStatus=oi,t.getReferrer=yt,t.getVideo=function(t,e){var n,r,i=a.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var A=a.document.createElement("source");n=t[o],r=void 0,(r=a.document.createElement("a")).href=n,(r.protocol!==a.document.location.protocol||r.host!==a.document.location.host)&&(i.crossOrigin="Anonymous"),A.src=t[o],i.appendChild(A)}return{cancel:function(){}}},t.identity=sa,t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],A=e[5],s=e[6],u=e[7],c=e[8],l=e[9],h=e[10],f=e[11],p=e[12],d=e[13],g=e[14],m=e[15],y=n*A-r*a,v=n*s-i*a,_=n*u-o*a,w=r*s-i*A,x=r*u-o*A,B=i*u-o*s,b=c*d-l*p,C=c*g-h*p,F=c*m-f*p,U=l*g-h*d,E=l*m-f*d,Q=h*m-f*g,I=y*Q-v*E+_*U+w*F-x*C+B*b;return I?(t[0]=(A*Q-s*E+u*U)*(I=1/I),t[1]=(i*E-r*Q-o*U)*I,t[2]=(d*B-g*x+m*w)*I,t[3]=(h*x-l*B-f*w)*I,t[4]=(s*F-a*Q-u*C)*I,t[5]=(n*Q-i*F+o*C)*I,t[6]=(g*_-p*B-m*v)*I,t[7]=(c*B-h*_+f*v)*I,t[8]=(a*E-A*F+u*b)*I,t[9]=(r*F-n*E-o*b)*I,t[10]=(p*x-d*_+m*y)*I,t[11]=(l*_-c*x-f*y)*I,t[12]=(A*C-a*U-s*b)*I,t[13]=(n*U-r*C+i*b)*I,t[14]=(d*v-p*w-g*y)*I,t[15]=(c*w-l*v+h*y)*I,t):null},t.isChar=Gr,t.isMapboxURL=G,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=vt,t.mapObject=v,t.mercatorXfromLng=Ku,t.mercatorYfromLat=Vu,t.mercatorZfromAltitude=Nu,t.mul=ha,t.multiply=ua,t.mvt=xA,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=Ve,t.offscreenCanvasSupported=ft,t.ortho=function(t,e,n,r,i,o,a){var A=1/(e-n),s=1/(r-i),u=1/(o-a);return t[0]=-2*A,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*A,t[13]=(i+r)*s,t[14]=(a+o)*u,t[15]=1,t},t.parseGlyphPBF=function(t){return new JA(t).readFields(gs,[])},t.pbf=JA,t.performSymbolLayout=function(t,e,n,r,i,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var A=t.layers[0].layout,s=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,l=c.maxZoom;u.compositeTextSizes=[s["text-size"].possiblyEvaluate(new si(c.minZoom),a),s["text-size"].possiblyEvaluate(new si(l),a)]}if("composite"===t.iconSizeData.kind){var h=t.iconSizeData,f=h.maxZoom;u.compositeIconSizes=[s["icon-size"].possiblyEvaluate(new si(h.minZoom),a),s["icon-size"].possiblyEvaluate(new si(f),a)]}u.layoutTextSize=s["text-size"].possiblyEvaluate(new si(t.zoom+1),a),u.layoutIconSize=s["icon-size"].possiblyEvaluate(new si(t.zoom+1),a),u.textMaxSize=s["text-size"].possiblyEvaluate(new si(18));for(var p=24*A.get("text-line-height"),d="map"===A.get("text-rotation-alignment")&&"point"!==A.get("symbol-placement"),g=A.get("text-keep-upright"),m=A.get("text-size"),y=function(){var o=_[v],s=A.get("text-font").evaluate(o,{},a).join(","),c=m.evaluate(o,{},a),l=u.layoutTextSize.evaluate(o,{},a),h=u.layoutIconSize.evaluate(o,{},a),f={horizontal:{},vertical:void 0},y=o.text,w=[0,0];if(y){var x=y.toString(),b=24*A.get("text-letter-spacing").evaluate(o,{},a),C=function(t){for(var e=0,n=t;e<n.length;e+=1)if(r=n[e].charCodeAt(0),Gr.Arabic(r)||Gr["Arabic Supplement"](r)||Gr["Arabic Extended-A"](r)||Gr["Arabic Presentation Forms-A"](r)||Gr["Arabic Presentation Forms-B"](r))return!1;var r;return!0}(x)?b:0,F=A.get("text-anchor").evaluate(o,{},a),U=A.get("text-variable-anchor");if(!U){var E=A.get("text-radial-offset").evaluate(o,{},a);w=E?Au(F,[24*E,au]):A.get("text-offset").evaluate(o,{},a).map((function(t){return 24*t}))}var Q=d?"center":A.get("text-justify").evaluate(o,{},a),I=A.get("symbol-placement"),k="point"===I?24*A.get("text-max-width").evaluate(o,{},a):0,S=function(){t.allowVerticalPlacement&&jr(x)&&(f.vertical=Fs(y,e,n,i,s,k,p,F,"left",C,w,Bs.vertical,!0,I,l,c))};if(!d&&U){for(var T="auto"===Q?U.map((function(t){return su(t)})):[Q],M=!1,D=0;D<T.length;D++){var L=T[D];if(!f.horizontal[L])if(M)f.horizontal[L]=f.horizontal[0];else{var P=Fs(y,e,n,i,s,k,p,"center",L,C,w,Bs.horizontal,!1,I,l,c);P&&(f.horizontal[L]=P,M=1===P.positionedLines.length)}}S()}else{"auto"===Q&&(Q=su(F));var H=Fs(y,e,n,i,s,k,p,F,Q,C,w,Bs.horizontal,!1,I,l,c);H&&(f.horizontal[Q]=H),S(),jr(x)&&d&&g&&(f.vertical=Fs(y,e,n,i,s,k,p,F,Q,C,w,Bs.vertical,!1,I,l,c))}}var z,$,R,O,K,V,N=void 0,G=!1;if(o.icon&&o.icon.name){var j=r[o.icon.name];j&&(z=i[o.icon.name],$=A.get("icon-offset").evaluate(o,{},a),R=A.get("icon-anchor").evaluate(o,{},a),O=Ms(R),K=$[0]-z.displaySize[0]*O.horizontalAlign,V=$[1]-z.displaySize[1]*O.verticalAlign,N={image:z,top:V,bottom:V+z.displaySize[1],left:K,right:K+z.displaySize[0]},G=j.sdf,void 0===t.sdfIcons?t.sdfIcons=j.sdf:t.sdfIcons!==j.sdf&&B("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(j.pixelRatio!==t.pixelRatio||0!==A.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var q=cu(f.horizontal)||f.vertical;t.iconsInText=!!q&&q.iconsInText,(q||N)&&function(t,e,n,r,i,o,a,A,s,u,c){var l=o.textMaxSize.evaluate(e,{});void 0===l&&(l=a);var h,f=t.layers[0].layout,p=f.get("icon-offset").evaluate(e,{},c),d=cu(n.horizontal),g=a/24,m=t.tilePixelRatio*g,y=t.tilePixelRatio*l/24,v=t.tilePixelRatio*A,_=t.tilePixelRatio*f.get("symbol-spacing"),w=f.get("text-padding")*t.tilePixelRatio,x=f.get("icon-padding")*t.tilePixelRatio,b=f.get("text-max-angle")/180*Math.PI,C="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),F="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),U=f.get("symbol-placement"),E=_/2,Q=f.get("icon-text-fit");r&&"none"!==Q&&(t.allowVerticalPlacement&&n.vertical&&(h=Ls(r,n.vertical,Q,f.get("icon-text-fit-padding"),p,g)),d&&(r=Ls(r,d,Q,f.get("icon-text-fit-padding"),p,g)));var I=function(A,l){l.x<0||l.x>=8192||l.y<0||l.y>=8192||function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,b,C){var F,U,E,Q,I,k=t.addToLineVertexArray(e,n),S=0,T=0,M=0,D=0,L=-1,P=-1,H={},z=fo(""),$=0,R=0;if(void 0===A._unevaluatedLayout.getValue("text-radial-offset")?($=(F=A.layout.get("text-offset").evaluate(_,{},b).map((function(t){return 24*t})))[0],R=F[1]):($=24*A.layout.get("text-radial-offset").evaluate(_,{},b),R=au),t.allowVerticalPlacement&&r.vertical){var O=A.layout.get("text-rotate").evaluate(_,{},b)+90;Q=new tu(s,e,u,c,l,r.vertical,h,f,p,O),a&&(I=new tu(s,e,u,c,l,a,g,m,p,O))}if(i){var K=A.layout.get("icon-rotate").evaluate(_,{}),V="none"!==A.layout.get("icon-text-fit"),N=Zs(i,K,x,V),G=a?Zs(a,K,x,V):void 0;E=new tu(s,e,u,c,l,i,g,m,!1,K),S=4*N.length;var j=t.iconSizeData,q=null;"source"===j.kind?(q=[128*A.layout.get("icon-size").evaluate(_,{})])[0]>32640&&B(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===j.kind&&((q=[128*w.compositeIconSizes[0].evaluate(_,{},b),128*w.compositeIconSizes[1].evaluate(_,{},b)])[0]>32640||q[1]>32640)&&B(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,N,q,v,y,_,!1,e,k.lineStartIndex,k.lineLength,-1,b),L=t.icon.placedSymbolArray.length-1,G&&(T=4*G.length,t.addSymbols(t.icon,G,q,v,y,_,Bs.vertical,e,k.lineStartIndex,k.lineLength,-1,b),P=t.icon.placedSymbolArray.length-1)}for(var Z in r.horizontal){var X=r.horizontal[Z];if(!U){z=fo(X.text);var W=A.layout.get("text-rotate").evaluate(_,{},b);U=new tu(s,e,u,c,l,X,h,f,p,W)}var J=1===X.positionedLines.length;if(M+=uu(t,e,X,o,A,p,_,d,k,r.vertical?Bs.horizontal:Bs.horizontalOnly,J?Object.keys(r.horizontal):[Z],H,L,w,b),J)break}r.vertical&&(D+=uu(t,e,r.vertical,o,A,p,_,d,k,Bs.vertical,["vertical"],H,P,w,b));var Y=U?U.boxStartIndex:t.collisionBoxArray.length,tt=U?U.boxEndIndex:t.collisionBoxArray.length,et=Q?Q.boxStartIndex:t.collisionBoxArray.length,nt=Q?Q.boxEndIndex:t.collisionBoxArray.length,rt=E?E.boxStartIndex:t.collisionBoxArray.length,it=E?E.boxEndIndex:t.collisionBoxArray.length,ot=I?I.boxStartIndex:t.collisionBoxArray.length,at=I?I.boxEndIndex:t.collisionBoxArray.length,At=-1,st=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};At=st(U,At),At=st(Q,At),At=st(E,At);var ut=(At=st(I,At))>-1?1:0;ut&&(At*=C/24),t.glyphOffsetArray.length>=vu.MAX_GLYPHS&&B("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==_.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,_.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,H.right>=0?H.right:-1,H.center>=0?H.center:-1,H.left>=0?H.left:-1,H.vertical||-1,L,P,z,Y,tt,et,nt,rt,it,ot,at,u,M,D,S,T,ut,0,h,$,R,At)}(t,l,A,n,r,i,h,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,m,w,C,s,v,x,F,p,e,o,u,c,a)};if("line"===U)for(var k=0,S=qs(e.geometry,0,0,8192,8192);k<S.length;k+=1)for(var T=S[k],M=0,D=js(T,_,b,n.vertical||d,r,24,y,t.overscaling,8192);M<D.length;M+=1){var L=D[M];d&&lu(t,d.text,E,L)||I(T,L)}else if("line-center"===U)for(var P=0,H=e.geometry;P<H.length;P+=1){var z=H[P];if(z.length>1){var $=Gs(z,b,n.vertical||d,r,24,y);$&&I(z,$)}}else if("Polygon"===e.type)for(var R=0,O=oA(e.geometry,0);R<O.length;R+=1){var K=O[R],V=ru(K,16);I(K[0],new Ps(V.x,V.y,0))}else if("LineString"===e.type)for(var N=0,G=e.geometry;N<G.length;N+=1){var j=G[N];I(j,new Ps(j[0].x,j[0].y,0))}else if("Point"===e.type)for(var q=0,Z=e.geometry;q<Z.length;q+=1)for(var X=0,W=Z[q];X<W.length;X+=1){var J=W[X];I([J],new Ps(J.x,J.y,0))}}(t,o,f,N,r,u,l,h,w,G,a)},v=0,_=t.features;v<_.length;v+=1)y();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=Ai,t.polygonIntersectsPolygon=No,t.postMapLoadEvent=at,t.postTurnstileEvent=it,t.potpack=vs,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=zr,t.registerForPluginStateChange=function(t){return t({pluginStatus:ti,pluginURL:ei}),ii.on("pluginStateChange",t),t},t.renderColorRamp=Ba,t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],A=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*A,t[1]=i*s+a*A,t[2]=r*-A+o*s,t[3]=i*-A+a*s,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],A=e[6],s=e[7],u=e[8],c=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=A*i+l*r,t[7]=s*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=l*i-A*r,t[11]=h*i-s*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],A=e[2],s=e[3],u=e[4],c=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=A*i+l*r,t[3]=s*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=l*i-A*r,t[7]=h*i-s*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){At=t,st=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===ti||"loading"===ti||"loaded"===ti)throw new Error("setRTLTextPlugin cannot be called multiple times.");ei=H.resolveURL(t),ti="deferred",Yr=e,ri(),n||ai()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=Qt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=Rs,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=fa,t.translate=function(t,e,n){var r,i,o,a,A,s,u,c,l,h,f,p,d=n[0],g=n[1],m=n[2];return e===t?(t[12]=e[0]*d+e[4]*g+e[8]*m+e[12],t[13]=e[1]*d+e[5]*g+e[9]*m+e[13],t[14]=e[2]*d+e[6]*g+e[10]*m+e[14],t[15]=e[3]*d+e[7]*g+e[11]*m+e[15]):(i=e[1],o=e[2],a=e[3],A=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=a,t[4]=A,t[5]=s,t[6]=u,t[7]=c,t[8]=l,t[9]=h,t[10]=f,t[11]=p,t[12]=r*d+A*g+l*m+e[12],t[13]=i*d+s*g+h*m+e[13],t[14]=o*d+u*g+f*m+e[14],t[15]=a*d+c*g+p*m+e[15]),t},t.triggerPluginCompletionEvent=ni,t.uniqueId=p,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Ir,t.validateStyle=Qr,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=xA,t.version="1.13.2",t.warnOnce=B,t.webpSupported=$,t.window=a,t.wrap=l})),r(["./shared"],(function(t){function e(t){var n=pn(t);if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),A="{",s=0;s<a.length;s++)A+=JSON.stringify(a[s])+":"+e(t[a[s]])+",";return A+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){this.keyCache={},t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var A=a[o];this._layerConfigs[A.id]=A;var s=this._layers[A.id]=t.createStyleLayer(A);s._featureFilter=t.featureFilter(s.filter),this.keyCache[A.id]&&delete this.keyCache[A.id]}for(var u=0,c=r;u<c.length;u+=1){var l=c[u];delete this.keyCache[l],delete this._layerConfigs[l],delete this._layers[l]}this.familiesBySource={};for(var h=0,f=function(t,e){for(var r={},i=0;i<t.length;i++){var o=e&&e[t[i].id]||n(t[i]);e&&(e[t[i].id]=o);var a=r[o];a||(a=r[o]=[]),a.push(t[i])}var A=[];for(var s in r)A.push(r[s]);return A}(t.values(this._layerConfigs),this.keyCache);h<f.length;h+=1){var p=f[h].map((function(t){return i._layers[t.id]})),d=p[0];if("none"!==d.visibility){var g=d.source||"",m=this.familiesBySource[g];m||(m=this.familiesBySource[g]={});var y=d.sourceLayer||"_geojsonTileLayer",v=m[y];v||(v=m[y]=[]),v.push(p)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var A in o){var s=o[+A];if(s&&0!==s.bitmap.width&&0!==s.bitmap.height){var u={x:0,y:0,w:s.bitmap.width+2,h:s.bitmap.height+2};r.push(u),a[A]={rect:u,metrics:s.metrics}}}}var c=t.potpack(r),l=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var h in e){var f=e[h];for(var p in f){var d=f[+p];if(d&&0!==d.bitmap.width&&0!==d.bitmap.height){var g=n[h][p].rect;t.AlphaImage.copy(d.bitmap,l,{x:0,y:0},{x:g.x+1,y:g.y+1},d.bitmap)}}}this.image=l,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,r){for(var i=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(i,r)}function A(e,n){var r=t.getArrayBuffer(e.request,(function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}o.prototype.parse=function(e,n,r,o,A){var s=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var u=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var l,h,f,p,d={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},m=n.familiesBySource[this.source];for(var y in m){var v=e.layers[y];if(v){1===v.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=u.encode(y),w=[],x=0;x<v.length;x++){var B=v.feature(x),b=c.getId(B,y);w.push({feature:B,id:b,index:x,sourceLayerIndex:_})}for(var C=0,F=m[y];C<F.length;C+=1){var U=F[C],E=U[0];E.minzoom&&this.zoom<Math.floor(E.minzoom)||E.maxzoom&&this.zoom>=E.maxzoom||"none"!==E.visibility&&(a(U,this.zoom,r),(d[E.id]=E.createBucket({index:c.bucketLayerIDs.length,layers:U,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(w,g,this.tileID.canonical),c.bucketLayerIDs.push(U.map((function(t){return t.id}))))}}}var Q=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(Q).length?o.send("getGlyphs",{uid:this.uid,stacks:Q},(function(t,e){l||(l=t,h=e,S.call(s))})):h={};var I=Object.keys(g.iconDependencies);I.length?o.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){l||(l=t,f=e,S.call(s))})):f={};var k=Object.keys(g.patternDependencies);function S(){if(l)return A(l);if(h&&f&&p){var e=new i(h),n=new t.ImageAtlas(f,p);for(var o in d){var s=d[o];s instanceof t.SymbolBucket?(a(s.layers,this.zoom,r),t.performSymbolLayout(s,h,e.positions,f,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):s.hasPattern&&(s instanceof t.LineBucket||s instanceof t.FillBucket||s instanceof t.FillExtrusionBucket)&&(a(s.layers,this.zoom,r),s.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",A(null,{buckets:t.values(d).filter((function(t){return!t.isEmpty()})),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?e.positions:null})}}k.length?o.send("getImages",{icons:k,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){l||(l=t,p=e,S.call(s))})):p={},S.call(this)};var s=function(t,e,n,r){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=r||A,this.loading={},this.loaded={}};s.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),A=this.loading[i]=new o(e);A.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return A.status="done",r.loaded[i]=A,n(e);var s=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var l=a.finish();l&&(c.resourceTiming=JSON.parse(JSON.stringify(l)))}A.vectorTile=o.vectorTile,A.parse(o.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:s.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=A}))},s.prototype.reloadTile=function(t,e){var n=this,r=this.loaded,i=t.uid,o=this;if(r&&r[i]){var a=r[i];a.showCollisionBoxes=t.showCollisionBoxes;var A=function(t,r){var i=a.reloadCallback;i&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,i)),e(t,r)};"parsing"===a.status?a.reloadCallback=A:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,A):A())}},s.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},s.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var u=t.window.ImageBitmap,c=function(){this.loaded={}};function l(t,e){if(0!==t.length){h(t[0],e);for(var n=1;n<t.length;n++)h(t[n],!e)}}function h(t,e){for(var n=0,r=0,i=t.length,o=i-1;r<i;o=r++)n+=(t[r][0]-t[o][0])*(t[o][1]+t[r][1]);n>=0!=!!e&&t.reverse()}c.prototype.loadTile=function(e,n){var r=e.uid,i=e.encoding,o=e.rawImageData,a=u&&o instanceof u?this.getImageData(o):o,A=new t.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=A,n(null,A)},c.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var f=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};p.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,A=this._feature.geometry;a<A.length;a+=1){for(var s=[],u=0,c=A[a];u<c.length;u+=1){var l=c[u];s.push(new t.Point$1(l[0],l[1]))}o.push(s)}return o},p.prototype.toGeoJSON=function(t,e,n){return f.call(this,t,e,n)};var d=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};d.prototype.feature=function(t){return new p(this._features[t])};var g=t.vectorTile.VectorTileFeature,m=y;function y(t,e){this.options=e||{},this.features=t,this.length=t.length}function v(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}y.prototype.feature=function(t){return new v(this.features[t],this.options.extent)},v.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},v.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],A=0;A<a.length;A++){var s=a[A];e=Math.min(e,s.x),n=Math.max(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.y)}return[e,r,n,i]},v.prototype.toGeoJSON=g.prototype.toGeoJSON;var _=x,w=m;function x(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,B,t.layers[n])}(e,n),n.finish()}function B(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,b,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,Q,o[n])}function b(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,C,t),e.writeVarintField(3,n.type),e.writeMessage(4,E,n)}function C(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var A in n.properties){var s=o[A];void 0===s&&(r.push(A),o[A]=s=r.length-1),e.writeVarint(s);var u=n.properties[A],c=pn(u);"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var l=c+":"+u,h=a[l];void 0===h&&(i.push(u),a[l]=h=i.length-1),e.writeVarint(h)}}function F(t,e){return(e<<3)+(7&t)}function U(t){return t<<1^t>>31}function E(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,A=0;A<a;A++){var s=n[A],u=1;1===r&&(u=s.length),e.writeVarint(F(1,u));for(var c=3===r?s.length-1:s.length,l=0;l<c;l++){1===l&&1!==r&&e.writeVarint(F(2,c-1));var h=s[l].x-i,f=s[l].y-o;e.writeVarint(U(h)),e.writeVarint(U(f)),i+=h,o+=f}3===r&&e.writeVarint(F(7,1))}}function Q(t,e){var n=pn(t);"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function I(t,e,n,r){k(t,n,r),k(e,2*n,2*r),k(e,2*n+1,2*r+1)}function k(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function S(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}_.fromVectorTileJs=x,_.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new m(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return x({layers:n})},_.GeoJSONWrapper=w;var T=function(t){return t[0]},M=function(t){return t[1]},D=function(t,e,n,r,i){void 0===e&&(e=T),void 0===n&&(n=M),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),A=this.coords=new i(2*t.length),s=0;s<t.length;s++)a[s]=s,A[2*s]=e(t[s]),A[2*s+1]=n(t[s]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var A=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var A=o-i+1,s=r-i+1,u=Math.log(A),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(A-c)/A)*(s-A/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-s*c/A+l)),Math.min(o,Math.floor(r+(A-s)*c/A+l)),a)}var h=n[2*r+a],f=i,p=o;for(I(e,n,i,r),n[2*o+a]>h&&I(e,n,i,o);f<p;){for(I(e,n,f,p),f++,p--;n[2*f+a]<h;)f++;for(;n[2*p+a]>h;)p--}n[2*i+a]===h?I(e,n,i,p):I(e,n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(e,n,A,i,o,a%2),t(e,n,r,i,A-1,a+1),t(e,n,r,A+1,o,a+1)}}(a,A,r,0,a.length-1,0)};D.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var A,s,u=[0,t.length-1,0],c=[];u.length;){var l=u.pop(),h=u.pop(),f=u.pop();if(h-f<=a)for(var p=f;p<=h;p++)s=e[2*p+1],(A=e[2*p])>=n&&A<=i&&s>=r&&s<=o&&c.push(t[p]);else{var d=Math.floor((f+h)/2);s=e[2*d+1],(A=e[2*d])>=n&&A<=i&&s>=r&&s<=o&&c.push(t[d]);var g=(l+1)%2;(0===l?n<=A:r<=s)&&(u.push(f),u.push(d-1),u.push(g)),(0===l?i>=A:o>=s)&&(u.push(d+1),u.push(h),u.push(g))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},D.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],A=[],s=i*i;a.length;){var u=a.pop(),c=a.pop(),l=a.pop();if(c-l<=o)for(var h=l;h<=c;h++)S(e[2*h],e[2*h+1],n,r)<=s&&A.push(t[h]);else{var f=Math.floor((l+c)/2),p=e[2*f],d=e[2*f+1];S(p,d,n,r)<=s&&A.push(t[f]);var g=(u+1)%2;(0===u?n-i<=p:r-i<=d)&&(a.push(l),a.push(f-1),a.push(g)),(0===u?n+i>=p:r+i>=d)&&(a.push(f+1),a.push(c),a.push(g))}}return A}(this.ids,this.coords,t,e,n,this.nodeSize)};var L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},P=function(t){this.options=V(Object.create(L),t),this.trees=new Array(this.options.maxZoom+1)};function H(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function z(t,e){var n=t.geometry.coordinates,r=n[1];return{x:O(n[0]),y:K(r),zoom:1/0,index:e,parentId:-1}}function $(t){return{type:"Feature",id:t.id,properties:R(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function R(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return V(V({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function O(t){return t/360+.5}function K(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function V(t,e){for(var n in e)t[n]=e[n];return t}function N(t){return t.x}function G(t){return t.y}function j(t,e,n,r,i,o){var a=i-n,A=o-r;if(0!==a||0!==A){var s=((t-n)*a+(e-r)*A)/(a*a+A*A);s>1?(n=i,r=o):s>0&&(n+=a*s,r+=A*s)}return(a=t-n)*a+(A=e-r)*A}function q(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Z(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)Z(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)Z(t,e[r][i])}(i),i}function Z(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function X(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),A=[],s=e.id;if(n.promoteId?s=e.properties[n.promoteId]:n.generateId&&(s=r||0),"Point"===o)W(i,A);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)W(i[u],A);else if("LineString"===o)J(i,A,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)J(i[u],A=[],a,!1),t.push(q(s,"LineString",A,e.properties));return}Y(i,A,a,!1)}else if("Polygon"===o)Y(i,A,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<e.geometry.geometries.length;u++)X(t,{id:s,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];Y(i[u],c,a,!0),A.push(c)}}t.push(q(s,o,A,e.properties))}}function W(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function J(t,e,n,r){for(var i,o,a=0,A=0;A<t.length;A++){var s=tt(t[A][0]),u=et(t[A][1]);e.push(s),e.push(u),e.push(0),A>0&&(a+=r?(i*u-s*o)/2:Math.sqrt(Math.pow(s-i,2)+Math.pow(u-o,2))),i=s,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,A=r-n>>1,s=r-n,u=e[n],c=e[n+1],l=e[r],h=e[r+1],f=n+3;f<r;f+=3){var p=j(e[f],e[f+1],u,c,l,h);if(p>a)o=f,a=p;else if(p===a){var d=Math.abs(f-A);d<s&&(o=f,s=d)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Y(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];J(t[i],o,n,r),e.push(o)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function nt(t,e,n,r,i,o,a,A){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var s=[],u=0;u<t.length;u++){var c=t[u],l=c.geometry,h=c.type,f=0===i?c.minX:c.minY,p=0===i?c.maxX:c.maxY;if(f>=n&&p<r)s.push(c);else if(!(p<n||f>=r)){var d=[];if("Point"===h||"MultiPoint"===h)rt(l,d,n,r,i);else if("LineString"===h)it(l,d,n,r,i,!1,A.lineMetrics);else if("MultiLineString"===h)at(l,d,n,r,i,!1);else if("Polygon"===h)at(l,d,n,r,i,!0);else if("MultiPolygon"===h)for(var g=0;g<l.length;g++){var m=[];at(l[g],m,n,r,i,!0),m.length&&d.push(m)}if(d.length){if(A.lineMetrics&&"LineString"===h){for(g=0;g<d.length;g++)s.push(q(c.id,h,d[g],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===d.length?(h="LineString",d=d[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===d.length?"Point":"MultiPoint"),s.push(q(c.id,h,d,c.tags))}}}return s.length?s:null}function rt(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function it(t,e,n,r,i,o,a){for(var A,s,u=ot(t),c=0===i?st:ut,l=t.start,h=0;h<t.length-3;h+=3){var f=t[h],p=t[h+1],d=t[h+2],g=t[h+3],m=t[h+4],y=0===i?f:p,v=0===i?g:m,_=!1;a&&(A=Math.sqrt(Math.pow(f-g,2)+Math.pow(p-m,2))),y<n?v>n&&(s=c(u,f,p,g,m,n),a&&(u.start=l+A*s)):y>r?v<r&&(s=c(u,f,p,g,m,r),a&&(u.start=l+A*s)):At(u,f,p,d),v<n&&y>=n&&(s=c(u,f,p,g,m,n),_=!0),v>r&&y<=r&&(s=c(u,f,p,g,m,r),_=!0),!o&&_&&(a&&(u.end=l+A*s),e.push(u),u=ot(t)),a&&(l+=A)}var w=t.length-3;f=t[w],p=t[w+1],d=t[w+2],(y=0===i?f:p)>=n&&y<=r&&At(u,f,p,d),w=u.length-3,o&&w>=3&&(u[w]!==u[0]||u[w+1]!==u[1])&&At(u,u[0],u[1],u[2]),u.length&&e.push(u)}function ot(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function at(t,e,n,r,i,o){for(var a=0;a<t.length;a++)it(t[a],e,n,r,i,o,!1)}function At(t,e,n,r){t.push(e),t.push(n),t.push(r)}function st(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function ut(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function ct(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=lt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var A=0;A<o.geometry.length;A++)i.push(lt(o.geometry[A],e))}else if("MultiPolygon"===a)for(i=[],A=0;A<o.geometry.length;A++){for(var s=[],u=0;u<o.geometry[A].length;u++)s.push(lt(o.geometry[A][u],e));i.push(s)}n.push(q(o.id,a,i,o.tags))}return n}function lt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function ht(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,A=t.y;for(n=0;n<t.features.length;n++){var s=t.features[n],u=s.geometry,c=s.type;if(s.geometry=[],1===c)for(r=0;r<u.length;r+=2)s.geometry.push(ft(u[r],u[r+1],e,o,a,A));else for(r=0;r<u.length;r++){var l=[];for(i=0;i<u[r].length;i+=2)l.push(ft(u[r][i],u[r][i+1],e,o,a,A));s.geometry.push(l)}}return t.transformed=!0,t}function ft(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function pt(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},A=0;A<t.length;A++){a.numFeatures++,dt(a,t[A],o,i);var s=t[A].minX,u=t[A].minY,c=t[A].maxX,l=t[A].maxY;s<a.minX&&(a.minX=s),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),l>a.maxY&&(a.maxY=l)}return a}function dt(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var A=0;A<i.length;A+=3)a.push(i[A]),a.push(i[A+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)gt(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(A=0;A<i.length;A++)gt(a,i[A],t,n,"Polygon"===o,0===A);else if("MultiPolygon"===o)for(var s=0;s<i.length;s++){var u=i[s];for(A=0;A<u.length;A++)gt(a,u[A],t,n,!0,0===A)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var l in c={},e.tags)c[l]=e.tags[l];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(h.id=e.id),t.features.push(h)}}function gt(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var A=[],s=0;s<e.length;s+=3)(0===r||e[s+2]>a)&&(n.numSimplified++,A.push(e[s]),A.push(e[s+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],A=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=A}}(A,o),t.push(A)}}function mt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r,i,o,a,A,s,u=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)X(n,t.features[r],e,r);else X(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=u,i=e,o=i.buffer/i.extent,a=r,A=nt(r,1,-1-o,o,0,-1,2,i),s=nt(r,1,1-o,2+o,0,-1,2,i),(A||s)&&(a=nt(r,1,-o,1+o,0,-1,2,i)||[],A&&(a=ct(A,1).concat(a)),s&&(a=a.concat(ct(s,-1)))),u=a).length&&this.splitTile(u,0,0,0),n&&(u.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function yt(t,e,n){return 32*((1<<t)*n+e)+t}function vt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new d(r.features),o=_(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}P.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var A=[],s=0;s<t.length;s++)t[s].geometry&&A.push(z(t[s],s));this.trees[i+1]=new D(A,N,G,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();A=this._cluster(A,u),this.trees[u]=new D(A,N,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,A.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},P.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),A=this.getClusters([-180,r,i,o],e);return a.concat(A)}for(var s=this.trees[this._limitZoom(e)],u=[],c=0,l=s.range(O(n),K(o),O(i),K(r));c<l.length;c+=1){var h=s.points[l[c]];u.push(h.numPoints?$(h):this.points[h.index])}return u},P.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),A=[],s=0,u=i.within(o.x,o.y,a);s<u.length;s+=1){var c=i.points[u[s]];c.parentId===t&&A.push(c.numPoints?$(c):this.points[c.index])}if(0===A.length)throw new Error(r);return A},P.prototype.getLeaves=function(t,e,n){var r=[];return this._appendLeaves(r,t,e=e||10,n=n||0,0),r},P.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.radius/o.extent,A=(n-a)/i,s=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((e-a)/i,A,(e+1+a)/i,s),r.points,e,n,i,u),0===e&&this._addTileFeatures(r.range(1-a/i,A,1,s),r.points,i,n,i,u),e===i-1&&this._addTileFeatures(r.range(0,A,a/i,s),r.points,-1,n,i,u),u.features.length?u:null},P.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},P.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var A=a[o],s=A.properties;if(s&&s.cluster?i+s.point_count<=r?i+=s.point_count:i=this._appendLeaves(t,s.cluster_id,n,r,i):i<r?i++:t.push(A),t.length===n)break}return i},P.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,A=t;a<A.length;a+=1){var s=e[A[a]],u=s.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:u?R(s):this.points[s.index].properties},l=void 0;u?l=s.id:this.options.generateId?l=s.index:this.points[s.index].id&&(l=this.points[s.index].id),void 0!==l&&(c.id=l),o.features.push(c)}},P.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},P.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.reduce,o=r.minPoints,a=r.radius/(r.extent*Math.pow(2,e)),A=0;A<t.length;A++){var s=t[A];if(!(s.zoom<=e)){s.zoom=e;for(var u=this.trees[e+1],c=u.within(s.x,s.y,a),l=s.numPoints||1,h=l,f=0,p=c;f<p.length;f+=1){var d=u.points[p[f]];d.zoom>e&&(h+=d.numPoints||1)}if(h>=o){for(var g=s.x*l,m=s.y*l,y=i&&l>1?this._map(s,!0):null,v=(A<<5)+(e+1)+this.points.length,_=0,w=c;_<w.length;_+=1){var x=u.points[w[_]];if(!(x.zoom<=e)){x.zoom=e;var B=x.numPoints||1;g+=x.x*B,m+=x.y*B,x.parentId=v,i&&(y||(y=this._map(s,!0)),i(y,this._map(x)))}}s.parentId=v,n.push(H(g/h,m/h,v,h,y))}else if(n.push(s),h>1)for(var b=0,C=c;b<C.length;b+=1){var F=u.points[C[b]];F.zoom<=e||(F.zoom=e,n.push(F))}}}return n},P.prototype._getOriginId=function(t){return t-this.points.length>>5},P.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},P.prototype._map=function(t,e){if(t.numPoints)return e?V({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?V({},r):r},mt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},mt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var A=[t,e,n,r],s=this.options,u=s.debug;A.length;){r=A.pop(),n=A.pop(),e=A.pop(),t=A.pop();var c=1<<e,l=yt(e,n,r),h=this.tiles[l];if(!h&&(u>1&&console.time("creation"),h=this.tiles[l]=pt(t,e,n,r,s),this.tileCoords.push({z:e,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+e;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=t,i){if(e===s.maxZoom||e===i)continue;var p=1<<i-e;if(n!==Math.floor(o/p)||r!==Math.floor(a/p))continue}else if(e===s.indexMaxZoom||h.numPoints<=s.indexMaxPoints)continue;if(h.source=null,0!==t.length){u>1&&console.time("clipping");var d,g,m,y,v,_,w=.5*s.buffer/s.extent,x=.5-w,B=.5+w,b=1+w;d=g=m=y=null,v=nt(t,c,n-w,n+B,0,h.minX,h.maxX,s),_=nt(t,c,n+x,n+b,0,h.minX,h.maxX,s),t=null,v&&(d=nt(v,c,r-w,r+B,1,h.minY,h.maxY,s),g=nt(v,c,r+x,r+b,1,h.minY,h.maxY,s),v=null),_&&(m=nt(_,c,r-w,r+B,1,h.minY,h.maxY,s),y=nt(_,c,r+x,r+b,1,h.minY,h.maxY,s),_=null),u>1&&console.timeEnd("clipping"),A.push(d||[],e+1,2*n,2*r),A.push(g||[],e+1,2*n,2*r+1),A.push(m||[],e+1,2*n+1,2*r),A.push(y||[],e+1,2*n+1,2*r+1)}}},mt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,A=yt(t,e=(e%a+a)%a,n);if(this.tiles[A])return ht(this.tiles[A],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var s,u=t,c=e,l=n;!s&&u>0;)u--,c=Math.floor(c/2),l=Math.floor(l/2),s=this.tiles[yt(u,c,l)];return s&&s.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,l),o>1&&console.time("drilling down"),this.splitTile(s.source,u,c,l,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[A]?ht(this.tiles[A],i):null):null};var _t=function(e){function n(t,n,r,i){e.call(this,t,n,r,vt),i&&(this.loadGeoJSON=i)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new t.RequestPerformance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=pn(a))return n(new Error("Input data given to '"+r.source+"' is not a valid GeoJSON object."));!function t(e,n){var r,i=e&&e.type;if("FeatureCollection"===i)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===i)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===i)t(e.geometry,n);else if("Polygon"===i)l(e.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<e.coordinates.length;r++)l(e.coordinates[r],n);return e}(a,!0);try{if(r.filter){var A=t.createExpression(r.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===A.result)throw new Error(A.value.map((function(t){return t.key+": "+t.message})).join(", "));var s=a.features.filter((function(t){return A.value.evaluate({zoom:0},t)}));a={type:"FeatureCollection",features:s}}e._geoJSONIndex=r.cluster?new P(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},A={properties:null},s=Object.keys(r),u=0,c=s;u<c.length;u+=1){var l=c[u],h=r[l],f=h[0],p=t.createExpression(h[1]),d=t.createExpression("string"==typeof f?[f,["accumulated"],["get",l]]:f);i[l]=p.value,o[l]=d.value}return n.map=function(t){A.properties=t;for(var e={},n=0,r=s;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,A)}return e},n.reduce=function(t,e){A.properties=e;for(var n=0,r=s;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,A)}},n}(r)).load(a.features):(u=a,c=r.geojsonVtOptions,new mt(u,c))}catch(u){return n(u)}var u,c;e.loaded={};var h={};if(i){var f=i.finish();f&&(h.resourceTiming={},h.resourceTiming[r.source]=JSON.parse(JSON.stringify(f)))}n(null,h)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded;return r&&r[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(s),wt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:s,geojson:_t},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return wt.prototype.setReferrer=function(t,e){this.referrer=e},wt.prototype.setImages=function(t,e,n){for(var r in this.availableImages[t]=e,this.workerSources[t]){var i=this.workerSources[t][r];for(var o in i)i[o].availableImages=e}n()},wt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},wt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},wt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},wt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},wt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},wt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},wt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},wt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},wt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},wt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},wt.prototype.syncRTLPluginState=function(e,n,r){try{t.plugin.setState(n);var i=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=i){this.self.importScripts(i);var o=t.plugin.isParsed();r(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+i),o)}}catch(t){r(t.toString())}},wt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},wt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},wt.prototype.getWorkerSource=function(t,e,n){var r=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,i){r.actor.send(e,n,i,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},wt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},wt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new wt(self)),wt})),r(["./shared"],(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===r[n=t&&t.failIfMajorPerformanceCaveat]&&(r[n]=function(t){var n,r,i,o=(n=t,r=document.createElement("canvas"),(i=Object.create(e.webGLContextAttributes)).failIfMajorPerformanceCaveat=n,r.probablySupportsContext?r.probablySupportsContext("webgl",i)||r.probablySupportsContext("experimental-webgl",i):r.supportsContext?r.supportsContext("webgl",i)||r.supportsContext("experimental-webgl",i):r.getContext("webgl",i)||r.getContext("experimental-webgl",i));if(!o)return!1;var a=o.createShader(o.VERTEX_SHADER);return!(!a||o.isContextLost())&&(o.shaderSource(a,"void main() {}"),o.compileShader(a),!0===o.getShaderParameter(a,o.COMPILE_STATUS))}(n)),r[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var r={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,r){var i=t.window.document.createElement(e);return void 0!==n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document&&t.window.document.documentElement.style;function i(t){if(!r)return t[0];for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var A=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[A]=e};var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});t.window.addEventListener("test",u,u),t.window.removeEventListener("test",u,u)}catch(t){s=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),t.addEventListener(e,n,"passive"in r&&s?r:r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),t.removeEventListener(e,n,"passive"in r&&s?r:r.capture)};var c=function e(n){n.preventDefault(),n.stopPropagation(),t.window.removeEventListener("click",e,!0)};function l(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect();return new t.Point(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o=0;o<n.length;o++)i.push(new t.Point(n[o].clientX-r.left-e.clientLeft,n[o].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var h=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e];this._notify(r.ids,r.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),r=!1),r},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1)this.images[i[r]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var A=this.images[a];A?r[a]={data:A.data.clone(),pixelRatio:A.pixelRatio,sdf:A.sdf,version:A.version,stretchX:A.stretchX,stretchY:A.stretchY,content:A.content,hasRenderCallback:Boolean(A.userImage&&A.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var A in a.resize({width:i||1,height:o||1}),this.patterns){var s=this.patterns[A].bin,u=s.x+1,c=s.y+1,l=this.images[A].data,h=l.width,f=l.height;t.RGBAImage.copy(l,a,{x:0,y:0},{x:u,y:c},{width:h,height:f}),t.RGBAImage.copy(l,a,{x:0,y:f-1},{x:u,y:c-1},{width:h,height:1}),t.RGBAImage.copy(l,a,{x:0,y:0},{x:u,y:c+f},{width:h,height:1}),t.RGBAImage.copy(l,a,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:f}),t.RGBAImage.copy(l,a,{x:0,y:0},{x:u+h,y:c},{width:1,height:f})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];l(i)&&this.updateImage(r,i)}}},n}(t.Evented),f=g,p=g,d=1e20;function g(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(t,e,n,r,i,o,a){for(var A=0;A<e;A++){for(var s=0;s<n;s++)r[s]=t[s*e+A];for(y(r,i,o,a,n),s=0;s<n;s++)t[s*e+A]=i[s]}for(s=0;s<n;s++){for(A=0;A<e;A++)r[A]=t[s*e+A];for(y(r,i,o,a,e),A=0;A<e;A++)t[s*e+A]=Math.sqrt(i[A])}}function y(t,e,n,r,i){n[0]=0,r[0]=-d,r[1]=+d;for(var o=1,a=0;o<i;o++){for(var A=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);A<=r[a];)a--,A=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=A,r[a+1]=+d}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}g.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?d:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?d:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++)n[r]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[r]-this.gridInner[r])/this.radius+this.cutoff))));return n},f.default=p;var v=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};v.prototype.setURL=function(t){this.url=t},v.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,A=e[o];a<A.length;a+=1)i.push({stack:o,id:A[a]});t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[i];if(void 0===a){if(a=r._tinySDF(o,n,i))return o.glyphs[i]=a,void e(null,{stack:n,id:i,glyph:a});var A=Math.floor(i/256);if(256*A>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[A])e(null,{stack:n,id:i,glyph:a});else{var s=o.requests[A];s||(s=o.requests[A]=[],v.loadGlyphRange(n,A,r.url,r.requestManager,(function(t,e){if(e){for(var n in e)r._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[A]=!0}for(var i=0,a=s;i<a.length;i+=1)(0,a[i])(t,e);delete o.requests[A]}))),s.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],A=a.stack,s=a.id,u=a.glyph;(r[A]||(r[A]={}))[s]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},v.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},v.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new v.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(e,n,r,i,o){var a=256*n,A=a+255,s=i.transformRequest(i.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+A),t.ResourceType.Glyphs);t.getArrayBuffer(s,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var A=a[i];r[A.id]=A}o(null,r)}}))},v.TinySDF=f;var _=function(){this.specification=t.styleSpec.light.position};_.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},_.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var w=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new _,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),x=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(w),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-11),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),B=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};B.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},B.prototype.getDashRanges=function(t,e,n){var r=[],i=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===t[0]});for(var A=t[0],s=1;s<t.length;s++){var u=t[s];r.push({left:i=A*n,right:o=(A+=u)*n,isDash:a=!a,zeroLength:0===u})}return r},B.prototype.addRoundDash=function(t,e,n){for(var r=e/2,i=-n;i<=n;i++)for(var o=this.width*(this.nextRow+n+i),a=0,A=t[a],s=0;s<this.width;s++){s/A.right>1&&(A=t[++a]);var u=Math.abs(s-A.left),c=Math.abs(s-A.right),l=Math.min(u,c),h=void 0,f=i/n*(r+1);if(A.isDash){var p=r-Math.abs(f);h=Math.sqrt(l*l+p*p)}else h=r-Math.sqrt(l*l+f*f);this.data[o+s]=Math.max(0,Math.min(255,h+128))}},B.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],r=t[e+1];n.zeroLength?t.splice(e,1):r&&r.isDash===n.isDash&&(r.left=n.left,t.splice(e,1))}var i=t[0],o=t[t.length-1];i.isDash===o.isDash&&(i.left=o.left-this.width,o.right=i.right+this.width);for(var a=this.width*this.nextRow,A=0,s=t[A],u=0;u<this.width;u++){u/s.right>1&&(s=t[++A]);var c=Math.abs(u-s.left),l=Math.abs(u-s.right),h=Math.min(c,l);this.data[a+u]=Math.max(0,Math.min(255,(s.isDash?h:-h)+128))}},B.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var A=this.width/o,s=this.getDashRanges(e,this.width,A);n?this.addRoundDash(s,A,r):this.addRegularDash(s)}var u={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,u},B.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var b=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=new e.Actor(i[o],r,this.id);a.name="Worker "+o,this.actors.push(a)}};function C(e,n,r){var i=function(i,o){if(i)return r(i);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),r(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}b.prototype.broadcast=function(e,n,r){t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r=r||function(){})},b.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},b.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},b.Actor=t.Actor;var F=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};F.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},F.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var U=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(r,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new F(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty((function(){e._options.tiles=t})),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty((function(){e.url=t,e._options.url=t})),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete e.request,e.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",i,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),E=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,(function(n,r){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new F(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,A=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,A.RGBA,{useMipmap:!0}),e.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE,A.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&A.texParameterf(A.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(r.dispatcher),n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),Q=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function i(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),A={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",A,i.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,A=n.x+1===r?e.wrap+1:e.wrap,s={};return s[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},s[new t.OverscaledTileID(e.overscaledZ,A,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(s[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},s[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},s[new t.OverscaledTileID(e.overscaledZ,A,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(s[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},s[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},s[new t.OverscaledTileID(e.overscaledZ,A,n.z,a,n.y+1).key]={backfilled:!1}),s},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(E),I=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._requestManager.transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:r.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var r=this,i=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(i,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),k=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),S=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var r=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(i,o){r._loaded=!0,i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,A=e;a<A.length;a+=1){var s=A[a];n=Math.min(n,s.x),r=Math.min(r,s.y),i=Math.max(i,s.x),o=Math.max(o,s.y)}var u=Math.max(i-n,o-r),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),l=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+i)/2*l),Math.floor((r+o)/2*l))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,k.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),T=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1)this.urls.push(this.map._requestManager.transformRequest(i[r],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,r){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,k.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(S),M=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,k.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(S),D={vector:U,raster:E,"raster-dem":Q,geojson:I,video:T,image:S,canvas:M};function L(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function P(t,e,n,r,i,o){var a=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var A=e[a];if(A.source===n&&"fill-extrusion"===A.type)return!0}return!1}(i&&i.layers,e,t.id),A=o.maxPitchScaleFactor(),s=t.tilesIn(r,A,a);s.sort(H);for(var u=[],c=0,l=s;c<l.length;c+=1){var h=l[c];u.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(e,n,t._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,i,o,A,L(t.transform,h.tileID))})}var f=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,A=o.wrappedTileID,s=n[A]=n[A]||{};for(var u in a)for(var c=a[u],l=s[u]=s[u]||{},h=e[u]=e[u]||[],f=0,p=c;f<p.length;f+=1){var d=p[f];l[d.featureIndex]||(l[d.featureIndex]=!0,h.push(d))}}return e}(u);for(var p in f)f[p].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return f}function H(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var z=function(t,e){this.max=t,this.onRemove=e,this.reset()};z.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},z.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},z.prototype.has=function(t){return t.wrapped().key in this.data},z.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},z.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},z.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},z.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},z.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},z.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},z.prototype.filter=function(t){var e=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var o=i[r];t(o.value)||e.push(o)}for(var a=0,A=e;a<A.length;a+=1){var s=A[a];this.remove(s.value.tileID,s)}};var $=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};$.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},$.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},$.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var R={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},O=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};O.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},O.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},O.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=e.attributes[this.attributes[n].name];void 0!==r&&t.enableVertexAttribArray(r)}},O.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[R[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},O.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var K=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};K.prototype.get=function(){return this.current},K.prototype.set=function(t){},K.prototype.getDefault=function(){return this.default},K.prototype.setDefault=function(){this.set(this.default)};var V=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(K),N=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(K),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(K),j=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(K),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(K),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(K),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(K),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(K),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(K),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(K),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(K),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(K),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(K),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(K),it=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(K),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(K),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(K),At=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(K),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(K),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(K),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(K),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(K),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(K),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(K),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(K),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(K),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(K),mt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(K),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(K),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(K),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(K),wt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(K),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(wt),Bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(wt),bt=function(t,e,n,r){this.context=t,this.width=e,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new xt(t,i),r&&(this.depthAttachment=new Bt(t,i))};bt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var Ct=function(t,e,n){this.func=t,this.mask=e,this.range=n};Ct.ReadOnly=!1,Ct.ReadWrite=!0,Ct.disabled=new Ct(519,Ct.ReadOnly,[0,1]);var Ft=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Ft.disabled=new Ft({func:519,mask:0},0,0,7680,7680,7680);var Ut=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Ut.disabled=new Ut(Ut.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Ut.unblended=new Ut(Ut.Replace,t.Color.transparent,[!0,!0,!0,!0]),Ut.alphaBlended=new Ut([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Et=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Et.disabled=new Et(!1,1029,2305),Et.backCCW=new Et(!0,1029,2305);var Qt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new V(this),this.clearDepth=new N(this),this.clearStencil=new G(this),this.colorMask=new j(this),this.depthMask=new q(this),this.stencilMask=new Z(this),this.stencilFunc=new X(this),this.stencilOp=new W(this),this.stencilTest=new J(this),this.depthRange=new Y(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new rt(this),this.blendColor=new it(this),this.blendEquation=new ot(this),this.cullFace=new at(this),this.cullFaceSide=new At(this),this.frontFace=new st(this),this.program=new ut(this),this.activeTexture=new ct(this),this.viewport=new lt(this),this.bindFramebuffer=new ht(this),this.bindRenderbuffer=new ft(this),this.bindTexture=new pt(this),this.bindVertexBuffer=new dt(this),this.bindElementBuffer=new gt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new mt(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new vt(this),this.pixelStoreUnpackFlipY=new _t(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};Qt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Qt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Qt.prototype.createIndexBuffer=function(t,e){return new $(this,t,e)},Qt.prototype.createVertexBuffer=function(t,e,n){return new O(this,t,e,n)},Qt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},Qt.prototype.createFramebuffer=function(t,e,n){return new bt(this,t,e,n)},Qt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Qt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Qt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Qt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Qt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,Ut.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Qt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var It=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new D[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(kt).map((function(t){return t.key}))},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,e)&&r.push(this._tiles[i]);return e?r.sort((function(e,r){var i=e.tileID,o=r.tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),A=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||A.y-a.y||A.x-a.x})).map((function(t){return t.tileID.key})):r.map((function(t){return t.tileID})).sort(kt).map((function(t){return t.key}))},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var A=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[A.key])&&o.hasData()&&(a=A)}for(var s=a;s.overscaledZ>e;)if(t[(s=s.scaledTo(s.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var r=t.overscaledZ-1;r>=e;r--){var i=t.scaledTo(r),o=this._getLoadedTile(i);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(e*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var r in this._tiles){var i=this._tiles[r];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+e),n[i.tileID.key]=i}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),A=Math.max(o+n.maxUnderzooming,this._source.minzoom),s=this._updateRetainedTiles(i,o);if(St(this._source.type)){for(var u={},c={},l=0,h=Object.keys(s);l<h.length;l+=1){var f=h[l],p=s[f],d=this._tiles[f];if(d&&!(d.fadeEndTime&&d.fadeEndTime<=t.browser.now())){var g=this.findLoadedParent(p,a);g&&(this._addTile(g.tileID),u[g.tileID.key]=g.tileID),c[f]=p}}for(var m in this._retainLoadedChildren(c,o,A,s),u)s[m]||(this._coveredTiles[m]=!0,s[m]=u[m])}for(var y in s)this._tiles[y].clearFadeHold();for(var v=0,_=t.keysDifference(this._tiles,s);v<_.length;v+=1){var w=_[v],x=this._tiles[w];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(w)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),A={},s=0,u=t;s<u.length;s+=1){var c=u[s],l=this._addTile(c);r[c.key]=c,l.hasData()||e<this._source.maxzoom&&(A[c.key]=c)}this._retainLoadedChildren(A,e,a,r);for(var h=0,f=t;h<f.length;h+=1){var p=f[h],d=this._tiles[p.key];if(!d.hasData()){if(e+1>this._source.maxzoom){var g=p.children(this._source.maxzoom)[0],m=this.getTile(g);if(m&&m.hasData()){r[g.key]=g;continue}}else{var y=p.children(this._source.maxzoom);if(r[y[0].key]&&r[y[1].key]&&r[y[2].key]&&r[y[3].key])continue}for(var v=d.wasRequested(),_=p.overscaledZ-1;_>=o;--_){var w=p.scaledTo(_);if(i[w.key])break;if(i[w.key]=!0,!(d=this.getTile(w))&&v&&(d=this._addTile(w)),d&&(r[w.key]=w,v=d.wasRequested(),d.hasData()))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,r=this._tiles[t].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}e.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i))break;r=i}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var A=r?a.getCameraQueryGeometry(e):e,s=e.map((function(t){return a.pointCoordinate(t)})),u=A.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),l=1/0,h=1/0,f=-1/0,p=-1/0,d=0,g=u;d<g.length;d+=1){var m=g[d];l=Math.min(l,m.x),h=Math.min(h,m.y),f=Math.max(f,m.x),p=Math.max(p,m.y)}for(var y=function(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var A=r.tileID,d=Math.pow(2,a.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*t.EXTENT/r.tileSize/d,m=[A.getTilePoint(new t.MercatorCoordinate(l,h)),A.getTilePoint(new t.MercatorCoordinate(f,p))];if(m[0].x-g<t.EXTENT&&m[0].y-g<t.EXTENT&&m[1].x+g>=0&&m[1].y+g>=0){var y=s.map((function(t){return A.getTilePoint(t)})),v=u.map((function(t){return A.getTilePoint(t)}));o.push({tile:r,tileID:A,queryGeometry:y,cameraQueryGeometry:v,scale:d})}}},v=0;v<c.length;v++)y(v);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(St(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var r=this._tiles[t];r&&r.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},n}(t.Evented);function kt(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),r=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||r-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function St(t){return"raster"===t||"image"===t||"video"===t}function Tt(){return new t.window.Worker(Xi.workerUrl)}It.maxOverzooming=10,It.maxUnderzooming=3;var Mt="mapboxgl_preloaded_worker_pool",Dt=function(){this.active={}};Dt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Dt.workerCount;)this.workers.push(new Tt);return this.active[t]=!0,this.workers.slice()},Dt.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)},Dt.prototype.isPreloaded=function(){return!!this.active[Mt]},Dt.prototype.numActive=function(){return Object.keys(this.active).length};var Lt,Pt=Math.floor(t.browser.hardwareConcurrency/2);function Ht(){return Lt||(Lt=new Dt),Lt}function zt(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function $t(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=zt(t[r],e[t[r].ref]));return t}Dt.workerCount=Math.max(Math.min(Pt,6),1);var Rt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ot(t,e,n){n.push({command:Rt.addSource,args:[t,e[t]]})}function Kt(t,e,n){e.push({command:Rt.removeSource,args:[t]}),n[t]=!0}function Vt(t,e,n,r){Kt(t,n,r),Ot(t,e,n)}function Nt(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Gt(e,n,r,i,o,a){var A;for(A in n=n||{},e=e||{})e.hasOwnProperty(A)&&(t.deepEqual(e[A],n[A])||r.push({command:a,args:[i,A,n[A],o]}));for(A in n)n.hasOwnProperty(A)&&!e.hasOwnProperty(A)&&(t.deepEqual(e[A],n[A])||r.push({command:a,args:[i,A,n[A],o]}))}function jt(t){return t.id}function qt(t,e){return t[e.id]=e,t}var Zt=function(t,e){this.reset(t,e)};Zt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Zt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,r=this._distances[n],i=e*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var o=n-1,a=this._distances[o],A=r-a,s=A>0?(i-a)/A:0;return this.points[o].mult(1-s).add(this.points[n].mult(s))};var Xt=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Wt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Jt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Yt(e,n){var r=[e.x,e.y,0,1];ce(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function te(t,e){return.5+t/e*.5}function ee(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function ne(e,n,r,i,o,a,A,s){var u=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,r.transform.zoom),l=[256/r.width*2+1,256/r.height*2+1],h=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;h.clear();for(var f=e.lineVertexArray,p=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,d=r.transform.width/r.transform.height,g=!1,m=0;m<p.length;m++){var y=p.get(m);if(y.hidden||y.writingMode===t.WritingMode.vertical&&!g)ue(y.numGlyphs,h);else{g=!1;var v=[y.anchorX,y.anchorY,0,1];if(t.transformMat4(v,v,n),ee(v,l)){var _=te(r.transform.cameraToCenterDistance,v[3]),w=t.evaluateSizeForFeature(u,c,y),x=A?w/_:w*_,B=new t.Point(y.anchorX,y.anchorY),b=Yt(B,o).point,C={},F=oe(y,x,!1,s,n,o,a,e.glyphOffsetArray,f,h,b,B,C,d);g=F.useVertical,(F.notEnoughRoom||g||F.needsFlipping&&oe(y,x,!0,s,n,o,a,e.glyphOffsetArray,f,h,b,B,C,d).notEnoughRoom)&&ue(y.numGlyphs,h)}else ue(y.numGlyphs,h)}}i?e.text.dynamicLayoutVertexBuffer.updateData(h):e.icon.dynamicLayoutVertexBuffer.updateData(h)}function re(t,e,n,r,i,o,a,A,s,u,c){var l=A.glyphStartIndex+A.numGlyphs,h=A.lineStartIndex,f=A.lineStartIndex+A.lineLength,p=e.getoffsetX(A.glyphStartIndex),d=e.getoffsetX(l-1),g=Ae(t*p,n,r,i,o,a,A.segment,h,f,s,u,c);if(!g)return null;var m=Ae(t*d,n,r,i,o,a,A.segment,h,f,s,u,c);return m?{first:g,last:m}:null}function ie(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function oe(e,n,r,i,o,a,A,s,u,c,l,h,f,p){var d,g=n/24,m=e.lineOffsetX*g,y=e.lineOffsetY*g;if(e.numGlyphs>1){var v=e.glyphStartIndex+e.numGlyphs,_=e.lineStartIndex,w=e.lineStartIndex+e.lineLength,x=re(g,s,m,y,r,l,h,e,u,a,f);if(!x)return{notEnoughRoom:!0};var B=Yt(x.first.point,A).point,b=Yt(x.last.point,A).point;if(i&&!r){var C=ie(e.writingMode,B,b,p);if(C)return C}d=[x.first];for(var F=e.glyphStartIndex+1;F<v-1;F++)d.push(Ae(g*s.getoffsetX(F),m,y,r,l,h,e.segment,_,w,u,a,f));d.push(x.last)}else{if(i&&!r){var U=Yt(h,o).point,E=e.lineStartIndex+e.segment+1,Q=new t.Point(u.getx(E),u.gety(E)),I=Yt(Q,o),k=I.signedDistanceFromCamera>0?I.point:ae(h,Q,U,1,o),S=ie(e.writingMode,U,k,p);if(S)return S}var T=Ae(g*s.getoffsetX(e.glyphStartIndex),m,y,r,l,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,f);if(!T)return{notEnoughRoom:!0};d=[T]}for(var M=0,D=d;M<D.length;M+=1){var L=D[M];t.addDynamicAttributes(c,L.point,L.angle)}return{}}function ae(t,e,n,r,i){var o=Yt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function Ae(e,n,r,i,o,a,A,s,u,c,l,h){var f=i?e-n:e+n,p=f>0?1:-1,d=0;i&&(p*=-1,d=Math.PI),p<0&&(d+=Math.PI);for(var g=p>0?s+A:s+A+1,m=o,y=o,v=0,_=0,w=Math.abs(f),x=[];v+_<=w;){if((g+=p)<s||g>=u)return null;if(y=m,x.push(m),void 0===(m=h[g])){var B=new t.Point(c.getx(g),c.gety(g)),b=Yt(B,l);if(b.signedDistanceFromCamera>0)m=h[g]=b.point;else{var C=g-p;m=ae(0===v?a:new t.Point(c.getx(C),c.gety(C)),B,y,w-v+1,l)}}v+=_,_=y.dist(m)}var F=(w-v)/_,U=m.sub(y),E=U.mult(F)._add(y);E._add(U._unit()._perp()._mult(r*p));var Q=d+Math.atan2(m.y-y.y,m.x-y.x);return x.push(E),{point:E,angle:Q,path:x}}Xt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Xt.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Xt.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Xt.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Xt.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Xt.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var A=0;A<this.boxKeys.length;A++)a.push({key:this.boxKeys[A],x1:this.bboxes[4*A],y1:this.bboxes[4*A+1],x2:this.bboxes[4*A+2],y2:this.bboxes[4*A+3]});for(var s=0;s<this.circleKeys.length;s++){var u=this.circles[3*s],c=this.circles[3*s+1],l=this.circles[3*s+2];a.push({key:this.circleKeys[s],x1:u-l,y1:c-l,x2:u+l,y2:c+l})}return o?a.filter(o):a}return this._forEachCell(t,e,n,r,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a},Xt.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,A=e-n,s=e+n;if(a<0||o>this.width||s<0||A>this.height)return!r&&[];var u=[];return this._forEachCell(o,A,a,s,this._queryCellCircle,u,{hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},i),r?u.length>0:u},Xt.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Xt.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Xt.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Xt.prototype._queryCell=function(t,e,n,r,i,o,a,A){var s=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,l=0,h=u;l<h.length;l+=1){var f=h[l];if(!s.box[f]){s.box[f]=!0;var p=4*f;if(t<=c[p+2]&&e<=c[p+3]&&n>=c[p+0]&&r>=c[p+1]&&(!A||A(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[p],y1:c[p+1],x2:c[p+2],y2:c[p+3]})}}}var d=this.circleCells[i];if(null!==d)for(var g=this.circles,m=0,y=d;m<y.length;m+=1){var v=y[m];if(!s.circle[v]){s.circle[v]=!0;var _=3*v;if(this._circleAndRectCollide(g[_],g[_+1],g[_+2],t,e,n,r)&&(!A||A(this.circleKeys[v]))){if(a.hitTest)return o.push(!0),!0;var w=g[_],x=g[_+1],B=g[_+2];o.push({key:this.circleKeys[v],x1:w-B,y1:x-B,x2:w+B,y2:x+B})}}}},Xt.prototype._queryCellCircle=function(t,e,n,r,i,o,a,A){var s=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var l=this.bboxes,h=0,f=c;h<f.length;h+=1){var p=f[h];if(!u.box[p]){u.box[p]=!0;var d=4*p;if(this._circleAndRectCollide(s.x,s.y,s.radius,l[d+0],l[d+1],l[d+2],l[d+3])&&(!A||A(this.boxKeys[p])))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var m=this.circles,y=0,v=g;y<v.length;y+=1){var _=v[y];if(!u.circle[_]){u.circle[_]=!0;var w=3*_;if(this._circlesCollide(m[w],m[w+1],m[w+2],s.x,s.y,s.radius)&&(!A||A(this.circleKeys[_])))return o.push(!0),!0}}},Xt.prototype._forEachCell=function(t,e,n,r,i,o,a,A){for(var s=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),l=this._convertToYCellCoord(r),h=s;h<=c;h++)for(var f=u;f<=l;f++)if(i.call(this,t,e,n,r,this.xCellCount*f+h,o,a,A))return},Xt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Xt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Xt.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,A=i-e,s=n+o;return s*s>a*a+A*A},Xt.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var A=(o-r)/2,s=Math.abs(t-(r+A));if(s>A+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(s<=A||c<=u)return!0;var l=s-A,h=c-u;return l*l+h*h<=n*n};var se=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ue(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(se,3*r)}}function ce(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var le=function(t,e,n){void 0===e&&(e=new Xt(t.width+200,t.height+200,25)),void 0===n&&(n=new Xt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function he(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}le.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,A=t.x1*a+o.point.x,s=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(A,s,u,c)||!e&&this.grid.hitTest(A,s,u,c,i)?{box:[],offscreen:!1}:{box:[A,s,u,c],offscreen:this.isOffscreen(A,s,u,c)}},le.prototype.placeCollisionCircles=function(e,n,r,i,o,a,A,s,u,c,l,h,f){var p=[],d=new t.Point(n.anchorX,n.anchorY),g=Yt(d,a),m=te(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),y=(c?o/m:o*m)/t.ONE_EM,v=Yt(d,A).point,_=re(y,i,n.lineOffsetX*y,n.lineOffsetY*y,!1,v,d,n,r,A,{}),w=!1,x=!1,B=!0;if(_){for(var b=.5*h*m+f,C=new t.Point(-100,-100),F=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),U=new Zt,E=_.first,Q=_.last,I=[],k=E.path.length-1;k>=1;k--)I.push(E.path[k]);for(var S=1;S<Q.path.length;S++)I.push(Q.path[S]);var T=2.5*b;if(s){var M=I.map((function(t){return Yt(t,s)}));I=M.some((function(t){return t.signedDistanceFromCamera<=0}))?[]:M.map((function(t){return t.point}))}var D=[];if(I.length>0){for(var L=I[0].clone(),P=I[0].clone(),H=1;H<I.length;H++)L.x=Math.min(L.x,I[H].x),L.y=Math.min(L.y,I[H].y),P.x=Math.max(P.x,I[H].x),P.y=Math.max(P.y,I[H].y);D=L.x>=C.x&&P.x<=F.x&&L.y>=C.y&&P.y<=F.y?[I]:P.x<C.x||L.x>F.x||P.y<C.y||L.y>F.y?[]:t.clipLine([I],C.x,C.y,F.x,F.y)}for(var z=0,$=D;z<$.length;z+=1){var R;U.reset($[z],.25*b),R=U.length<=.5*b?1:Math.ceil(U.paddedLength/T)+1;for(var O=0;O<R;O++){var K=O/Math.max(R-1,1),V=U.lerp(K),N=V.x+100,G=V.y+100;p.push(N,G,b,0);var j=N-b,q=G-b,Z=N+b,X=G+b;if(B=B&&this.isOffscreen(j,q,Z,X),x=x||this.isInsideGrid(j,q,Z,X),!e&&this.grid.hitTestCircle(N,G,b,l)&&(w=!0,!u))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!u&&w||!x?[]:p,offscreen:B,collisionDetected:w}},le.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,A=0,s=e;A<s.length;A+=1){var u=s[A],c=new t.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var l={},h={},f=0,p=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));f<p.length;f+=1){var d=p[f],g=d.key;if(void 0===l[g.bucketInstanceId]&&(l[g.bucketInstanceId]={}),!l[g.bucketInstanceId][g.featureIndex]){var m=[new t.Point(d.x1,d.y1),new t.Point(d.x2,d.y1),new t.Point(d.x2,d.y2),new t.Point(d.x1,d.y2)];t.polygonIntersectsPolygon(n,m)&&(l[g.bucketInstanceId][g.featureIndex]=!0,void 0===h[g.bucketInstanceId]&&(h[g.bucketInstanceId]=[]),h[g.bucketInstanceId].push(g.featureIndex))}}return h},le.prototype.insertCollisionBox=function(t,e,n,r,i){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:r,collisionGroupID:i},t[0],t[1],t[2],t[3])},le.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},A=0;A<t.length;A+=4)o.insertCircle(a,t[A],t[A+1],t[A+2])},le.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return ce(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},le.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},le.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary},le.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var fe=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};fe.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pe=function(t,e,n,r,i){this.text=new fe(t?t.text:null,e,n,i),this.icon=new fe(t?t.icon:null,e,r,i)};pe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var de=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},ge=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},me=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},ye=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function ve(e,n,r,i,o){var a=t.getAnchorAlignment(e),A=-(a.horizontalAlign-.5)*n,s=-(a.verticalAlign-.5)*r,u=t.evaluateVariableOffset(e,i);return new t.Point(A+u[0]*o,s+u[1]*o)}function _e(e,n,r,i,o,a){var A=e.x1,s=e.x2,u=e.y1,c=e.y2,l=e.anchorPointX,h=e.anchorPointY,f=new t.Point(n,r);return i&&f._rotate(o?a:-a),{x1:A+f.x,y1:u+f.y,x2:s+f.x,y2:c+f.y,anchorPointX:l,anchorPointY:h}}ye.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var we=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new le(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ye(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};function xe(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}we.prototype.getBucketParts=function(e,n,r,i){var o=r.getBucket(n),a=r.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var A=r.collisionBoxArray,s=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/t.EXTENT,l=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h="map"===s.get("text-pitch-alignment"),f="map"===s.get("text-rotation-alignment"),p=he(r,1,this.transform.zoom),d=Wt(l,h,f,this.transform,p),g=null;if(h){var m=Jt(l,h,f,this.transform,p);g=t.multiply([],this.transform.labelPlaneMatrix,m)}this.retainedQueryData[o.bucketInstanceId]=new me(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);var y={bucket:o,layout:s,posMatrix:l,textLabelPlaneMatrix:d,labelToScreenMatrix:g,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:A,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(var v=0,_=o.sortKeyRanges;v<_.length;v+=1){var w=_[v];e.push({sortKey:w.sortKey,symbolInstanceStart:w.symbolInstanceStart,symbolInstanceEnd:w.symbolInstanceEnd,parameters:y})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}},we.prototype.attemptAnchorPlacement=function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p){var d,g=[l.textOffset0,l.textOffset1],m=ve(t,n,r,g,i),y=this.collisionIndex.placeCollisionBox(_e(e,m.x,m.y,o,a,this.transform.angle),c,A,s,u.predicate);if(!p||0!==this.collisionIndex.placeCollisionBox(_e(p,m.x,m.y,o,a,this.transform.angle),c,A,s,u.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[l.crossTileID]&&this.prevPlacement.placements[l.crossTileID]&&this.prevPlacement.placements[l.crossTileID].text&&(d=this.prevPlacement.variableOffsets[l.crossTileID].anchor),this.variableOffsets[l.crossTileID]={textOffset:g,width:n,height:r,anchor:t,textBoxScale:i,prevAnchor:d},this.markUsedJustification(h,t,l,f),h.allowVerticalPlacement&&(this.markUsedOrientation(h,f,l),this.placedOrientations[l.crossTileID]=f),{shift:m,placedGlyphBoxes:y}):void 0},we.prototype.placeLayerBucketPart=function(e,n,r){var i=this,o=e.parameters,a=o.bucket,A=o.layout,s=o.posMatrix,u=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,l=o.textPixelRatio,h=o.holdingForFade,f=o.collisionBoxArray,p=o.partiallyEvaluatedTextSize,d=o.collisionGroup,g=A.get("text-optional"),m=A.get("icon-optional"),y=A.get("text-allow-overlap"),v=A.get("icon-allow-overlap"),_="map"===A.get("text-rotation-alignment"),w="map"===A.get("text-pitch-alignment"),x="none"!==A.get("icon-text-fit"),B="viewport-y"===A.get("symbol-z-order"),b=y&&(v||!a.hasIconData()||m),C=v&&(y||!a.hasTextData()||g);!a.collisionArrays&&f&&a.deserializeCollisionBoxes(f);var F=function(e,o){if(!n[e.crossTileID])if(h)i.placements[e.crossTileID]=new de(!1,!1,!1);else{var f,B=!1,F=!1,U=!0,E=null,Q={box:null,offscreen:null},I={box:null,offscreen:null},k=null,S=null,T=0,M=0,D=0;o.textFeatureIndex?T=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(T=e.featureIndex),o.verticalTextFeatureIndex&&(M=o.verticalTextFeatureIndex);var L=o.textBox;if(L){var P=function(n){var r=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[e.crossTileID];o&&(i.placedOrientations[e.crossTileID]=o,i.markUsedOrientation(a,r=o,e))}return r},H=function(n,r){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var i=0,A=a.writingModes;i<A.length&&(A[i]===t.WritingMode.vertical?(Q=r(),I=Q):Q=n(),!(Q&&Q.box&&Q.box.length));i+=1);else Q=n()};if(A.get("text-variable-anchor")){var z=A.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[e.crossTileID]){var $=i.prevPlacement.variableOffsets[e.crossTileID];z.indexOf($.anchor)>0&&(z=z.filter((function(t){return t!==$.anchor}))).unshift($.anchor)}var R=function(t,n,r){for(var o=t.x2-t.x1,A=t.y2-t.y1,u=e.textBoxScale,c=x&&!v?n:null,h={box:[],offscreen:!1},f=y?2*z.length:z.length,p=0;p<f;++p){var g=i.attemptAnchorPlacement(z[p%z.length],t,o,A,u,_,w,l,s,d,p>=z.length,e,a,r,c);if(g&&(h=g.placedGlyphBoxes)&&h.box&&h.box.length){B=!0,E=g.shift;break}}return h};H((function(){return R(L,o.iconBox,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(Q&&Q.box&&Q.box.length)&&e.numVerticalGlyphVertices>0&&n?R(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),Q&&(B=Q.box,U=Q.offscreen);var O=P(Q&&Q.box);if(!B&&i.prevPlacement){var K=i.prevPlacement.variableOffsets[e.crossTileID];K&&(i.variableOffsets[e.crossTileID]=K,i.markUsedJustification(a,K.anchor,e,O))}}else{var V=function(t,n){var r=i.collisionIndex.placeCollisionBox(t,y,l,s,d.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(a,n,e),i.placedOrientations[e.crossTileID]=n),r};H((function(){return V(L,t.WritingMode.horizontal)}),(function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?V(n,t.WritingMode.vertical):{box:null,offscreen:null}})),P(Q&&Q.box&&Q.box.length)}}if(B=(f=Q)&&f.box&&f.box.length>0,U=f&&f.offscreen,e.useRuntimeCollisionCircles){var N=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),G=t.evaluateSizeForFeature(a.textSizeData,p,N),j=A.get("text-padding");k=i.collisionIndex.placeCollisionCircles(y,N,a.lineVertexArray,a.glyphOffsetArray,G,s,u,c,r,w,d.predicate,e.collisionCircleDiameter,j),B=y||k.circles.length>0&&!k.collisionDetected,U=U&&k.offscreen}if(o.iconFeatureIndex&&(D=o.iconFeatureIndex),o.iconBox){var q=function(t){var e=x&&E?_e(t,E.x,E.y,_,w,i.transform.angle):t;return i.collisionIndex.placeCollisionBox(e,v,l,s,d.predicate)};F=I&&I.box&&I.box.length&&o.verticalIconBox?(S=q(o.verticalIconBox)).box.length>0:(S=q(o.iconBox)).box.length>0,U=U&&S.offscreen}var Z=g||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,X=m||0===e.numIconVertices;if(Z||X?X?Z||(F=F&&B):B=F&&B:F=B=F&&B,B&&f&&f.box&&i.collisionIndex.insertCollisionBox(f.box,A.get("text-ignore-placement"),a.bucketInstanceId,I&&I.box&&M?M:T,d.ID),F&&S&&i.collisionIndex.insertCollisionBox(S.box,A.get("icon-ignore-placement"),a.bucketInstanceId,D,d.ID),k&&(B&&i.collisionIndex.insertCollisionCircles(k.circles,A.get("text-ignore-placement"),a.bucketInstanceId,T,d.ID),r)){var W=a.bucketInstanceId,J=i.collisionCircleArrays[W];void 0===J&&(J=i.collisionCircleArrays[W]=new ge);for(var Y=0;Y<k.circles.length;Y+=4)J.circles.push(k.circles[Y+0]),J.circles.push(k.circles[Y+1]),J.circles.push(k.circles[Y+2]),J.circles.push(k.collisionDetected?1:0)}i.placements[e.crossTileID]=new de(B||b,F||C,U||a.justReloaded),n[e.crossTileID]=!0}};if(B)for(var U=a.getSortedSymbolIndexes(this.transform.angle),E=U.length-1;E>=0;--E){var Q=U[E];F(a.symbolInstances.get(Q),a.collisionArrays[Q])}else for(var I=e.symbolInstanceStart;I<e.symbolInstanceEnd;I++)F(a.symbolInstances.get(I),a.collisionArrays[I]);if(r&&a.bucketInstanceId in this.collisionCircleArrays){var k=this.collisionCircleArrays[a.bucketInstanceId];t.invert(k.invProjMatrix,s),k.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},we.prototype.markUsedJustification=function(e,n,r,i){var o;o=i===t.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,A=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];a<A.length;a+=1){var s=A[a];s>=0&&(e.text.placedSymbolArray.get(s).crossTileID=o>=0&&s!==o?0:r.crossTileID)}},we.prototype.markUsedOrientation=function(e,n,r){for(var i=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,A=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];a<A.length;a+=1)e.text.placedSymbolArray.get(A[a]).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)},we.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var r=e?e.symbolFadeChange(t):1,i=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var A in this.placements){var s=this.placements[A],u=i[A];u?(this.opacities[A]=new pe(u,r,s.text,s.icon),n=n||s.text!==u.text.placed||s.icon!==u.icon.placed):(this.opacities[A]=new pe(null,r,s.text,s.icon,s.skipFade),n=n||s.text||s.icon)}for(var c in i){var l=i[c];if(!this.opacities[c]){var h=new pe(l,r,!1,!1);h.isHidden()||(this.opacities[c]=h,n=n||l.text.placed||l.icon.placed)}}for(var f in o)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=o[f]);for(var p in a)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=a[p]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},we.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},we.prototype.updateBucketOpacities=function(e,n,r){var i=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new pe(null,0,!1,!1,!0),A=o.get("text-allow-overlap"),s=o.get("icon-allow-overlap"),u=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),l="map"===o.get("text-pitch-alignment"),h="none"!==o.get("icon-text-fit"),f=new pe(null,0,A&&(s||!e.hasIconData()||o.get("icon-optional")),s&&(A||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(r);for(var p=function(t,e,n){for(var r=0;r<e/4;r++)t.opacityVertexArray.emplaceBack(n)},d=function(r){var o=e.symbolInstances.get(r),A=o.numHorizontalGlyphVertices,s=o.numVerticalGlyphVertices,d=o.crossTileID,g=i.opacities[d];n[d]?g=a:g||(i.opacities[d]=g=f),n[d]=!0;var m=o.numIconVertices>0,y=i.placedOrientations[o.crossTileID],v=y===t.WritingMode.vertical,_=y===t.WritingMode.horizontal||y===t.WritingMode.horizontalOnly;if(A>0||s>0){var w=Ie(g.text);p(e.text,A,v?ke:w),p(e.text,s,_?ke:w);var x=g.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=x||v?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=x||_?1:0);var B=i.variableOffsets[o.crossTileID];B&&i.markUsedJustification(e,B.anchor,o,y);var b=i.placedOrientations[o.crossTileID];b&&(i.markUsedJustification(e,"left",o,b),i.markUsedOrientation(e,b,o))}if(m){var C=Ie(g.icon),F=!(h&&o.verticalPlacedIconSymbolIndex&&v);o.placedIconSymbolIndex>=0&&(p(e.icon,o.numIconVertices,F?C:ke),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=g.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(p(e.icon,o.numVerticalIconVertices,F?ke:C),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var U=e.collisionArrays[r];if(U){var E=new t.Point(0,0);if(U.textBox||U.verticalTextBox){var Q=!0;if(u){var I=i.variableOffsets[d];I?(E=ve(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),c&&E._rotate(l?i.transform.angle:-i.transform.angle)):Q=!1}U.textBox&&xe(e.textCollisionBox.collisionVertexArray,g.text.placed,!Q||v,E.x,E.y),U.verticalTextBox&&xe(e.textCollisionBox.collisionVertexArray,g.text.placed,!Q||_,E.x,E.y)}var k=Boolean(!_&&U.verticalIconBox);U.iconBox&&xe(e.iconCollisionBox.collisionVertexArray,g.icon.placed,k,h?E.x:0,h?E.y:0),U.verticalIconBox&&xe(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!k,h?E.x:0,h?E.y:0)}}},g=0;g<e.symbolInstances.length;g++)d(g);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var m=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=m.invProjMatrix,e.placementViewportMatrix=m.viewportMatrix,e.collisionCircleArray=m.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},we.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},we.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},we.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},we.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},we.prototype.setStale=function(){this.stale=!0};var Be=Math.pow(2,25),be=Math.pow(2,24),Ce=Math.pow(2,17),Fe=Math.pow(2,16),Ue=Math.pow(2,9),Ee=Math.pow(2,8),Qe=Math.pow(2,1);function Ie(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*Be+e*be+n*Ce+e*Fe+n*Ue+e*Ee+n*Qe+e}var ke=0,Se=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Se.prototype.continuePlacement=function(t,e,n,r,i){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,r,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1};var Te=function(t,e,n,r,i,o,a){this.placement=new we(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Te.prototype.isDone=function(){return this._done},Te.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var A=n[e[this._currentPlacementIndex]],s=this.placement.collisionIndex.transform.zoom;if("symbol"===A.type&&(!A.minzoom||A.minzoom<=s)&&(!A.maxzoom||A.maxzoom>s)){if(this._inProgressLayer||(this._inProgressLayer=new Se(A)),this._inProgressLayer.continuePlacement(r[A.source],this.placement,this._showCollisionBoxes,A,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Te.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Me=512/t.EXTENT/2,De=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};De.prototype.getScaledCoordinates=function(e,n){var r=Me/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*r),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*r)}},De.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var A=this.getScaledCoordinates(o,e),s=0,u=a;s<u.length;s+=1){var c=u[s];if(Math.abs(c.coord.x-A.x)<=r&&Math.abs(c.coord.y-A.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Le=function(){this.maxCrossTileID=0};Le.prototype.generate=function(){return++this.maxCrossTileID};var Pe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Pe.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Pe.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var A in a){var s=a[A];s.tileID.isChildOf(t)&&s.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var l=e.symbolInstances.get(c);l.crossTileID||(l.crossTileID=n.generate(),i[l.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new De(t,e.symbolInstances,e.bucketInstanceId),!0},Pe.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1)delete this.usedCrossTileIDs[t][i[r].crossTileID]},Pe.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var He=function(){this.layerIndexes={},this.crossTileIDs=new Le,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};He.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Pe);var i=!1,o={};r.handleWrapJump(n);for(var a=0,A=e;a<A.length;a+=1){var s=A[a],u=s.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(s.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},He.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var ze=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},$e=t.pick(Rt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Re=t.pick(Rt,["setCenter","setZoom","setBearing","setPitch"]),Oe=function(){var e={},n=t.styleSpec.$version;for(var r in t.styleSpec.$root){var i,o=t.styleSpec.$root[r];o.required&&null!=(i="version"===r?n:"array"===o.type?[]:{})&&(e[r]=i)}return e}(),Ke=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new b(Ht(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new v(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new B(256,512),this.crossTileSymbolIndex=new He,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var r in a.sourceCaches)a.sourceCaches[r].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Oe,!1)},n.prototype._load=function(e,n){if(!n||!ze(this,t.validateStyle(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(r,e.sources[r],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var i=$t(this.stylesheet.layers);this._order=i.map((function(t){return t.id})),this._layers={},this._serializedLayers={};for(var o=0,a=i;o<a.length;o+=1){var A=a[o];(A=t.createStyleLayer(A)).setEventedParent(this,{layer:{id:A.id}}),this._layers[A.id]=A,this._serializedLayers[A.id]=A.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,r){var i,o,a,A=t.browser.devicePixelRatio>1?"@2x":"",s=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,A,".json"),t.ResourceType.SpriteJSON),(function(t,e){s=null,a||(a=t,i=e,c())})),u=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,A,".png"),t.ResourceType.SpriteImage),(function(t,e){u=null,a||(a=t,o=e,c())}));function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var A in i){var s=i[A],u=s.width,c=s.height,l=s.x,h=s.y,f=s.sdf,p=s.pixelRatio,d=s.stretchX,g=s.stretchY,m=s.content,y=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,y,{x:l,y:h},{x:0,y:0},{width:u,height:c}),n[A]={data:y,pixelRatio:p,sdf:f,stretchX:d,stretchY:g,content:m}}r(null,n)}}return{cancel:function(){s&&(s.cancel(),s=null),u&&(u.cancel(),u=null)}}}(e,this.map._requestManager,(function(e,r){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=this._layers[r[n]];"custom"!==i.type&&e.push(i.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var A in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[A].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var s={};for(var u in this.sourceCaches){var c=this.sourceCaches[u];s[u]=c.used,c.used=!1}for(var l=0,h=this._order;l<h.length;l+=1){var f=this._layers[h[l]];f.recalculate(e,this._availableImages),!f.isHidden(e.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}for(var p in s){var d=this.sourceCaches[p];s[p]!==d.used&&d.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:p}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),ze(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=$t(e.layers);var r=function(e,n){if(!e)return[{command:Rt.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Rt.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:Rt.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:Rt.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:Rt.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:Rt.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:Rt.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:Rt.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:Rt.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:Rt.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Kt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Nt(e,n,o)?r.push({command:Rt.setGeoJSONSourceData,args:[o,n[o].data]}):Vt(o,n,r,i)):Ot(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:Rt.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,A,s,u,c,l=(e=e||[]).map(jt),h=n.map(jt),f=e.reduce(qt,{}),p=n.reduce(qt,{}),d=l.slice(),g=Object.create(null);for(i=0,o=0;i<l.length;i++)p.hasOwnProperty(a=l[i])?o++:(r.push({command:Rt.removeLayer,args:[a]}),d.splice(d.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)d[d.length-1-i]!==(a=h[h.length-1-i])&&(f.hasOwnProperty(a)?(r.push({command:Rt.removeLayer,args:[a]}),d.splice(d.lastIndexOf(a,d.length-o),1)):o++,r.push({command:Rt.addLayer,args:[p[a],u=d[d.length-i]]}),d.splice(d.length-i,0,a),g[a]=!0);for(i=0;i<h.length;i++)if(A=f[a=h[i]],s=p[a],!g[a]&&!t.deepEqual(A,s))if(t.deepEqual(A.source,s.source)&&t.deepEqual(A["source-layer"],s["source-layer"])&&t.deepEqual(A.type,s.type)){for(c in Gt(A.layout,s.layout,r,a,null,Rt.setLayoutProperty),Gt(A.paint,s.paint,r,a,null,Rt.setPaintProperty),t.deepEqual(A.filter,s.filter)||r.push({command:Rt.setFilter,args:[a,s.filter]}),t.deepEqual(A.minzoom,s.minzoom)&&t.deepEqual(A.maxzoom,s.maxzoom)||r.push({command:Rt.setLayerZoomRange,args:[a,s.minzoom,s.maxzoom]}),A)A.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Gt(A[c],s[c],r,a,c.slice(6),Rt.setPaintProperty):t.deepEqual(A[c],s[c])||r.push({command:Rt.setLayerProperty,args:[a,c,s[c]]}));for(c in s)s.hasOwnProperty(c)&&!A.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Gt(A[c],s[c],r,a,c.slice(6),Rt.setPaintProperty):t.deepEqual(A[c],s[c])||r.push({command:Rt.setLayerProperty,args:[a,c,s[c]]}))}else r.push({command:Rt.removeLayer,args:[a]}),u=d[d.lastIndexOf(a)+1],r.push({command:Rt.addLayer,args:[s,u]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:Rt.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Re)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in $e)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new It(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(ze(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==pn(e.source)&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var A=this._removedLayers[i];delete this._removedLayers[i],A.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n];if(void 0!==i){if("vector"!==i.getSource().type||r)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var A=0,s=t;A<s.length;A+=1){var u=s[A][a];if(u)for(var c=0,l=u;c<l.length;c+=1)i.push(l[c])}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var h=[],f=this._order.length-1;f>=0;f--){var p=this._order[f];if(n(p))for(var d=i.length-1;d>=0;d--){var g=i[d].feature;if(r[g.layer.id]<f)break;h.push(g),i.pop()}else for(var m=0,y=t;m<y.length;m+=1){var v=y[m][p];if(v)for(var _=0,w=v;_<w.length;_+=1)h.push(w[_].feature)}}return h},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var A=a[o],s=this._layers[A];if(!s)return this.fire(new t.ErrorEvent(new Error("The layer '"+A+"' does not exist in the map's style and cannot be queried for features."))),[];i[s.source]=!0}}var u=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[c]||u.push(P(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,r));return this.placement&&u.push(function(t,e,n,r,i,o,a){for(var A={},s=o.queryRenderedSymbols(r),u=[],c=0,l=Object.keys(s).map(Number);c<l.length;c+=1)u.push(a[l[c]]);u.sort(H);for(var h=function(){var n=p[f],r=n.featureIndex.lookupSymbolFeatures(s[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,t);for(var o in r){var a=A[o]=A[o]||[],u=r[o];u.sort((function(t,e){var r=n.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(e.featureIndex)-i}return e.featureIndex-t.featureIndex}));for(var c=0,l=u;c<l.length;c+=1)a.push(l[c])}},f=0,p=u;f<p.length;f+=1)h();var d=function(e){A[e].forEach((function(r){var i=r.feature,o=n[t[e].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}))};for(var g in A)d(g);return A}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],A=a.tileID.canonical.key;i[A]||(i[A]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&ze(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i,o){void 0===o&&(o=!1);for(var a=!1,A=!1,s={},u=0,c=this._order;u<c.length;u+=1){var l=this._layers[c[u]];if("symbol"===l.type){if(!s[l.source]){var h=this.sourceCaches[l.source];s[l.source]=h.getRenderableIds(!0).map((function(t){return h.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(l,s[l.source],e.center.lng);a=a||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Te(e,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),A=!0),a&&this.pauseablePlacement.placement.setStale()),A||a)for(var p=0,d=this._order;p<d.length;p+=1){var g=this._layers[d[p]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[e.source];r&&r.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);Ke.getSourceType=function(t){return D[t]},Ke.setSourceType=function(t,e){D[t]=e},Ke.registerForPluginStateChange=t.registerForPluginStateChange;var Ve=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ne=vn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ge=vn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),je=vn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),qe=vn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ze=vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Xe=vn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),We=vn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Je=vn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Ye=vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=vn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=vn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=vn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=vn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),An=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),sn=vn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),un=vn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=vn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),ln=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=vn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dn=vn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),gn=vn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),mn=vn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=vn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function vn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=e.match(/attribute ([\w]+) ([\w]+)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,A={};return{fragmentSource:t=t.replace(n,(function(t,e,n,r,i){return A[i]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,r,i){var o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return A[i]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\nvarying "+n+" "+r+" "+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float u_"+i+"_t;\nattribute "+n+" "+o+" a_"+i+";\n#else\nuniform "+n+" "+r+" u_"+i+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = a_"+i+";\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+n+" "+r+" "+i+" = unpack_mix_"+a+"(a_"+i+", u_"+i+"_t);\n#else\n    "+n+" "+r+" "+i+" = u_"+i+";\n#endif\n"})),staticAttributes:r,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:Ne,background:Ge,backgroundPattern:je,circle:qe,clippingMask:Ze,heatmap:Xe,heatmapTexture:We,collisionBox:Je,collisionCircle:Ye,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:An,hillshadePrepare:sn,hillshade:un,line:cn,lineGradient:ln,linePattern:hn,lineSDF:fn,raster:dn,symbolIcon:gn,symbolSDF:mn,symbolTextAndIcon:yn}),wn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var r=t[n].split(" ");e.push(r.pop())}return e}wn.prototype.bind=function(t,e,n,r,i,o,a,A){this.context=t;for(var s=this.boundPaintVertexBuffers.length!==r.length,u=0;!s&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(s=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!s&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===A?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),A&&A.bind()):this.freshBind(e,n,r,i,o,a,A)},wn.prototype.freshBind=function(t,e,n,r,i,o,a){var A,s=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),A=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{A=u.currentNumAttributes||0;for(var l=s;l<A;l++)c.disableVertexAttribArray(l)}e.enableAttributes(c,t);for(var h=0,f=n;h<f.length;h+=1)f[h].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var p=0,d=n;p<d.length;p+=1){var g=d[p];g.bind(),g.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=s},wn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Bn=function(t,e,n,r,i,o){var a=t.gl;this.program=a.createProgram();for(var A=xn(n.staticAttributes),s=r?r.getBinderAttributes():[],u=A.concat(s),c=n.staticUniforms?xn(n.staticUniforms):[],l=r?r.getBinderUniforms():[],h=[],f=0,p=c.concat(l);f<p.length;f+=1){var d=p[f];h.indexOf(d)<0&&h.push(d)}var g=r?r.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;");var m=g.concat(Ne.fragmentSource,n.fragmentSource).join("\n"),y=g.concat(Ne.vertexSource,n.vertexSource).join("\n"),v=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(v,m),a.compileShader(v),a.attachShader(this.program,v);var _=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_),this.attributes={};var w={};this.numAttributes=u.length;for(var x=0;x<this.numAttributes;x++)u[x]&&(a.bindAttribLocation(this.program,x,u[x]),this.attributes[u[x]]=x);a.linkProgram(this.program),a.deleteShader(_),a.deleteShader(v);for(var B=0;B<h.length;B++){var b=h[B];if(b&&!w[b]){var C=a.getUniformLocation(this.program,b);C&&(w[b]=C)}}this.fixedUniforms=i(t,w),this.binderUniforms=r?r.getUniforms(t,w):[]}}};function bn(t,e,n){var r=1/he(n,1,e.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),A=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,A>>16],u_pixel_coord_lower:[65535&a,65535&A]}}Bn.prototype.draw=function(t,e,n,r,i,o,a,A,s,u,c,l,h,f,p,d){var g,m=t.gl;if(!this.failedToCreate){for(var y in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);f&&f.setUniforms(t,this.binderUniforms,l,{zoom:h});for(var v=(g={},g[m.LINES]=2,g[m.TRIANGLES]=3,g[m.LINE_STRIP]=1,g)[e],_=0,w=c.get();_<w.length;_+=1){var x=w[_],B=x.vaos||(x.vaos={});(B[A]||(B[A]=new wn)).bind(t,this,s,f?f.getPaintVertexBuffers():[],u,x.vertexOffset,p,d),m.drawElements(e,x.primitiveLength*v,m.UNSIGNED_SHORT,x.primitiveOffset*v*2)}}};var Cn=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),A=[a.x,a.y,a.z],s=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(s,-n.transform.angle),t.transformMat3(A,A,s);var u=o.properties.get("color");return{u_matrix:e,u_lightpos:A,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},Fn=function(e,n,r,i,o,a,A){return t.extend(Cn(e,n,r,i),bn(a,n,A),{u_height_factor:-Math.pow(2,o.overscaledZ)/A.tileSize/8})},Un=function(t){return{u_matrix:t}},En=function(e,n,r,i){return t.extend(Un(e),bn(r,n,i))},Qn=function(t,e){return{u_matrix:t,u_world:e}},In=function(e,n,r,i,o){return t.extend(En(e,n,r,i),{u_world:o})},kn=function(e,n,r,i){var o,a,A=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var s=he(r,1,A.zoom);o=!0,a=[s,s]}else o=!1,a=A.pixelsToGLUnits;return{u_camera_to_center_distance:A.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,r,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},Sn=function(t,e,n){var r=he(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},Tn=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Mn=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},Dn=function(t){return{u_matrix:t}},Ln=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:he(e,1,n),u_intensity:r}},Pn=function(e,n,r){var i=e.transform;return{u_matrix:On(e,n,r),u_ratio:1/he(n,1,i.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Hn=function(e,n,r,i){return t.extend(Pn(e,n,r),{u_image:0,u_image_height:i})},zn=function(e,n,r,i){var o=e.transform,a=Rn(n,o);return{u_matrix:On(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/he(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},$n=function(e,n,r,i,o){var a=e.lineAtlas,A=Rn(n,e.transform),s="round"===r.layout.get("line-cap"),u=a.getDash(i.from,s),c=a.getDash(i.to,s),l=u.width*o.fromScale,h=c.width*o.toScale;return t.extend(Pn(e,n,r),{u_patternscale_a:[A/l,-u.height/2],u_patternscale_b:[A/h,-c.height/2],u_sdfgamma:a.width/(256*Math.min(l,h)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:c.y,u_mix:o.t})};function Rn(t,e){return 1/he(t,1,e.tileZoom)}function On(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Kn=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Vn(i.paint.get("raster-hue-rotate"))};var o,a};function Vn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Nn,Gn=function(t,e,n,r,i,o,a,A,s,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:A,u_is_text:+s,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},jn=function(e,n,r,i,o,a,A,s,u,c,l){var h=o.transform;return t.extend(Gn(e,n,r,i,o,a,A,s,u,c),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+l})},qn=function(e,n,r,i,o,a,A,s,u,c){return t.extend(jn(e,n,r,i,o,a,A,s,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1})},Zn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Xn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),A=a.width,s=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,l=c*(r.tileID.canonical.x+r.tileID.wrap*u),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[A,s],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/he(r,1,n.transform.tileZoom),u_pixel_coord_upper:[l>>16,h>>16],u_pixel_coord_lower:[65535&l,65535&h]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},Wn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Jn(e,n,r,i,o,a,A){for(var s=e.context,u=s.gl,c=e.useProgram("collisionBox"),l=[],h=0,f=0,p=0;p<i.length;p++){var d=i[p],g=n.getTile(d),m=g.getBucket(r);if(m){var y=d.posMatrix;0===o[0]&&0===o[1]||(y=e.translatePosMatrix(d.posMatrix,g,o,a));var v=A?m.textCollisionBox:m.iconCollisionBox,_=m.collisionCircleArray;if(_.length>0){var w=t.create(),x=y;t.mul(w,m.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(w,w,m.placementViewportMatrix),l.push({circleArray:_,circleOffset:f,transform:x,invTransform:w}),f=h+=_.length/4}v&&c.draw(s,u.LINES,Ct.disabled,Ft.disabled,e.colorModeForRenderPass(),Et.disabled,Sn(y,e.transform,g),r.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,e.transform.zoom,null,null,v.collisionVertexBuffer)}}if(A&&l.length){var B=e.useProgram("collisionCircle"),b=new t.StructArrayLayout2f1f2i16;b.resize(4*h),b._trim();for(var C=0,F=0,U=l;F<U.length;F+=1)for(var E=U[F],Q=0;Q<E.circleArray.length/4;Q++){var I=4*Q,k=E.circleArray[I+0],S=E.circleArray[I+1],T=E.circleArray[I+2],M=E.circleArray[I+3];b.emplace(C++,k,S,T,M,0),b.emplace(C++,k,S,T,M,1),b.emplace(C++,k,S,T,M,2),b.emplace(C++,k,S,T,M,3)}(!Nn||Nn.length<2*h)&&(Nn=function(e){var n=2*e,r=new t.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var o=6*i;r.uint16[o+0]=4*i+0,r.uint16[o+1]=4*i+1,r.uint16[o+2]=4*i+2,r.uint16[o+3]=4*i+2,r.uint16[o+4]=4*i+3,r.uint16[o+5]=4*i+0}return r}(h));for(var D=s.createIndexBuffer(Nn,!0),L=s.createVertexBuffer(b,t.collisionCircleLayout.members,!0),P=0,H=l;P<H.length;P+=1){var z=H[P],$=Tn(z.transform,z.invTransform,e.transform);B.draw(s,u.TRIANGLES,Ct.disabled,Ft.disabled,e.colorModeForRenderPass(),Et.disabled,$,r.id,L,D,t.SegmentVector.simpleSegment(0,2*z.circleOffset,z.circleArray.length,z.circleArray.length/2),null,e.transform.zoom,null,null,null)}L.destroy(),D.destroy()}}var Yn=t.identity(new Float32Array(16));function tr(e,n,r,i,o,a){var A=t.getAnchorAlignment(e),s=-(A.horizontalAlign-.5)*n,u=-(A.verticalAlign-.5)*r,c=t.evaluateVariableOffset(e,i);return new t.Point((s/o+c[0])*a,(u/o+c[1])*a)}function er(e,n,r,i,o,a,A,s,u,c,l){var h=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,p=e.icon.dynamicLayoutVertexArray,d={};f.clear();for(var g=0;g<h.length;g++){var m=h.get(g),y=m.hidden||!m.crossTileID||e.allowVerticalPlacement&&!m.placedOrientation?null:i[m.crossTileID];if(y){var v=new t.Point(m.anchorX,m.anchorY),_=Yt(v,r?s:A),w=te(a.cameraToCenterDistance,_.signedDistanceFromCamera),x=o.evaluateSizeForFeature(e.textSizeData,c,m)*w/t.ONE_EM;r&&(x*=e.tilePixelRatio/u);for(var B=tr(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,x),b=r?Yt(v.add(B),A).point:_.point.add(n?B.rotate(-a.angle):B),C=e.allowVerticalPlacement&&m.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,F=0;F<m.numGlyphs;F++)t.addDynamicAttributes(f,b,C);l&&m.associatedIconIndex>=0&&(d[m.associatedIconIndex]={shiftedAnchor:b,angle:C})}else ue(m.numGlyphs,f)}if(l){p.clear();for(var U=e.icon.placedSymbolArray,E=0;E<U.length;E++){var Q=U.get(E);if(Q.hidden)ue(Q.numGlyphs,p);else{var I=d[E];if(I)for(var k=0;k<Q.numGlyphs;k++)t.addDynamicAttributes(p,I.shiftedAnchor,I.angle);else ue(Q.numGlyphs,p)}}e.icon.dynamicLayoutVertexBuffer.updateData(p)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function nr(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function rr(e,n,r,i,o,a,A,s,u,c,l,h){for(var f=e.context,p=f.gl,d=e.transform,g="map"===s,m="map"===u,y=g&&"point"!==r.layout.get("symbol-placement"),v=g&&!m&&!y,_=void 0!==r.layout.get("symbol-sort-key").constantOr(1),w=!1,x=e.depthModeForSublayer(0,Ct.ReadOnly),B=r.layout.get("text-variable-anchor"),b=[],C=0,F=i;C<F.length;C+=1){var U=F[C],E=n.getTile(U),Q=E.getBucket(r);if(Q){var I=o?Q.text:Q.icon;if(I&&I.segments.get().length){var k=I.programConfigurations.get(r.id),S=o||Q.sdfIcons,T=o?Q.textSizeData:Q.iconSizeData,M=m||0!==d.pitch,D=e.useProgram(nr(S,o,Q),k),L=t.evaluateSizeForZoom(T,d.zoom),P=void 0,H=[0,0],z=void 0,$=void 0,R=null,O=void 0;if(o)z=E.glyphAtlasTexture,$=p.LINEAR,P=E.glyphAtlasTexture.size,Q.iconsInText&&(H=E.imageAtlasTexture.size,R=E.imageAtlasTexture,O=M||e.options.rotating||e.options.zooming||"composite"===T.kind||"camera"===T.kind?p.LINEAR:p.NEAREST);else{var K=1!==r.layout.get("icon-size").constantOr(0)||Q.iconsNeedLinear;z=E.imageAtlasTexture,$=S||e.options.rotating||e.options.zooming||K||M?p.LINEAR:p.NEAREST,P=E.imageAtlasTexture.size}var V=he(E,1,e.transform.zoom),N=Wt(U.posMatrix,m,g,e.transform,V),G=Jt(U.posMatrix,m,g,e.transform,V),j=B&&Q.hasTextData(),q="none"!==r.layout.get("icon-text-fit")&&j&&Q.hasIconData();y&&ne(Q,U.posMatrix,e,o,N,G,m,c);var Z=e.translatePosMatrix(U.posMatrix,E,a,A),X=y||o&&B||q?Yn:N,W=e.translatePosMatrix(G,E,a,A,!0),J=S&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Y={program:D,buffers:I,uniformValues:S?Q.iconsInText?qn(T.kind,L,v,m,e,Z,X,W,P,H):jn(T.kind,L,v,m,e,Z,X,W,o,P,!0):Gn(T.kind,L,v,m,e,Z,X,W,o,P),atlasTexture:z,atlasTextureIcon:R,atlasInterpolation:$,atlasInterpolationIcon:O,isSDF:S,hasHalo:J};if(_&&Q.canOverlap){w=!0;for(var tt=0,et=I.segments.get();tt<et.length;tt+=1){var nt=et[tt];b.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:Y})}}else b.push({segments:I.segments,sortKey:0,state:Y})}}}w&&b.sort((function(t,e){return t.sortKey-e.sortKey}));for(var rt=0,it=b;rt<it.length;rt+=1){var ot=it[rt],at=ot.state;if(f.activeTexture.set(p.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,p.CLAMP_TO_EDGE),at.atlasTextureIcon&&(f.activeTexture.set(p.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),at.isSDF){var At=at.uniformValues;at.hasHalo&&(At.u_is_halo=1,ir(at.buffers,ot.segments,r,e,at.program,x,l,h,At)),At.u_is_halo=0}ir(at.buffers,ot.segments,r,e,at.program,x,l,h,at.uniformValues)}}function ir(t,e,n,r,i,o,a,A,s){var u=r.context;i.draw(u,u.gl.TRIANGLES,o,a,A,Et.disabled,s,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function or(t,e,n,r,i,o,a){var A,s,u,c,l,h=t.context.gl,f=n.paint.get("fill-pattern"),p=f&&f.constantOr(1),d=n.getCrossfadeParameters();a?(s=p&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",A=h.LINES):(s=p?"fillPattern":"fill",A=h.TRIANGLES);for(var g=0,m=r;g<m.length;g+=1){var y=m[g],v=e.getTile(y);if(!p||v.patternsLoaded()){var _=v.getBucket(n);if(_){var w=_.programConfigurations.get(n.id),x=t.useProgram(s,w);p&&(t.context.activeTexture.set(h.TEXTURE0),v.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),w.updatePaintBuffers(d));var B=f.constantOr(null);if(B&&v.imageAtlas){var b=v.imageAtlas,C=b.patternPositions[B.to.toString()],F=b.patternPositions[B.from.toString()];C&&F&&w.setConstantPatternPositions(C,F)}var U=t.translatePosMatrix(y.posMatrix,v,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=_.indexBuffer2,l=_.segments2;var E=[h.drawingBufferWidth,h.drawingBufferHeight];u="fillOutlinePattern"===s&&p?In(U,t,d,v,E):Qn(U,E)}else c=_.indexBuffer,l=_.segments,u=p?En(U,t,d,v):Un(U);x.draw(t.context,A,i,t.stencilModeForClipping(y),o,Et.disabled,u,n.id,_.layoutVertexBuffer,c,l,n.paint,t.transform.zoom,w)}}}}function ar(t,e,n,r,i,o,a){for(var A=t.context,s=A.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),l=n.getCrossfadeParameters(),h=n.paint.get("fill-extrusion-opacity"),f=0,p=r;f<p.length;f+=1){var d=p[f],g=e.getTile(d),m=g.getBucket(n);if(m){var y=m.programConfigurations.get(n.id),v=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(t.context.activeTexture.set(s.TEXTURE0),g.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),y.updatePaintBuffers(l));var _=u.constantOr(null);if(_&&g.imageAtlas){var w=g.imageAtlas,x=w.patternPositions[_.to.toString()],B=w.patternPositions[_.from.toString()];x&&B&&y.setConstantPatternPositions(x,B)}var b=t.translatePosMatrix(d.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),C=n.paint.get("fill-extrusion-vertical-gradient"),F=c?Fn(b,t,C,h,d,l,g):Cn(b,t,C,h);v.draw(A,A.gl.TRIANGLES,i,o,a,Et.backCCW,F,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,t.transform.zoom,y)}}}function Ar(e,n,r,i,o,a){var A=e.context,s=A.gl,u=n.fbo;if(u){var c=e.useProgram("hillshade");A.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var l=function(e,n,r){var i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),A=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(A-=e.transform.angle);var s,u,c,l=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),l),u_image:0,u_latrange:(s=n.tileID,u=Math.pow(2,s.canonical.z),c=s.canonical.y,[new t.MercatorCoordinate(0,c/u).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[r.paint.get("hillshade-exaggeration"),A],u_shadow:i,u_highlight:o,u_accent:a}}(e,n,r);c.draw(A,s.TRIANGLES,i,o,a,Et.disabled,l,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function sr(e,n,r,i,o,a){var A=e.context,s=A.gl,u=n.dem;if(u&&u.data){var c=u.dim,l=u.stride,h=u.getPixels();if(A.activeTexture.set(s.TEXTURE1),A.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(l),n.demTexture){var f=n.demTexture;f.update(h,{premultiply:!1}),f.bind(s.NEAREST,s.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(A,h,s.RGBA,{premultiply:!1}),n.demTexture.bind(s.NEAREST,s.CLAMP_TO_EDGE);A.activeTexture.set(s.TEXTURE0);var p=n.fbo;if(!p){var d=new t.Texture(A,{width:c,height:c,data:null},s.RGBA);d.bind(s.LINEAR,s.CLAMP_TO_EDGE),(p=n.fbo=A.createFramebuffer(c,c,!0)).colorAttachment.set(d.texture)}A.bindFramebuffer.set(p.framebuffer),A.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(A,s.TRIANGLES,i,o,a,Et.disabled,function(e,n){var r=n.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,u),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ur(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var A=t.browser.now(),s=(A-e.timeAdded)/a,u=n?(A-n.timeAdded)/a:-1,c=r.getSource(),l=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-l)>Math.abs(e.tileID.overscaledZ-l),f=h&&e.refreshedUponExpiration?1:t.clamp(h?s:1-u,0,1);return e.refreshedUponExpiration&&s>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var cr=new t.Color(1,0,0,1),lr=new t.Color(0,1,0,1),hr=new t.Color(0,0,1,1),fr=new t.Color(1,0,1,1),pr=new t.Color(0,1,1,1);function dr(t,e,n,r){mr(t,0,e+n/2,t.transform.width,n,r)}function gr(t,e,n,r){mr(t,e-n/2,0,n,t.transform.height,r)}function mr(e,n,r,i,o,a){var A=e.context,s=A.gl;s.enable(s.SCISSOR_TEST),s.scissor(n*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),A.clear({color:a}),s.disable(s.SCISSOR_TEST)}function yr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,A=e.useProgram("debug"),s=Ct.disabled,u=Ft.disabled,c=e.colorModeForRenderPass();i.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),A.draw(i,o.LINE_STRIP,s,u,c,Et.disabled,Mn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var l=n.getTileByID(r.key).latestRawTileData,h=Math.floor((l&&l.byteLength||0)/1024),f=n.getTile(r).tileSize,p=512/Math.min(f,512)*(r.overscaledZ/e.transform.zoom)*.5,d=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(d+=" => "+r.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,r=t.context.gl,i=t.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(e,5,5),i.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,d+" "+h+"kb"),A.draw(i,o.TRIANGLES,s,u,Ut.alphaBlended,Et.disabled,Mn(a,t.Color.transparent,p),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var vr={symbol:function(e,n,r,i,o){if("translucent"===e.renderPass){var a=Ft.disabled,A=e.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(e,n,r,i,o,a,A){for(var s=n.transform,u="map"===o,c="map"===a,l=0,h=e;l<h.length;l+=1){var f=h[l],p=i.getTile(f),d=p.getBucket(r);if(d&&d.text&&d.text.segments.get().length){var g=t.evaluateSizeForZoom(d.textSizeData,s.zoom),m=he(p,1,n.transform.zoom),y=Wt(f.posMatrix,c,u,n.transform,m),v="none"!==r.layout.get("icon-text-fit")&&d.hasIconData();if(g){var _=Math.pow(2,s.zoom-p.tileID.overscaledZ);er(d,u,c,A,t.symbolSize,s,y,f.posMatrix,_,g,v)}}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&rr(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,A),0!==r.paint.get("text-opacity").constantOr(1)&&rr(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,A),n.map.showCollisionBoxes&&(Jn(e,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),Jn(e,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),A=r.paint.get("circle-stroke-opacity"),s=void 0!==r.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==A.constantOr(1)){for(var u=e.context,c=u.gl,l=e.depthModeForSublayer(0,Ct.ReadOnly),h=Ft.disabled,f=e.colorModeForRenderPass(),p=[],d=0;d<i.length;d++){var g=i[d],m=n.getTile(g),y=m.getBucket(r);if(y){var v=y.programConfigurations.get(r.id),_={programConfiguration:v,program:e.useProgram("circle",v),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:kn(e,g,m,r)};if(s)for(var w=0,x=y.segments.get();w<x.length;w+=1){var B=x[w];p.push({segments:new t.SegmentVector([B]),sortKey:B.sortKey,state:_})}else p.push({segments:y.segments,sortKey:0,state:_})}}s&&p.sort((function(t,e){return t.sortKey-e.sortKey}));for(var b=0,C=p;b<C.length;b+=1){var F=C[b],U=F.state;U.program.draw(u,c.TRIANGLES,l,h,f,Et.disabled,U.uniformValues,r.id,U.layoutVertexBuffer,U.indexBuffer,F.segments,r.paint,e.transform.zoom,U.programConfiguration)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,A=Ft.disabled,s=new Ut([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i,o,a,A,s,u=n.heatmapFbo;if(u)r.bindTexture(r.TEXTURE_2D,u.colorAttachment.get()),t.bindFramebuffer.set(u.framebuffer);else{var c=r.createTexture();r.bindTexture(r.TEXTURE_2D,c),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),u=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),o=e,a=c,A=u,(s=(i=t).gl).texImage2D(s.TEXTURE_2D,0,s.RGBA,o.width/4,o.height/4,0,s.RGBA,i.extRenderToTextureHalfFloat?i.extTextureHalfFloat.HALF_FLOAT_OES:s.UNSIGNED_BYTE,null),A.colorAttachment.set(a)}}(o,e,r),o.clear({color:t.Color.transparent});for(var u=0;u<i.length;u++){var c=i[u];if(!n.hasRenderableParent(c)){var l=n.getTile(c),h=l.getBucket(r);if(h){var f=h.programConfigurations.get(r.id);e.useProgram("heatmap",f).draw(o,a.TRIANGLES,Ct.disabled,A,s,Et.disabled,Ln(c.posMatrix,l,e.transform.zoom,r.paint.get("heatmap-intensity")),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Ct.disabled,Ft.disabled,e.colorModeForRenderPass(),Et.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var A=e.depthModeForSublayer(0,Ct.ReadOnly),s=e.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),l=c.constantOr(1),h=r.paint.get("line-gradient"),f=r.getCrossfadeParameters(),p=l?"linePattern":u?"lineSDF":h?"lineGradient":"line",d=e.context,g=d.gl,m=!0,y=0,v=i;y<v.length;y+=1){var _=v[y],w=n.getTile(_);if(!l||w.patternsLoaded()){var x=w.getBucket(r);if(x){var B=x.programConfigurations.get(r.id),b=e.context.program.get(),C=e.useProgram(p,B),F=m||C.program!==b,U=c.constantOr(null);if(U&&w.imageAtlas){var E=w.imageAtlas,Q=E.patternPositions[U.to.toString()],I=E.patternPositions[U.from.toString()];Q&&I&&B.setConstantPatternPositions(Q,I)}var k=l?zn(e,w,r,f):u?$n(e,w,r,u,f):h?Hn(e,w,r,x.lineClipsArray.length):Pn(e,w,r);if(l)d.activeTexture.set(g.TEXTURE0),w.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),B.updatePaintBuffers(f);else if(u&&(F||e.lineAtlas.dirty))d.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(d);else if(h){var S=x.gradients[r.id],T=S.texture;if(r.gradientVersion!==S.version){var M=256;if(r.stepInterpolant){var D=n.getSource().maxzoom,L=_.canonical.z===D?Math.ceil(1<<e.transform.maxZoom-_.canonical.z):1;M=t.clamp(t.nextPowerOfTwo(x.maxLineLength/t.EXTENT*1024*L),256,d.maxTextureSize)}S.gradient=t.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:M,image:S.gradient||void 0,clips:x.lineClipsArray}),S.texture?S.texture.update(S.gradient):S.texture=new t.Texture(d,S.gradient,g.RGBA),S.version=r.gradientVersion,T=S.texture}d.activeTexture.set(g.TEXTURE0),T.bind(r.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}C.draw(d,g.TRIANGLES,A,e.stencilModeForClipping(_),s,Et.disabled,k,r.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,r.paint,e.transform.zoom,B,x.layoutVertexBuffer2),m=!1}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var A=e.colorModeForRenderPass(),s=r.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!s.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?Ct.ReadWrite:Ct.ReadOnly);or(e,n,r,i,c,A,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var l=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Ct.ReadOnly);or(e,n,r,i,l,A,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new Ct(t.context.gl.LEQUAL,Ct.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))ar(t,e,n,r,o,Ft.disabled,Ut.disabled),ar(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();ar(t,e,n,r,o,Ft.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=t.depthModeForSublayer(0,Ct.ReadOnly),a=t.colorModeForRenderPass(),A="translucent"===t.renderPass?t.stencilConfigForOverlap(r):[{},r],s=A[0],u=0,c=A[1];u<c.length;u+=1){var l=c[u],h=e.getTile(l);h.needsHillshadePrepare&&"offscreen"===t.renderPass?sr(t,h,n,o,Ft.disabled,a):"translucent"===t.renderPass&&Ar(t,h,n,o,s[l.overscaledZ],a)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&r.length)for(var i=t.context,o=i.gl,a=e.getSource(),A=t.useProgram("raster"),s=t.colorModeForRenderPass(),u=a instanceof S?[{},r]:t.stencilConfigForOverlap(r),c=u[0],l=u[1],h=l[l.length-1].overscaledZ,f=!t.options.moving,p=0,d=l;p<d.length;p+=1){var g=d[p],m=t.depthModeForSublayer(g.overscaledZ-h,1===n.paint.get("raster-opacity")?Ct.ReadWrite:Ct.ReadOnly,o.LESS),y=e.getTile(g),v=t.transform.calculatePosMatrix(g.toUnwrapped(),f);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var _=e.findLoadedParent(g,0),w=ur(y,_,e,n,t.transform),x=void 0,B=void 0,b="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),y.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),_?(_.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,_.tileID.overscaledZ-y.tileID.overscaledZ),B=[y.tileID.canonical.x*x%1,y.tileID.canonical.y*x%1]):y.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var C=Kn(v,B||[0,0],x||1,w,n);a instanceof S?A.draw(i,o.TRIANGLES,m,Ft.disabled,s,Et.disabled,C,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):A.draw(i,o.TRIANGLES,m,c[g.overscaledZ],s,Et.disabled,C,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,A=t.transform,s=A.tileSize,u=n.paint.get("background-pattern");if(!t.isPatternMissing(u)){var c=!u&&1===r.a&&1===i&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var l=Ft.disabled,h=t.depthModeForSublayer(0,"opaque"===c?Ct.ReadWrite:Ct.ReadOnly),f=t.colorModeForRenderPass(),p=t.useProgram(u?"backgroundPattern":"background"),d=A.coveringTiles({tileSize:s});u&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),m=0,y=d;m<y.length;m+=1){var v=y[m],_=t.transform.calculatePosMatrix(v.toUnwrapped()),w=u?Xn(_,i,t,u,{tileID:v,tileSize:s},g):Zn(_,i,r);p.draw(o,a.TRIANGLES,h,l,f,Et.disabled,w,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)yr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(Ft.disabled);var a="3d"===i.renderingMode?new Ct(t.context.gl.LEQUAL,Ct.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Ct.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},_r=function(t,e){this.context=new Qt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=It.maxUnderzooming+It.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new He,this.gpuTimers={}};_r.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1)this.style._layers[i[r]].resize()},_r.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Ve.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,Ve.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,k.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,Ve.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var A=new t.StructArrayLayout3ui6;A.emplaceBack(0,1,2),A.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(A),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var s=this.context.gl;this.stencilClearMode=new Ft({func:s.ALWAYS,mask:0},0,255,s.ZERO,s.ZERO,s.ZERO)},_r.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,Ct.disabled,this.stencilClearMode,Ut.disabled,Et.disabled,Dn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_r.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Ut.disabled),n.setDepthMode(Ct.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var A=a[o],s=this._tileClippingMaskIDs[A.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Ct.disabled,new Ft({func:r.ALWAYS,mask:0},s,255,r.KEEP,r.KEEP,r.REPLACE),Ut.disabled,Et.disabled,Dn(A.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_r.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Ft({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ft({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},_r.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,r=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),i=r[r.length-1].overscaledZ,o=r[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},A=0;A<o;A++)a[A+i]=new Ft({func:n.GEQUAL,mask:255},A+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,r]}return[(e={},e[i]=Ft.disabled,e),r]},_r.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Ut([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Ut.unblended:Ut.alphaBlended},_r.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return Ct.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Ct(n||this.context.gl.LEQUAL,e,[r,r])},_r.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_r.prototype.render=function(e,n){var r=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var i=this.style._order,o=this.style.sourceCaches;for(var a in o){var A=o[a];A.used&&A.prepare(this.context)}var s,u,c={},l={},h={};for(var f in o){var p=o[f];c[f]=p.getVisibleCoordinates(),l[f]=c[f].slice().reverse(),h[f]=p.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var d=0;d<i.length;d++)if(this.style._layers[i[d]].is3D()){this.opaquePassCutoff=d;break}this.renderPass="offscreen";for(var g=0,m=i;g<m.length;g+=1){var y=this.style._layers[m[g]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var v=l[y.source];("custom"===y.type||v.length)&&this.renderLayer(this,o[y.source],y,v)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var _=this.style._layers[i[this.currentLayer]],w=o[_.source],x=c[_.source];this._renderTileClippingMasks(_,x),this.renderLayer(this,w,_,x)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var B=this.style._layers[i[this.currentLayer]],b=o[B.source],C=("symbol"===B.type?h:l)[B.source];this._renderTileClippingMasks(B,c[B.source]),this.renderLayer(this,b,B,C)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(r.transform.zoom)&&(t.source!==(u&&u.id)&&(u=r.style.sourceCaches[t.source]),(!s||s.getSource().maxzoom<u.getSource().maxzoom)&&(s=u))})),s&&vr.debug(this,s,s.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;dr(t,t.transform.height-(e.top||0),3,cr),dr(t,e.bottom||0,3,lr),gr(t,e.left||0,3,hr),gr(t,t.transform.width-(e.right||0),3,fr);var n,r,i,o,a=t.transform.centerPoint;n=t,r=a.x,i=t.transform.height-a.y,mr(n,r-1,i-10,2,20,o=pr),mr(n,r-10,i-1,20,2,o)}(this),this.context.setDefault()},_r.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),vr[n.type](t,e,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},_r.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},_r.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},_r.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},_r.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var r=t[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),e[n]=o}return e},_r.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var A=Math.sin(a),s=Math.cos(a);r=[r[0]*s-r[1]*A,r[0]*A+r[1]*s]}var u=[o?r[0]:he(n,r[0],this.transform.zoom),o?r[1]:he(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},_r.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},_r.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},_r.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},_r.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new Bn(this.context,t,_n[t],e,Wn[t],this._showOverdrawInspector)),this.cache[n]},_r.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_r.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},_r.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_r.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var wr=function(t,e){this.points=t,this.planes=e};wr.fromInvProjectionMatrix=function(e,n,r){var i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*i)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],o[e[0]],o[e[1]]),r=t.sub([],o[e[2]],o[e[1]]),i=t.normalize([],t.cross([],n,r)),a=-t.dot(i,o[e[1]]);return i.concat(a)}));return new wr(o,a)};var xr=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};xr.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],r=t.clone$2(this.min),i=t.clone$2(this.max),o=0;o<n.length;o++)r[o]=n[o]?this.min[o]:this.center[o],i[o]=n[o]?this.center[o]:this.max[o];return i[2]=this.max[2],new xr(r,i)},xr.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},xr.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},xr.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<e.planes.length;i++){for(var o=e.planes[i],a=0,A=0;A<n.length;A++)a+=t.dot$1(o,n[A])>=0;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(var s=0;s<3;s++){for(var u=Number.MAX_VALUE,c=-Number.MAX_VALUE,l=0;l<e.points.length;l++){var h=e.points[l][s]-this.min[s];u=Math.min(u,h),c=Math.max(c,h)}if(c<0||u>this.max[s]-this.min[s])return 0}return 1};var Br=function(t,e,n,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=r};Br.prototype.interpolate=function(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,r)),this},Br.prototype.getCenter=function(e,n){var r=t.clamp((this.left+e-this.right)/2,0,e),i=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(r,i)},Br.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},Br.prototype.clone=function(){return new Br(this.top,this.bottom,this.left,this.right)},Br.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var br=function(e,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null!=r?r:0,this._maxPitch=null!=i?i:60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Br,this._posMatrixCache={},this._alignedPosMatrixCache={}},Cr={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};br.prototype.clone=function(){var t=new br(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},Cr.minZoom.get=function(){return this._minZoom},Cr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Cr.maxZoom.get=function(){return this._maxZoom},Cr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Cr.minPitch.get=function(){return this._minPitch},Cr.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Cr.maxPitch.get=function(){return this._maxPitch},Cr.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Cr.renderWorldCopies.get=function(){return this._renderWorldCopies},Cr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Cr.worldSize.get=function(){return this.tileSize*this.scale},Cr.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Cr.size.get=function(){return new t.Point(this.width,this.height)},Cr.bearing.get=function(){return-this.angle/Math.PI*180},Cr.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Cr.pitch.get=function(){return this._pitch/Math.PI*180},Cr.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Cr.fov.get=function(){return this._fov/Math.PI*180},Cr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Cr.zoom.get=function(){return this._zoom},Cr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Cr.center.get=function(){return this._center},Cr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Cr.padding.get=function(){return this._edgeInsets.toJSON()},Cr.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},Cr.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},br.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},br.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},br.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},br.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),A=Math.floor(Math.min(r.x,i.x,o.x,a.x)),s=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=A-1;u<=s+1;u++)0!==u&&n.push(new t.UnwrappedTileID(u,e));return n},br.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*i.x,o*i.y,0],A=wr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),s=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(s=n);var u=function(t){return{aabb:new xr([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],l=[],h=n,f=e.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var p=1;p<=3;p++)c.push(u(-p)),c.push(u(p));for(c.push(u(0));c.length>0;){var d=c.pop(),g=d.x,m=d.y,y=d.fullyVisible;if(!y){var v=d.aabb.intersects(A);if(0===v)continue;y=2===v}var _=d.aabb.distanceX(a),w=d.aabb.distanceY(a),x=Math.max(Math.abs(_),Math.abs(w));if(d.zoom===h||x>3+(1<<h-d.zoom)-2&&d.zoom>=s)l.push({tileID:new t.OverscaledTileID(d.zoom===h?f:d.zoom,d.wrap,d.zoom,g,m),distanceSq:t.sqrLen([a[0]-.5-g,a[1]-.5-m])});else for(var B=0;B<4;B++){var b=(g<<1)+B%2,C=(m<<1)+(B>>1);c.push({aabb:d.aabb.quadrant(B),zoom:d.zoom+1,x:b,y:C,wrap:d.wrap,fullyVisible:y})}}return l.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},br.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Cr.unmodified.get=function(){return this._unmodified},br.prototype.zoomScale=function(t){return Math.pow(2,t)},br.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},br.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},br.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Cr.point.get=function(){return this.project(this.center)},br.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},br.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},br.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},br.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},br.prototype.coordinateLocation=function(t){return t.toLngLat()},br.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[1]/i,A=r[1]/o,s=n[2]/i,u=r[2]/o,c=s===u?0:(0-s)/(u-s);return new t.MercatorCoordinate(t.number(n[0]/i,r[0]/o,c)/this.worldSize,t.number(a,A,c)/this.worldSize)},br.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},br.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},br.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},br.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},br.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),A=o.x+Math.pow(2,o.z)*e.wrap,s=t.identity(new Float64Array(16));return t.translate(s,s,[A*a,o.y*a,0]),t.scale(s,s,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(s,n?this.alignedProjMatrix:this.projMatrix,s),i[r]=new Float32Array(s),i[r]},br.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},br.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,A=-180,s=180,u=this.size,c=this._unmodified;if(this.latRange){var l=this.latRange;o=t.mercatorYfromLat(l[1])*this.worldSize,e=(a=t.mercatorYfromLat(l[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var h=this.lngRange;A=t.mercatorXfromLng(h[0])*this.worldSize,n=(s=t.mercatorXfromLng(h[1])*this.worldSize)-A<u.x?u.x/(s-A):0}var f=this.point,p=Math.max(n||0,e||0);if(p)return this.center=this.unproject(new t.Point(n?(s+A)/2:f.x,e?(a+o)/2:f.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=f.y,g=u.y/2;d-g<o&&(i=o+g),d+g>a&&(i=a-g)}if(this.lngRange){var m=f.x,y=u.x/2;m-y<A&&(r=A+y),m+y>s&&(r=s-y)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:f.x,void 0!==i?i:f.y))),this._unmodified=c,this._constraining=!1}},br.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,r=this._fov*(.5+e.y/this.height),i=Math.sin(r)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-r,.01,Math.PI-.01)),o=this.point,a=o.x,A=o.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,u,s),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-A,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var l=this.width%2/2,h=this.height%2/2,f=Math.cos(this.angle),p=Math.sin(this.angle),d=a-Math.round(a)+f*l+p*h,g=A-Math.round(A)+f*h+p*l,m=new Float64Array(c);if(t.translate(m,m,[d>.5?d-1:d,g>.5?g-1:g,0]),this.alignedProjMatrix=m,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},br.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},br.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},br.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,A=0,s=e;A<s.length;A+=1){var u=s[A];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(br.prototype,Cr);var Fr=function(e){var n,r,i,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),r=!1,i=null,o=function(){i=null,r&&(n(),i=setTimeout(o,300),r=!1)},function(){return r=!0,i||o(),i})};Fr.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Fr.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Fr.prototype.getHashString=function(e){var n=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,i=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(n.lng*o)/o,A=Math.round(n.lat*o)/o,s=this._map.getBearing(),u=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+A+"/"+r:r+"/"+A+"/"+a,(s||u)&&(c+="/"+Math.round(10*s)/10),u&&(c+="/"+Math.round(u)),this._hashName){var l=this._hashName,h=!1,f=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===l?(h=!0,e+"="+c):t})).filter((function(t){return t}));return h||f.push(l+"="+c),"#"+f.join("&")}return"#"+c},Fr.prototype._getCurrentHash=function(){var e,n=this,r=t.window.location.hash.replace("#","");return this._hashName?(r.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):r.split("/")},Fr.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Fr.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var Ur={linearity:.3,easing:t.bezier(0,0,.3,1)},Er=t.extend({deceleration:2500,maxSpeed:1400},Ur),Qr=t.extend({deceleration:20,maxSpeed:1400},Ur),Ir=t.extend({deceleration:1e3,maxSpeed:360},Ur),kr=t.extend({deceleration:1e3,maxSpeed:90},Ur),Sr=function(t){this._map=t,this.clear()};function Tr(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Mr(e,n,r){var i=r.maxSpeed,o=r.linearity,a=r.deceleration,A=t.clamp(e*o/(n/1e3),-i,i),s=Math.abs(A)/(a*o);return{easing:r.easing,duration:1e3*s,amount:A*(s/2)}}Sr.prototype.clear=function(){this._inertiaBuffer=[]},Sr.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Sr.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Sr.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var o=i[r].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,A={};if(n.pan.mag()){var s=Mr(n.pan.mag(),a,t.extend({},Er,e||{}));A.offset=n.pan.mult(s.amount/n.pan.mag()),A.center=this._map.transform.center,Tr(A,s)}if(n.zoom){var u=Mr(n.zoom,a,Qr);A.zoom=this._map.transform.zoom+u.amount,Tr(A,u)}if(n.bearing){var c=Mr(n.bearing,a,Ir);A.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),Tr(A,c)}if(n.pitch){var l=Mr(n.pitch,a,kr);A.pitch=this._map.transform.pitch+l.amount,Tr(A,l)}if(A.zoom||A.bearing){var h=void 0===n.pinchAround?n.around:n.pinchAround;A.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),t.extend(A,{noMoveStart:!0})}};var Dr=function(e){function r(r,i,o,a){void 0===a&&(a={});var A=n.mousePos(i.getCanvasContainer(),o),s=i.unproject(A);e.call(this,r,t.extend({point:A,lngLat:s,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Lr=function(e){function r(r,i,o){var a="touchend"===r?o.changedTouches:o.touches,A=n.touchPos(i.getCanvasContainer(),a),s=A.map((function(t){return i.unproject(t)})),u=A.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),c=i.unproject(u);e.call(this,r,{points:A,point:u,lngLats:s,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),Pr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),Hr=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};Hr.prototype.reset=function(){delete this._mousedownPos},Hr.prototype.wheel=function(t){return this._firePreventable(new Pr(t.type,this._map,t))},Hr.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new Dr(t.type,this._map,t))},Hr.prototype.mouseup=function(t){this._map.fire(new Dr(t.type,this._map,t))},Hr.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Dr(t.type,this._map,t))},Hr.prototype.dblclick=function(t){return this._firePreventable(new Dr(t.type,this._map,t))},Hr.prototype.mouseover=function(t){this._map.fire(new Dr(t.type,this._map,t))},Hr.prototype.mouseout=function(t){this._map.fire(new Dr(t.type,this._map,t))},Hr.prototype.touchstart=function(t){return this._firePreventable(new Lr(t.type,this._map,t))},Hr.prototype.touchmove=function(t){this._map.fire(new Lr(t.type,this._map,t))},Hr.prototype.touchend=function(t){this._map.fire(new Lr(t.type,this._map,t))},Hr.prototype.touchcancel=function(t){this._map.fire(new Lr(t.type,this._map,t))},Hr.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},Hr.prototype.isEnabled=function(){return!0},Hr.prototype.isActive=function(){return!1},Hr.prototype.enable=function(){},Hr.prototype.disable=function(){};var zr=function(t){this._map=t};zr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},zr.prototype.mousemove=function(t){this._map.fire(new Dr(t.type,this._map,t))},zr.prototype.mousedown=function(){this._delayContextMenu=!0},zr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Dr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},zr.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Dr(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},zr.prototype.isEnabled=function(){return!0},zr.prototype.isActive=function(){return!1},zr.prototype.enable=function(){},zr.prototype.disable=function(){};var $r=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function Rr(t,e){for(var n={},r=0;r<t.length;r++)n[t[r].identifier]=e[r];return n}$r.prototype.isEnabled=function(){return!!this._enabled},$r.prototype.isActive=function(){return!!this._active},$r.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},$r.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},$r.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(n.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},$r.prototype.mousemoveWindow=function(t,e){if(this._active){var r=e;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(i.x,r.x),a=Math.max(i.x,r.x),A=Math.min(i.y,r.y),s=Math.max(i.y,r.y);n.setTransform(this._box,"translate("+o+"px,"+A+"px)"),this._box.style.width=a-o+"px",this._box.style.height=s-A+"px"}}},$r.prototype.mouseupWindow=function(e,r){var i=this;if(this._active&&0===e.button){var o=this._startPos,a=r;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(o,a,i._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},$r.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},$r.prototype.blur=function(){this.reset()},$r.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},$r.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Or=function(t){this.reset(),this.numTouches=t.numTouches};Or.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Or.prototype.touchstart=function(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),r=0,i=e;r<i.length;r+=1)n._add(i[r]);return n.div(e.length)}(n),this.touches=Rr(r,n)))},Or.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var r=Rr(n,e);for(var i in this.touches){var o=r[i];(!o||o.dist(this.touches[i])>30)&&(this.aborted=!0)}}},Or.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var Kr=function(t){this.singleTap=new Or(t),this.numTaps=t.numTaps,this.reset()};Kr.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Kr.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Kr.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Kr.prototype.touchend=function(t,e,n){var r=this.singleTap.touchend(t,e,n);if(r){var i=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(r)<30;if(i&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var Vr=function(){this._zoomIn=new Kr({numTouches:1,numTaps:2}),this._zoomOut=new Kr({numTouches:2,numTaps:1}),this.reset()};Vr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Vr.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Vr.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},Vr.prototype.touchend=function(t,e,n){var r=this,i=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return i?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(i)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout((function(){return r.reset()}),0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},Vr.prototype.touchcancel=function(){this.reset()},Vr.prototype.enable=function(){this._enabled=!0},Vr.prototype.disable=function(){this._enabled=!1,this.reset()},Vr.prototype.isEnabled=function(){return this._enabled},Vr.prototype.isActive=function(){return this._active};var Nr={0:1,2:2},Gr=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};Gr.prototype.blur=function(){this.reset()},Gr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Gr.prototype._correctButton=function(t,e){return!1},Gr.prototype._move=function(t,e){return{}},Gr.prototype.mousedown=function(t,e){if(!this._lastPoint){var r=n.mouseButton(t);this._correctButton(t,r)&&(this._lastPoint=e,this._eventButton=r)}},Gr.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Nr[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},Gr.prototype.mouseupWindow=function(t){this._lastPoint&&n.mouseButton(t)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Gr.prototype.enable=function(){this._enabled=!0},Gr.prototype.disable=function(){this._enabled=!1,this.reset()},Gr.prototype.isEnabled=function(){return this._enabled},Gr.prototype.isActive=function(){return this._active};var jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(Gr),qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Gr),Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Gr),Xr=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Xr.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Xr.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Xr.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Xr.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Xr.prototype.touchcancel=function(){this.reset()},Xr.prototype._calculateTransform=function(e,n,r){r.length>0&&(this._active=!0);var i=Rr(r,n),o=new t.Point(0,0),a=new t.Point(0,0),A=0;for(var s in i){var u=i[s],c=this._touches[s];c&&(o._add(u),a._add(u.sub(c)),A++,i[s]=u)}if(this._touches=i,!(A<this._minTouches)&&a.mag()){var l=a.div(A);if(this._sum._add(l),!(this._sum.mag()<this._clickTolerance))return{around:o.div(A),panDelta:l}}},Xr.prototype.enable=function(){this._enabled=!0},Xr.prototype.disable=function(){this._enabled=!1,this.reset()},Xr.prototype.isEnabled=function(){return this._enabled},Xr.prototype.isActive=function(){return this._active};var Wr=function(){this.reset()};function Jr(t,e,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return e[r]}function Yr(t,e){return Math.log(t/e)/Math.LN2}Wr.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Wr.prototype._start=function(t){},Wr.prototype._move=function(t,e,n){return{}},Wr.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},Wr.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var r=this._firstTwoTouches,i=r[1],o=Jr(n,e,r[0]),a=Jr(n,e,i);if(o&&a){var A=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],A,t)}}},Wr.prototype.touchend=function(t,e,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,o=i[1],a=Jr(r,e,i[0]),A=Jr(r,e,o);a&&A||(this._active&&n.suppressClick(),this.reset())}},Wr.prototype.touchcancel=function(){this.reset()},Wr.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Wr.prototype.disable=function(){this._enabled=!1,this.reset()},Wr.prototype.isEnabled=function(){return this._enabled},Wr.prototype.isActive=function(){return this._active};var ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Yr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Yr(this._distance,n),pinchAround:e}},e}(Wr);function ei(t,e){return 180*t.angleWith(e)/Math.PI}var ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ei(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=ei(t,this._startVector);return Math.abs(n)<e},e}(Wr);function ri(t){return Math.abs(t.y)>Math.abs(t.x)}var ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,ri(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var r=t[0].sub(this._lastPoints[0]),i=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var r=t.mag()>=2,i=e.mag()>=2;if(r||i){if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return ri(t)&&ri(e)&&o}},e}(Wr),oi={panStep:100,bearingStep:15,pitchStep:10},ai=function(){var t=oi;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function Ai(t){return t*(2-t)}ai.prototype.blur=function(){this.reset()},ai.prototype.reset=function(){this._active=!1},ai.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,r=0,i=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?r=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?r=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?i=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(r=0,i=0),{cameraAnimation:function(A){var s=A.getZoom();A.easeTo({duration:300,easeId:"keyboardHandler",easing:Ai,zoom:n?Math.round(s)+n*(t.shiftKey?2:1):s,bearing:A.getBearing()+r*e._bearingStep,pitch:A.getPitch()+i*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:A.getCenter()},{originalEvent:t})}}}},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active},ai.prototype.disableRotation=function(){this._rotationDisabled=!0},ai.prototype.enableRotation=function(){this._rotationDisabled=!1};var si=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};si.prototype.setZoomRate=function(t){this._defaultZoomRate=t},si.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},si.prototype.isEnabled=function(){return!!this._enabled},si.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},si.prototype.isZooming=function(){return!!this._zooming},si.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},si.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},si.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},si.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},si.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},si.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,A="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&s&&u){var l=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),h=u(l);a=t.number(s,A,h),l<1?this._frameId||(this._frameId=!0):c=!0}else a=A,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},si.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,A=Math.sqrt(.0729-a*a);n=t.bezier(a,A,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},si.prototype.blur=function(){this.reset()},si.prototype.reset=function(){this._active=!1};var ui=function(t,e){this._clickZoom=t,this._tapZoom=e};ui.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ui.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ui.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ui.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var ci=function(){this.reset()};ci.prototype.reset=function(){this._active=!1},ci.prototype.blur=function(){this.reset()},ci.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},ci.prototype.enable=function(){this._enabled=!0},ci.prototype.disable=function(){this._enabled=!1,this.reset()},ci.prototype.isEnabled=function(){return this._enabled},ci.prototype.isActive=function(){return this._active};var li=function(){this._tap=new Kr({numTouches:1,numTaps:1}),this.reset()};li.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},li.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},li.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=e[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,t.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(t,e,n)},li.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},li.prototype.touchcancel=function(){this.reset()},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active};var hi=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};hi.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hi.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hi.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hi.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var fi=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};fi.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},fi.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},fi.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},fi.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var pi=function(t,e,n,r){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};pi.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},pi.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},pi.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},pi.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},pi.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},pi.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var di=function(t){return t.zoom||t.drag||t.pitch||t.rotate},gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function mi(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var yi=function(e,r){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Sr(e),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),t.bindAll(["handleEvent","handleWindowEvent"],this);var i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[t.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var A=a[o],s=A[0];n.addEventListener(s,A[1],s===t.window.document?this.handleWindowEvent:this.handleEvent,A[2])}};yi.prototype.destroy=function(){for(var e=0,r=this._listeners;e<r.length;e+=1){var i=r[e],o=i[0];n.removeEventListener(o,i[1],o===t.window.document?this.handleWindowEvent:this.handleEvent,i[2])}},yi.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Hr(e,t));var r=e.boxZoom=new $r(e,t);this._add("boxZoom",r);var i=new Vr,o=new ci;e.doubleClickZoom=new ui(o,i),this._add("tapZoom",i),this._add("clickZoom",o);var a=new li;this._add("tapDragZoom",a);var A=e.touchPitch=new ii;this._add("touchPitch",A);var s=new qr(t),u=new Zr(t);e.dragRotate=new fi(t,s,u),this._add("mouseRotate",s,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new jr(t),l=new Xr(t);e.dragPan=new hi(n,c,l),this._add("mousePan",c),this._add("touchPan",l,["touchZoom","touchRotate"]);var h=new ni,f=new ti;e.touchZoomRotate=new pi(n,f,h,a),this._add("touchRotate",h,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]);var p=e.scrollZoom=new si(e,this);this._add("scrollZoom",p,["mousePan"]);var d=e.keyboard=new ai;this._add("keyboard",d),this._add("blockableMapEvent",new zr(e));for(var g=0,m=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<m.length;g+=1){var y=m[g];t.interactive&&t[y]&&e[y].enable(t[y])}},yi.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},yi.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},yi.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},yi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yi.prototype.isMoving=function(){return Boolean(di(this._eventsInProgress))||this.isZooming()},yi.prototype._blockedByActive=function(t,e,n){for(var r in t)if(r!==n&&(!e||e.indexOf(r)<0))return!0;return!1},yi.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},yi.prototype._getMapTouches=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n];this._el.contains(i.target)&&e.push(i)}return e},yi.prototype.handleEvent=function(t,e){this._updatingCamera=!0;for(var r="renderFrame"===t.type?void 0:t,i={needsRenderFrame:!1},o={},a={},A=t.touches?this._getMapTouches(t.touches):void 0,s=A?n.touchPos(this._el,A):n.mousePos(this._el,t),u=0,c=this._handlers;u<c.length;u+=1){var l=c[u],h=l.handlerName,f=l.handler,p=l.allowed;if(f.isEnabled()){var d=void 0;this._blockedByActive(a,p,h)?f.reset():f[e||t.type]&&(d=f[e||t.type](t,s,A),this.mergeHandlerResult(i,o,d,h,r),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||f.isActive())&&(a[h]=f)}}var g={};for(var m in this._previousActiveHandlers)a[m]||(g[m]=r);this._previousActiveHandlers=a,(Object.keys(g).length||mi(i))&&(this._changes.push([i,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||mi(i))&&this._map._stop(!0),this._updatingCamera=!1;var y=i.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))},yi.prototype.mergeHandlerResult=function(e,n,r,i,o){if(r){t.extend(e,r);var a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}},yi.prototype._applyChanges=function(){for(var e={},n={},r={},i=0,o=this._changes;i<o.length;i+=1){var a=o[i],A=a[0],s=a[1],u=a[2];A.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(A.panDelta)),A.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+A.zoomDelta),A.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+A.bearingDelta),A.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+A.pitchDelta),void 0!==A.around&&(e.around=A.around),void 0!==A.pinchAround&&(e.pinchAround=A.pinchAround),A.noInertia&&(e.noInertia=A.noInertia),t.extend(n,s),t.extend(r,u)}this._updateMapTransform(e,n,r),this._changes=[]},yi.prototype._updateMapTransform=function(t,e,n){var r=this._map,i=r.transform;if(!mi(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,A=t.bearingDelta,s=t.pitchDelta,u=t.around,c=t.pinchAround;void 0!==c&&(u=c),r._stop(!0),u=u||r.transform.centerPoint;var l=i.pointLocation(o?u.sub(o):u);A&&(i.bearing+=A),s&&(i.pitch+=s),a&&(i.zoom+=a),i.setLocationAtPoint(l,u),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},yi.prototype._fireEvents=function(e,n,r){var i=this,o=di(this._eventsInProgress),a=di(e),A={};for(var s in e)this._eventsInProgress[s]||(A[s+"start"]=e[s].originalEvent),this._eventsInProgress[s]=e[s];for(var u in!o&&a&&this._fireEvent("movestart",a.originalEvent),A)this._fireEvent(u,A[u]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var l,h={};for(var f in this._eventsInProgress){var p=this._eventsInProgress[f],d=p.handlerName,g=p.originalEvent;this._handlersById[d].isActive()||(delete this._eventsInProgress[f],h[f+"end"]=l=n[d]||g)}for(var m in h)this._fireEvent(m,h[m]);var y=di(this._eventsInProgress);if(r&&(o||a)&&!y){this._updatingCamera=!0;var v=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),_=function(t){return 0!==t&&-i._bearingSnap<t&&t<i._bearingSnap};v?(_(v.bearing||this._map.getBearing())&&(v.bearing=0),this._map.easeTo(v,{originalEvent:l})):(this._map.fire(new t.Event("moveend",{originalEvent:l})),_(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yi.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yi.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(e){delete t._frameId,t.handleEvent(new gi("renderFrame",{timeStamp:e})),t._applyChanges()}))},yi.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var vi=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var r=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),r,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var a=i.padding;i.padding={top:a,bottom:a,right:a,left:a}}i.padding=t.extend(o,i.padding);var A=this.transform,s=A.padding,u=A.project(t.LngLat.convert(e)),c=A.project(t.LngLat.convert(n)),l=u.rotate(-r*Math.PI/180),h=c.rotate(-r*Math.PI/180),f=new t.Point(Math.max(l.x,h.x),Math.max(l.y,h.y)),p=new t.Point(Math.min(l.x,h.x),Math.min(l.y,h.y)),d=f.sub(p),g=(A.width-(s.left+s.right+i.padding.left+i.padding.right))/d.x,m=(A.height-(s.top+s.bottom+i.padding.top+i.padding.bottom))/d.y;if(!(m<0||g<0)){var y=Math.min(A.scaleZoom(A.scale*Math.min(g,m)),i.maxZoom),v="number"==typeof i.offset.x?new t.Point(i.offset.x,i.offset.y):t.Point.convert(i.offset),_=new t.Point((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),w=v.add(_).mult(A.scale/A.zoomScale(y));return{center:A.unproject(u.add(c).div(2).sub(w)),zoom:y,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),null==e.padding||r.isPaddingEqual(e.padding)||(r.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),A=this.getPitch(),s=this.getPadding(),u="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,l="pitch"in e?+e.pitch:A,h="padding"in e?e.padding:i.padding,f=t.Point.convert(e.offset),p=i.centerPoint.add(f),d=i.pointLocation(p),g=t.LngLat.convert(e.center||d);this._normalizeCenter(g);var m,y,v=i.project(d),_=i.project(g).sub(v),w=i.zoomScale(u-o);e.around&&(m=t.LngLat.convert(e.around),y=i.locationPoint(m));var x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||u!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||l!==A,this._padding=!i.isPaddingEqual(h),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,x),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,u,e)),r._rotating&&(i.bearing=t.number(a,c,e)),r._pitching&&(i.pitch=t.number(A,l,e)),r._padding&&(i.interpolatePadding(s,h,e),p=i.centerPoint.add(f)),m)i.setLocationAtPoint(m,y);else{var d=i.zoomScale(i.zoom-o),g=u>o?Math.min(2,w):Math.max(.5,w),x=Math.pow(g,1-e),B=i.unproject(v.add(_.mult(e*x)).mult(d));i.setLocationAtPoint(i.renderWorldCopies?B.wrap():B,p)}r._fireMoveEvents(n)}),(function(t){r._afterEase(n,t)}),e),this},n.prototype._prepareEase=function(e,n,r){void 0===r&&(r={}),this._moving=!0,n||r.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var r=this;if(!e.essential&&t.browser.prefersReducedMotion){var i=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),A=this.getBearing(),s=this.getPitch(),u=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,l="bearing"in e?this._normalizeBearing(e.bearing,A):A,h="pitch"in e?+e.pitch:s,f="padding"in e?e.padding:o.padding,p=o.zoomScale(c-a),d=t.Point.convert(e.offset),g=o.centerPoint.add(d),m=o.pointLocation(g),y=t.LngLat.convert(e.center||m);this._normalizeCenter(y);var v=o.project(m),_=o.project(y).sub(v),w=e.curve,x=Math.max(o.width,o.height),B=x/p,b=_.mag();if("minZoom"in e){var C=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),F=x/o.zoomScale(C-a);w=Math.sqrt(F/b*2)}var U=w*w;function E(t){var e=(B*B-x*x+(t?-1:1)*U*U*b*b)/(2*(t?B:x)*U*b);return Math.log(Math.sqrt(e*e+1)-e)}function Q(t){return(Math.exp(t)-Math.exp(-t))/2}function I(t){return(Math.exp(t)+Math.exp(-t))/2}var k=E(0),S=function(t){return I(k)/I(k+w*t)},T=function(t){return x*((I(k)*(Q(e=k+w*t)/I(e))-Q(k))/U)/b;var e},M=(E(1)-k)/w;if(Math.abs(b)<1e-6||!isFinite(M)){if(Math.abs(x-B)<1e-6)return this.easeTo(e,n);var D=B<x?-1:1;M=Math.abs(Math.log(B/x))/w,T=function(){return 0},S=function(t){return Math.exp(D*w*t)}}return e.duration="duration"in e?+e.duration:1e3*M/("screenSpeed"in e?+e.screenSpeed/w:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=A!==l,this._pitching=h!==s,this._padding=!o.isPaddingEqual(f),this._prepareEase(n,!1),this._ease((function(e){var i=e*M,p=1/S(i);o.zoom=1===e?c:a+o.scaleZoom(p),r._rotating&&(o.bearing=t.number(A,l,e)),r._pitching&&(o.pitch=t.number(s,h,e)),r._padding&&(o.interpolatePadding(u,f,e),g=o.centerPoint.add(d));var m=1===e?y:o.unproject(v.add(_.mult(T(i))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?m.wrap():m,g),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var r=this.handlers;r&&r.stop(!1)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),_i=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_i.prototype.getDefaultPosition=function(){return"bottom-right"},_i.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_i.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_i.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},_i.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_i.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},_i.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},_i.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_i.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var wi=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};wi.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},wi.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},wi.prototype.getDefaultPosition=function(){return"bottom-left"},wi.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},wi.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},wi.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var xi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xi.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},xi.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},xi.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Bi={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},bi=t.window.HTMLImageElement,Ci=t.window.HTMLElement,Fi=t.window.ImageBitmap,Ui={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ei=function(r){function i(e){var n=this;if(null!=(e=t.extend({},Ui,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var i=new br(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(r.call(this,i,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new xi,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},Bi,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Ci))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return n._update(!1)})),this.on("moveend",(function(){return n._update(!1)})),this.on("zoom",(function(){return n._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yi(this,e),this._hash=e.hash&&new Fr("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new _i({customAttribution:e.customAttribution})),this.addControl(new wi,e.logoPosition),this.on("style.load",(function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)})),this.on("data",(function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){n.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(i.__proto__=r),(i.prototype=Object.create(r&&r.prototype)).constructor=i;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.hasControl=function(t){return this._controls.indexOf(t)>-1},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];if(r===this.transform.width&&i===this.transform.height)return this;this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var o=!this._moving;return o&&this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){var e;if((t=null!==(e=t)&&void 0!==e?e:-2)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){var e;if((t=null!==(e=t)&&void 0!==e?e:22)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(t){var e;if((t=null!==(e=t)&&void 0!==e?e:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(t){var e;if((t=null!==(e=t)&&void 0!==e?e:60)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(t,e,n){var r,i=this;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new Dr(t,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(i,new Dr(t,i,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(i,new Dr(t,i,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(r={},r[t]=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)},r)}},i.prototype.on=function(t,e,n){if(void 0===n)return r.prototype.on.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(i),i.delegates)this.on(o,i.delegates[o]);return this},i.prototype.once=function(t,e,n){if(void 0===n)return r.prototype.once.call(this,t,e);var i=this._createDelegatedListener(t,e,n);for(var o in i.delegates)this.once(o,i.delegates[o]);return this},i.prototype.off=function(t,e,n){var i=this;return void 0===n?r.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(r){for(var o=r[t],a=0;a<o.length;a++){var A=o[a];if(A.layer===e&&A.listener===n){for(var s in A.delegates)i.off(s,A.delegates[s]);return o.splice(a,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},i.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},i.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Ke(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ke(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==pn(e)&&this._updateDiff(e,n)},i.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;void 0===o&&(o=!1);var a=r.stretchX,A=r.stretchY,s=r.content;if(this._lazyInitEmptyStyle(),n instanceof bi||Fi&&n instanceof Fi){var u=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:u.width,height:u.height},u.data),pixelRatio:i,stretchX:a,stretchY:A,content:s,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:i,stretchX:a,stretchY:A,content:s,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}},i.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof bi||Fi&&n instanceof Fi?t.browser.getImageData(n):n,o=i.width,a=i.height,A=i.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==r.data.width||a!==r.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(r.data.replace(A,!(n instanceof bi||Fi&&n instanceof Fi)),void this.style.updateImage(e,r))},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)})),this._container.addEventListener("scroll",this._onMapScroll,!1)},i.prototype._resizeCanvas=function(e,n){var r=t.browser.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new _r(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype._onMapScroll=function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(e){var n,r=this,i=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var A=this.transform.zoom,s=t.browser.now();this.style.zoomHistory.update(A,s);var u=new t.EvaluationParameters(A,{now:s,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var l=t.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),r.fire(new t.Event("gpu-timing-frame",{cpuTime:l,gpuTime:e}))}),50)}if(this.listens("gpu-timing-layer")){var h=this.painter.collectGpuTimers();setTimeout((function(){var e=r.painter.queryGpuTimers(h);r.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}var f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Qi(this._canvasContainer),Qi(this._controlContainer),Qi(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render(t)})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},i.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(i.prototype,o),i}(vi);function Qi(t){t.parentNode&&t.parentNode.removeChild(t)}var Ii={showCompass:!0,showZoom:!0,visualizePitch:!1},ki=function(e){var r=this;this.options=t.extend({},Ii,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return r._map.zoomIn({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return r._map.zoomOut({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:t}):r._map.resetNorth({},{originalEvent:t})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};ki.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},ki.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},ki.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Si(this._map,this._compass,this.options.visualizePitch)),this._container},ki.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},ki.prototype._createButton=function(t,e){var r=n.create("button",t,this._container);return r.type="button",r.addEventListener("click",e),r},ki.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Si=function(e,r,i){void 0===i&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new qr({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,i&&(this.mousePitch=new Zr({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(r,"mousedown",this.mousedown),n.addEventListener(r,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(r,"touchmove",this.touchmove),n.addEventListener(r,"touchend",this.touchend),n.addEventListener(r,"touchcancel",this.reset)};function Ti(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var A=r.locationPoint(e);if(A.x>=0&&A.y>=0&&A.x<=r.width&&A.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Si.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),n.disableDrag()},Si.prototype.move=function(t,e){var n=this.map,r=this.mouseRotate.mousemoveWindow(t,e);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(t,e);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},Si.prototype.off=function(){var t=this.element;n.removeEventListener(t,"mousedown",this.mousedown),n.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(t,"touchmove",this.touchmove),n.removeEventListener(t,"touchend",this.touchend),n.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},Si.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(t.window,"mousemove",this.mousemove),n.removeEventListener(t.window,"mouseup",this.mouseup)},Si.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),n.mousePos(this.element,e)),n.addEventListener(t.window,"mousemove",this.mousemove),n.addEventListener(t.window,"mouseup",this.mouseup)},Si.prototype.mousemove=function(t){this.move(t,n.mousePos(this.element,t))},Si.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Si.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},Si.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},Si.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Si.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Mi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Di(t,e,n){var r=t.classList;for(var i in Mi)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var Li,Pi=function(e){function r(r,i){if(e.call(this),(r instanceof t.window.HTMLElement||i)&&(r=t.extend({element:r},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&"auto"!==r.pitchAlignment?r.pitchAlignment:this._rotationAlignment,r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var A=n.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"fill-rule","nonzero");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var l=c[u],h=n.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",l.rx),h.setAttributeNS(null,"ry",l.ry),s.appendChild(h)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var p=n.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(p);var d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(g);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(6.0, 7.0)"),m.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),y.appendChild(v),y.appendChild(_),A.appendChild(s),A.appendChild(f),A.appendChild(d),A.appendChild(m),A.appendChild(y),o.appendChild(A),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),Di(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},r.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Ti(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Mi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+r+" "+e)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(t.Evented),Hi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},zi=0,$i=!1,Ri=function(e){function r(n){e.call(this),this.options=t.extend({},Hi,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==Li?r(Li):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){r(Li="denied"!==t.state)})):r(Li=!!t.window.navigator.geolocation),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,zi=0,$i=!1},r.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},r.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),r=e.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&$i)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Pi(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Pi({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":zi--,$i=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++zi>1?(e={maximumAge:6e5,timeout:0},$i=!0):(e=this.options.positionOptions,$i=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),Oi={maxWidth:100,unit:"metric"},Ki=function(e){this.options=t.extend({},Oi,e),t.bindAll(["_onMove","setUnit"],this)};function Vi(t,e,n){var r=n&&n.maxWidth||100,i=t._container.clientHeight/2,o=t.unproject([0,i]),a=t.unproject([r,i]),A=o.distanceTo(a);if(n&&"imperial"===n.unit){var s=3.2808*A;s>5280?Ni(e,r,s/5280,t._getUIString("ScaleControl.Miles")):Ni(e,r,s,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Ni(e,r,A/1852,t._getUIString("ScaleControl.NauticalMiles")):A>=1e3?Ni(e,r,A/1e3,t._getUIString("ScaleControl.Kilometers")):Ni(e,r,A,t._getUIString("ScaleControl.Meters"))}function Ni(t,e,n,r){var i,o,a,A,s,u=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:(A=a,s=Math.pow(10,Math.ceil(-Math.log(A)/Math.LN10)),Math.round(A*s)/s)));t.style.width=e*(u/n)+"px",t.innerHTML=u+"&nbsp;"+r}Ki.prototype.getDefaultPosition=function(){return"bottom-left"},Ki.prototype._onMove=function(){Vi(this._map,this._container,this.options)},Ki.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ki.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ki.prototype.setUnit=function(t){this.options.unit=t,Vi(this._map,this._container,this.options)};var Gi=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};Gi.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Gi.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Gi.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Gi.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Gi.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Gi.prototype._isFullscreen=function(){return this._fullscreen},Gi.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Gi.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var ji={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},qi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Zi=function(e){function r(n){e.call(this),this.options=t.extend(Object.create(ji),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this},r.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},r.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},r.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},r.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},r.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},r.prototype._onMouseUp=function(t){this._update(t.point)},r.prototype._onMouseMove=function(t){this._update(t.point)},r.prototype._onDrag=function(t){this._update(t.point)},r.prototype._update=function(e){var r=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return r._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ti(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var A,s=this._container.offsetWidth,u=this._container.offsetHeight;A=i.y+a.bottom.y<u?["top"]:i.y>this._map.transform.height-u?["bottom"]:[],i.x<s/2?A.push("left"):i.x>this._map.transform.width-s/2&&A.push("right"),o=0===A.length?"bottom":A.join("-")}var c=i.add(a[o]).round();n.setTransform(this._container,Mi[o]+" translate("+c.x+"px,"+c.y+"px)"),Di(this._container,o,"popup")}},r.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(qi);t&&t.focus()}},r.prototype._onClose=function(){this.remove()},r}(t.Evented),Xi={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Ei,NavigationControl:ki,GeolocateControl:Ri,AttributionControl:_i,ScaleControl:Ki,FullscreenControl:Gi,Popup:Zi,Marker:Pi,Style:Ke,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Ht().acquire(Mt)},clearPrewarmedResources:function(){var t=Lt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Mt),Lt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Dt.workerCount},set workerCount(t){Dt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Xi})),n}()},XU(JU={path:WU,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null!=e||JU.path)}},JU.exports),JU.exports);YU.AttributionControl,YU.Evented,YU.FullscreenControl,YU.GeolocateControl,YU.LngLat,YU.LngLatBounds,YU.Map,YU.Marker,YU.MercatorCoordinate,YU.NavigationControl,YU.Point,YU.Popup,YU.ScaleControl,YU.Style,YU.accessToken,YU.baseApiUrl,YU.clearPrewarmedResources,YU.clearStorage,YU.config,YU.getRTLTextPluginStatus,YU.maxParallelImageRequests,YU.prewarm,YU.setRTLTextPlugin,YU.supported,YU.version,YU.workerCount,YU.workerUrl;function tE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function eE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nE(t){Uc(t,"svelte-a65d1y",".mapboxgl-control-container button{margin:0}div.svelte-a65d1y{width:100%;height:100%}")}function rE(t){var e,n=t[17].default,r=lc(n,t,t[16],null);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||65536&i)&&pc(r,n,t,t[16],e?fc(n,t[16],i,null):dc(t[16]),null)},i:function(t){e||(dl(r,t),e=!0)},o:function(t){gl(r,t),e=!1},d:function(t){r&&r.d(t)}}}function iE(t){var e,n,r,i=t[4]&&rE(t);return{c:function(){e=kc("div"),i&&i.c(),Pc(e,"id",t[0]),Pc(e,"class","svelte-a65d1y"),ol((function(){return t[18].call(e)}))},m:function(o,a){Ec(o,e,a),i&&i.m(e,null),n=Vc(e,t[18].bind(e)),t[19](e),r=!0},p:function(t,n){var o=vh(n,1)[0];t[4]?i?(i.p(t,o),16&o&&dl(i,1)):((i=rE(t)).c(),dl(i,1),i.m(e,null)):i&&(fl(),gl(i,1,1,(function(){i=null})),pl()),(!r||1&o)&&Pc(e,"id",t[0])},i:function(t){r||(dl(i),r=!0)},o:function(t){gl(i),r=!1},d:function(r){r&&Qc(e),i&&i.d(),n(),t[19](null)}}}function oE(t,e,n){var r,i,o,a,A=e.$$slots,s=void 0===A?{}:A,u=e.$$scope,c=e.map,l=e.id,h=void 0===l?"map":l,f=e.location,p=void 0===f?{lng:15,lat:45,zoom:1}:f,d=e.style,g=void 0===d?{version:8,sources:{},layers:[]}:d,m=e.minzoom,y=void 0===m?0:m,v=e.maxzoom,_=void 0===v?14:v,w=e.controls,x=void 0!==w&&w,B=e.locate,b=void 0!==B&&B,C=e.tabbable,F=void 0!==C&&C,U=e.zoom,E=void 0===U?null:U,Q=e.center,I=void 0===Q?null:Q,k=e.interactive,S=void 0===k||k,T=!1;return Xc("map",{getMap:function(){return c}}),p.bounds?a={bounds:p.bounds}:"number"==typeof p.lng&&"number"==typeof p.lat&&(a={center:[p.lng,p.lat]},"number"==typeof p.zoom&&(a.zoom=p.zoom)),qc((function(){var t=document.createElement("link");return t.rel="stylesheet",t.href="https://unpkg.com/mapbox-gl@1.13.2/dist/mapbox-gl.css",t.onload=function(){n(5,c=new YU.Map(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?eE(Object(n),!0).forEach((function(e){mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({container:r,style:g,minZoom:y,maxZoom:_,interactive:S},a))),x&&c.addControl(new YU.NavigationControl({showCompass:!1})),b&&c.addControl(new YU.GeolocateControl),c.on("load",(function(){n(6,E=c.getZoom()),n(7,I=c.getCenter()),n(4,T=!0),!F&&document.querySelector("#".concat(h," canvas"))&&(document.querySelector("#".concat(h," canvas")).tabIndex="-1")})),c.on("moveend",(function(){n(6,E=c.getZoom()),n(7,I=c.getCenter())}))},document.head.appendChild(t),function(){c.remove(),t.parentNode.removeChild(t)}})),t.$$set=function(t){"map"in t&&n(5,c=t.map),"id"in t&&n(0,h=t.id),"location"in t&&n(8,p=t.location),"style"in t&&n(9,g=t.style),"minzoom"in t&&n(10,y=t.minzoom),"maxzoom"in t&&n(11,_=t.maxzoom),"controls"in t&&n(12,x=t.controls),"locate"in t&&n(13,b=t.locate),"tabbable"in t&&n(14,F=t.tabbable),"zoom"in t&&n(6,E=t.zoom),"center"in t&&n(7,I=t.center),"interactive"in t&&n(15,S=t.interactive),"$$scope"in t&&n(16,u=t.$$scope)},t.$$.update=function(){6&t.$$.dirty&&(i||o)&&function(){if(T){var t=document.getElementsByClassName("mapboxgl-canvas");t[0]&&(t[0].style.width="100%",t[0].style.height="100%",c.resize())}}()},[h,i,o,r,T,c,E,I,p,g,y,_,x,b,F,S,u,s,function(){i=this.clientWidth,o=this.clientHeight,n(1,i),n(2,o)},function(t){tl[t?"unshift":"push"]((function(){n(3,r=t)}))}]}var aE=function(t){fn(n,t);var e=tE(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,oE,iE,Ac,{map:5,id:0,location:8,style:9,minzoom:10,maxzoom:11,controls:12,locate:13,tabbable:14,zoom:6,center:7,interactive:15},nE),r}return n}(Bl);function AE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function sE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function uE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sE(Object(n),!0).forEach((function(e){mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cE(t){var e,n=t[11].default,r=lc(n,t,t[10],null);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||1024&i)&&pc(r,n,t,t[10],e?fc(n,t[10],i,null):dc(t[10]),null)},i:function(t){e||(dl(r,t),e=!0)},o:function(t){gl(r,t),e=!1},d:function(t){r&&r.d(t)}}}function lE(t){var e,n,r=t[0]&&cE(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,i){r&&r.m(t,i),Ec(t,e,i),n=!0},p:function(t,n){var i=vh(n,1)[0];t[0]?r?(r.p(t,i),1&i&&dl(r,1)):((r=cE(t)).c(),dl(r,1),r.m(e.parentNode,e)):r&&(fl(),gl(r,1,1,(function(){r=null})),pl())},i:function(t){n||(dl(r),n=!0)},o:function(t){gl(r),n=!1},d:function(t){r&&r.d(t),t&&Qc(e)}}}function hE(t,e,n){var r,i=e.$$slots,o=void 0===i?{}:i,a=e.$$scope,A=e.id,s=e.type,u=e.url,c=void 0===u?null:u,l=e.props,h=void 0===l?{}:l,f=e.data,p=void 0===f?null:f,d=e.layer,g=void 0===d?null:d,m=e.promoteId,y=void 0===m?null:m,v=e.minzoom,_=void 0===v?null:v,w=e.maxzoom,x=void 0===w?null:w,B=!1,b=(0,Wc("map").getMap)();function C(){b.isSourceLoaded(A)?(n(0,B=!0),console.log(A+" map source loaded!")):setTimeout((function(){console.log("..."),C()}),250)}return Xc("source",{source:A,layer:g,promoteId:y}),b.getSource(A)&&b.removeSource(A),_&&(h.minzoom=_),x&&(h.maxzoom=x),g&&y?(h.promoteId={},h.promoteId[g]=y):y&&(h.promoteId=y),console.log(A+" map source loading..."),"geojson"==s?p?r=uE({type:s,data:p},h):c&&(r=uE({type:s,data:c},h)):"vector"==s?r=uE({type:s,tiles:[c]},h):"raster"==s&&(r=uE({type:s,tiles:[c],tileSize:tilesize},h)),r&&(b.addSource(A,r),C()),t.$$set=function(t){"id"in t&&n(2,A=t.id),"type"in t&&n(3,s=t.type),"url"in t&&n(4,c=t.url),"props"in t&&n(1,h=t.props),"data"in t&&n(5,p=t.data),"layer"in t&&n(6,g=t.layer),"promoteId"in t&&n(7,y=t.promoteId),"minzoom"in t&&n(8,_=t.minzoom),"maxzoom"in t&&n(9,x=t.maxzoom),"$$scope"in t&&n(10,a=t.$$scope)},t.$$.update=function(){33&t.$$.dirty&&B&&p&&b.getSource(A).setData(p)},[B,h,A,s,c,p,g,y,_,x,a,o]}var fE=function(t){fn(n,t);var e=AE(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,hE,lE,Ac,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9}),r}return n}(Bl);function pE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}var dE=function(t){return{hovered:1&t[0]}},gE=function(t){return{hovered:t[0]}};function mE(t){var e,n=t[28].default,r=lc(n,t,t[27],gE);return{c:function(){r&&r.c()},m:function(t,n){r&&r.m(t,n),e=!0},p:function(t,i){r&&r.p&&(!e||134217729&i[0])&&pc(r,n,t,t[27],e?fc(n,t[27],i,dE):dc(t[27]),gE)},i:function(t){e||(dl(r,t),e=!0)},o:function(t){gl(r,t),e=!1},d:function(t){r&&r.d(t)}}}function yE(t){var e,n,r=t[1]&&mE(t);return{c:function(){r&&r.c(),e=Dc()},m:function(t,i){r&&r.m(t,i),Ec(t,e,i),n=!0},p:function(t,n){t[1]?r?(r.p(t,n),2&n[0]&&dl(r,1)):((r=mE(t)).c(),dl(r,1),r.m(e.parentNode,e)):r&&(fl(),gl(r,1,1,(function(){r=null})),pl())},i:function(t){n||(dl(r),n=!0)},o:function(t){gl(r),n=!1},d:function(t){r&&r.d(t),t&&Qc(e)}}}function vE(t,e,n){var r,i=e.$$slots,o=void 0===i?{}:i,a=e.$$scope,A=Zc(),s=e.id,u=e.type,c=e.filter,l=void 0===c?null:c,h=e.layout,f=void 0===h?{}:h,p=e.paint,d=void 0===p?{}:p,g=e.data,m=void 0===g?null:g,y=e.colorKey,v=void 0===y?"color":y,_=e.nameKey,w=void 0===_?null:_,x=e.valueKey,B=void 0===x?null:x,b=e.idKey,C=void 0===b?null:b,F=e.select,U=void 0!==F&&F,E=e.clickIgnore,Q=void 0!==E&&E,I=e.clickCenter,k=void 0!==I&&I,S=e.selected,T=void 0===S?null:S,M=e.hover,D=void 0!==M&&M,L=e.hovered,P=void 0===L?null:L,H=e.highlight,z=void 0!==H&&H,$=e.highlightKey,R=void 0===$?"highlighted":$,O=e.highlighted,K=void 0===O?[]:O,V=e.order,N=void 0===V?null:V,G=e.maxzoom,j=void 0===G?null:G,q=e.minzoom,Z=void 0===q?null:q,X=e.sourceLayer,W=void 0===X?null:X,J=Wc("source"),Y=J.source,tt=J.layer,et=J.promoteId,nt=(0,Wc("map").getMap)();Xc("layer",{layer:s});var rt=zp({id:null,feature:null,event:null});cc(t,rt,(function(t){return n(30,r=t)})),Xc("hover",rt),C=C||et,W=W||tt;var it=null,ot=null,at=[];nt.getLayer(s)&&nt.removeLayer(s);var At={id:s,type:u,source:Y,paint:d,layout:f};return l&&(At.filter=l),W&&(At["source-layer"]=W),j&&(At.maxzoom=j),Z&&(At.minzoom=Z),nt.addLayer(At,N),U&&nt.on("click",s,(function(t){if(t.features.length>0&&!Q){var e=t.features[0];if(n(3,T=e.id),A("select",{id:T,feature:e,event:t}),it&&nt.setFeatureState({source:Y,sourceLayer:W,id:it},{selected:!1}),nt.setFeatureState({source:Y,sourceLayer:W,id:T},{selected:!0}),k){var r=centroid(t.features[0].toJSON().geometry);nt.flyTo({center:r.geometry.coordinates})}n(24,it=T)}})),D&&(nt.on("mousemove",s,(function(t){if(t.features.length>0){P&&nt.setFeatureState({source:Y,sourceLayer:W,id:P},{hovered:!1});var e=t.features[0];n(0,P=n(25,ot=e.id)),rt.set({id:P,feature:e,event:t}),A("hover",r),nt.setFeatureState({source:Y,sourceLayer:W,id:P},{hovered:!0}),nt.getCanvas().style.cursor="pointer"}})),nt.on("mouseleave",s,(function(t){P&&nt.setFeatureState({source:Y,sourceLayer:W,id:P},{hovered:!1}),n(0,P=n(25,ot=null)),rt.set({id:null,feature:null,event:t}),A("hover",r),nt.getCanvas().style.cursor=""}))),t.$$set=function(t){"id"in t&&n(6,s=t.id),"type"in t&&n(7,u=t.type),"filter"in t&&n(8,l=t.filter),"layout"in t&&n(9,f=t.layout),"paint"in t&&n(10,d=t.paint),"data"in t&&n(11,m=t.data),"colorKey"in t&&n(12,v=t.colorKey),"nameKey"in t&&n(13,w=t.nameKey),"valueKey"in t&&n(14,B=t.valueKey),"idKey"in t&&n(5,C=t.idKey),"select"in t&&n(15,U=t.select),"clickIgnore"in t&&n(16,Q=t.clickIgnore),"clickCenter"in t&&n(17,k=t.clickCenter),"selected"in t&&n(3,T=t.selected),"hover"in t&&n(1,D=t.hover),"hovered"in t&&n(0,P=t.hovered),"highlight"in t&&n(18,z=t.highlight),"highlightKey"in t&&n(19,R=t.highlightKey),"highlighted"in t&&n(20,K=t.highlighted),"order"in t&&n(21,N=t.order),"maxzoom"in t&&n(22,j=t.maxzoom),"minzoom"in t&&n(23,Z=t.minzoom),"sourceLayer"in t&&n(4,W=t.sourceLayer),"$$scope"in t&&n(27,a=t.$$scope)},t.$$.update=function(){6144&t.$$.dirty[0]&&m&&(m||v)&&(console.log("updating colors..."),m.forEach((function(t){nt.setFeatureState({source:Y,sourceLayer:W,id:t[C]},{color:v?t[v]:null,name:w?t[w]:null,value:B?t[B]:null})}))),68943888&t.$$.dirty[0]&&z&&K!=at&&(at[0]&&at.forEach((function(t){var e={};e[R]=!1,nt.setFeatureState({source:Y,sourceLayer:W,id:t},e)})),n(26,at=K),K[0]&&K.forEach((function(t){var e={};e[R]=!0,nt.setFeatureState({source:Y,sourceLayer:W,id:t},e)}))),16810008&t.$$.dirty[0]&&U&&T!=it&&(it&&nt.setFeatureState({source:Y,sourceLayer:W,id:it},{selected:!1}),T&&nt.setFeatureState({source:Y,sourceLayer:W,id:T},{selected:!0}),n(24,it=T)),33554451&t.$$.dirty[0]&&D&&P!=ot&&(ot&&nt.setFeatureState({source:Y,sourceLayer:W,id:ot},{hovered:!1}),P&&nt.setFeatureState({source:Y,sourceLayer:W,id:P},{hovered:!0}),n(25,ot=P))},[P,D,rt,T,W,C,s,u,l,f,d,m,v,w,B,U,Q,k,z,R,K,N,j,Z,it,ot,at,a,o]}var _E=function(t){fn(n,t);var e=pE(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,vE,yE,Ac,{id:6,type:7,filter:8,layout:9,paint:10,data:11,colorKey:12,nameKey:13,valueKey:14,idKey:5,select:15,clickIgnore:16,clickCenter:17,selected:3,hover:1,hovered:0,highlight:18,highlightKey:19,highlighted:20,order:21,maxzoom:22,minzoom:23,sourceLayer:4},null,[-1,-1]),r}return n}(Bl);function wE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function xE(t){Uc(t,"svelte-1l63zew",".mapboxgl-popup-content{padding:5px 10px !important}")}function BE(t,e,n){var r,i=e.content,o=new YU.Popup({closeButton:!1,closeOnClick:!1}),a=(0,Wc("map").getMap)(),A=Wc("hover");return cc(t,A,(function(t){return n(2,r=t)})),t.$$set=function(t){"content"in t&&n(1,i=t.content)},t.$$.update=function(){6&t.$$.dirty&&function(t,e){t.id?o.setLngLat(t.event.lngLat).setHTML(e||t.code).addTo(a):o.remove()}(r,i)},[A,i,r]}var bE=function(t){fn(n,t);var e=wE(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,BE,null,Ac,{content:1},xE),r}return n}(Bl);function CE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var i=gn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dn(this,n)}}function FE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function UE(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?FE(Object(n),!0).forEach((function(e){mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function EE(t){Uc(t,"svelte-1g0va6n","svelte-scroller-foreground{pointer-events:none !important}svelte-scroller-foreground section div{pointer-events:all !important}select.svelte-1g0va6n{max-width:350px}.chart.svelte-1g0va6n{margin-top:45px;width:calc(100% - 5px)}.chart-full.svelte-1g0va6n{margin:0 20px}.chart-sml.svelte-1g0va6n{font-size:0.85em}")}function QE(t,e,n){var r=t.slice();return r[35]=e[n],r}function IE(t,e,n){var r=t.slice();return r[38]=e[n],r}function kE(t,e,n){var r=t.slice();return r[35]=e[n],r}function SE(t,e,n){var r=t.slice();return r[3]=e[n],r}function TE(t){var e;return{c:function(){e=Tc("Scroll to begin")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function ME(t){var e,n,r,i,o,a,A,s,u,c,l,h,f;function p(e){t[21](e)}var d={label:"Animation "+(t[4]?"on":"off"),mono:!0};return void 0!==t[4]&&(d.checked=t[4]),s=new Nf({props:d}),tl.push((function(){return ml(s,"checked",p)})),h=new Yf({props:{color:"white",animation:t[4],$$slots:{default:[TE]},$$scope:{ctx:t}}}),{c:function(){(e=kc("h1")).textContent="TEST",n=Mc(),(r=kc("p")).textContent="This is a short text description of the article that might take up a couple of lines",i=Mc(),(o=kc("p")).textContent="DD MMM YYYY",a=Mc(),A=kc("p"),yl(s.$$.fragment),c=Mc(),l=kc("div"),yl(h.$$.fragment),Pc(r,"class","text-big"),$c(r,"margin-top","5px"),$c(o,"margin-top","20px"),$c(l,"margin-top","90px")},m:function(t,u){Ec(t,e,u),Ec(t,n,u),Ec(t,r,u),Ec(t,i,u),Ec(t,o,u),Ec(t,a,u),Ec(t,A,u),vl(s,A,null),Ec(t,c,u),Ec(t,l,u),vl(h,l,null),f=!0},p:function(t,e){var n={};16&e[0]&&(n.label="Animation "+(t[4]?"on":"off")),!u&&16&e[0]&&(u=!0,n.checked=t[4],al((function(){return u=!1}))),s.$set(n);var r={};16&e[0]&&(r.animation=t[4]),16384&e[1]&&(r.$$scope={dirty:e,ctx:t}),h.$set(r)},i:function(t){f||(dl(s.$$.fragment,t),dl(h.$$.fragment,t),f=!0)},o:function(t){gl(s.$$.fragment,t),gl(h.$$.fragment,t),f=!1},d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r),t&&Qc(i),t&&Qc(o),t&&Qc(a),t&&Qc(A),_l(s),t&&Qc(c),t&&Qc(l),_l(h)}}}function DE(t){var e;return{c:function(){(e=kc("p")).textContent="This is a large, left-aligned text caption",Pc(e,"class","text-big")},m:function(t,n){Ec(t,e,n)},p:Yu,d:function(t){t&&Qc(e)}}}function LE(t){var e,n,r,i,o,a,A;return{c:function(){(e=kc("h2")).textContent="This is a section title",n=Mc(),(r=kc("p")).textContent='This is a short paragraph of text to demonstrate the standard "medium" column width, font size and line spacing of the template.',i=Mc(),(o=kc("p")).textContent="This is a second short paragraph of text to demonstrate the size of the paragraph spacing in the template.",a=Mc(),(A=kc("blockquote")).textContent='"This is an example of a large embedded quotation."—A. Person',Pc(A,"class","text-indent")},m:function(t,s){Ec(t,e,s),Ec(t,n,s),Ec(t,r,s),Ec(t,i,s),Ec(t,o,s),Ec(t,a,s),Ec(t,A,s)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r),t&&Qc(i),t&&Qc(o),t&&Qc(a),t&&Qc(A)}}}function PE(t){var e,n,r;return{c:function(){(e=kc("h2")).textContent="Embedded charts or media",n=Mc(),(r=kc("p")).textContent='Below is an embedded chart. It is set to the same width as the column, "medium" (680px), but could also be "narrow" (540px), "wide" (980px) or "full" width. All options are responsive to fit the width of narrow screens.'},m:function(t,i){Ec(t,e,i),Ec(t,n,i),Ec(t,r,i)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r)}}}function HE(t){var e,n;return e=new ff({props:{col:"medium",caption:"Source: ONS mid-year population estimates.",$$slots:{default:[zE]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};32&n[0]|16384&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function zE(t){var e,n,r;return n=new vx({props:{data:_n(t[5].region.indicators).sort(vQ),xKey:"pop",yKey:"name",snapTicks:!1,xFormatTick:_Q,xSuffix:"m",height:350,padding:{top:0,bottom:15,left:140,right:0},area:!1,title:"Population by region/nation, 2020"}}),{c:function(){e=kc("div"),yl(n.$$.fragment),Pc(e,"class","chart-sml svelte-1g0va6n")},m:function(t,i){Ec(t,e,i),vl(n,e,null),r=!0},p:function(t,e){var r={};32&e[0]&&(r.data=_n(t[5].region.indicators).sort(vQ)),n.$set(r)},i:function(t){r||(dl(n.$$.fragment,t),r=!0)},o:function(t){gl(n.$$.fragment,t),r=!1},d:function(t){t&&Qc(e),_l(n)}}}function $E(t){var e,n,r;return{c:function(){(e=kc("h2")).textContent="Gridded charts or media",n=Mc(),(r=kc("p")).textContent="Below is a grid that can contain charts or any other kind of visual media. The grid can fit in a medium, wide or full-width column, and the media width itself can be narrow (min 200px), medium (min 300px), wide (min 500px) or full-width. The grid is responsive, and will re-flow on smaller screens."},m:function(t,i){Ec(t,e,i),Ec(t,n,i),Ec(t,r,i)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r)}}}function RE(t){var e,n;return e=new ff({props:{col:"wide",grid:"narrow",gap:20,caption:"Source: ONS mid-year population estimates.",$$slots:{default:[KE]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};32&n[0]|16384&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function OE(t){var e,n,r,i;return n=new kB({props:{data:t[5].region.timeseries,xKey:"year",yKey:"value",zKey:"code",color:"lightgrey",lineWidth:1,xTicks:2,snapTicks:!1,yFormatTick:xQ,ySuffix:"m",height:200,padding:{top:0,bottom:20,left:30,right:15},selected:t[3].code,area:!1,title:t[3].name}}),{c:function(){e=kc("div"),yl(n.$$.fragment),r=Mc(),Pc(e,"class","chart-sml svelte-1g0va6n")},m:function(t,o){Ec(t,e,o),vl(n,e,null),Fc(e,r),i=!0},p:function(t,e){var r={};32&e[0]&&(r.data=t[5].region.timeseries),32&e[0]&&(r.selected=t[3].code),32&e[0]&&(r.title=t[3].name),n.$set(r)},i:function(t){i||(dl(n.$$.fragment,t),i=!0)},o:function(t){gl(n.$$.fragment,t),i=!1},d:function(t){t&&Qc(e),_l(n)}}}function KE(t){for(var e,n,r=_n(t[5].region.indicators).sort(wQ),i=[],o=0;o<r.length;o+=1)i[o]=OE(SE(t,r,o));var a=function(t){return gl(i[t],1,1,(function(){i[t]=null}))};return{c:function(){for(var t=0;t<i.length;t+=1)i[t].c();e=Dc()},m:function(t,r){for(var o=0;o<i.length;o+=1)i[o]&&i[o].m(t,r);Ec(t,e,r),n=!0},p:function(t,n){if(32&n[0]){var o;for(r=_n(t[5].region.indicators).sort(wQ),o=0;o<r.length;o+=1){var A=SE(t,r,o);i[o]?(i[o].p(A,n),dl(i[o],1)):(i[o]=OE(A),i[o].c(),dl(i[o],1),i[o].m(e.parentNode,e))}for(fl(),o=r.length;o<i.length;o+=1)a(o);pl()}},i:function(t){if(!n){for(var e=0;e<r.length;e+=1)dl(i[e]);n=!0}},o:function(t){i=i.filter(Boolean);for(var e=0;e<i.length;e+=1)gl(i[e]);n=!1},d:function(t){Ic(i,t),t&&Qc(e)}}}function VE(t){var e,n,r,i,o;return{c:function(){(e=kc("h2")).textContent="This is a dynamic chart section",n=Mc(),(r=kc("p")).textContent='The chart below will respond to the captions as you scroll down. The "Scroller" component is\n\t\tset to "splitscreen" mode, which means the captions will be on the left side on larger screens.',i=Mc(),(o=kc("p")).textContent="The interactions are via Javascript functions that are called when each caption scrolls into view."},m:function(t,a){Ec(t,e,a),Ec(t,n,a),Ec(t,r,a),Ec(t,i,a),Ec(t,o,a)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r),t&&Qc(i),t&&Qc(o)}}}function NE(t){var e,n,r;return(n=new gC({props:{height:"calc(100vh - 150px)",data:t[5].district.indicators.map(t[23]),colors:t[15]?["lightgrey"]:mh.cat,xKey:t[10],yKey:t[11],zKey:t[12],rKey:t[13],idKey:"code",labelKey:"name",r:[3,10],xScale:"log",xTicks:[10,100,1e3,1e4],xFormatTick:BQ,xSuffix:" sq.km",yFormatTick:bQ,legend:null!=t[12],labels:!0,select:t[15],selected:t[15]?t[2]:null,hover:!0,hovered:t[8],highlighted:t[15]?t[16]:[],colorSelect:"#206095",colorHighlight:"#999",overlayFill:!0,animation:t[4]}})).$on("select",t[18]),n.$on("hover",t[19]),{c:function(){e=kc("div"),yl(n.$$.fragment),Pc(e,"class","chart svelte-1g0va6n")},m:function(t,i){Ec(t,e,i),vl(n,e,null),r=!0},p:function(t,e){var r={};34&e[0]&&(r.data=t[5].district.indicators.map(t[23])),32768&e[0]&&(r.colors=t[15]?["lightgrey"]:mh.cat),1024&e[0]&&(r.xKey=t[10]),2048&e[0]&&(r.yKey=t[11]),4096&e[0]&&(r.zKey=t[12]),8192&e[0]&&(r.rKey=t[13]),4096&e[0]&&(r.legend=null!=t[12]),32768&e[0]&&(r.select=t[15]),32772&e[0]&&(r.selected=t[15]?t[2]:null),256&e[0]&&(r.hovered=t[8]),98304&e[0]&&(r.highlighted=t[15]?t[16]:[]),16&e[0]&&(r.animation=t[4]),n.$set(r)},i:function(t){r||(dl(n.$$.fragment,t),r=!0)},o:function(t){gl(n.$$.fragment,t),r=!1},d:function(t){t&&Qc(e),_l(n)}}}function GE(t){var e,n,r,i,o=t[5].district.indicators&&t[1].region.lookup&&NE(t);return{c:function(){e=kc("div"),n=kc("figure"),r=kc("div"),o&&o.c(),Pc(r,"class","col-wide height-full"),Pc(e,"slot","background")},m:function(t,a){Ec(t,e,a),Fc(e,n),Fc(n,r),o&&o.m(r,null),i=!0},p:function(t,e){t[5].district.indicators&&t[1].region.lookup?o?(o.p(t,e),34&e[0]&&dl(o,1)):((o=NE(t)).c(),dl(o,1),o.m(r,null)):o&&(fl(),gl(o,1,1,(function(){o=null})),pl())},i:function(t){i||(dl(o),i=!0)},o:function(t){gl(o),i=!1},d:function(t){t&&Qc(e),o&&o.d()}}}function jE(t){for(var e,n,r,i,o,a=t[6].features,A=[],s=0;s<a.length;s+=1)A[s]=qE(kE(t,a,s));return{c:function(){e=kc("p"),n=kc("select"),(r=kc("option")).textContent="Select one";for(var i=0;i<A.length;i+=1)A[i].c();r.__value=null,r.value=r.__value,Pc(n,"class","svelte-1g0va6n"),void 0===t[2]&&ol((function(){return t[22].call(n)}))},m:function(a,s){Ec(a,e,s),Fc(e,n),Fc(n,r);for(var u=0;u<A.length;u+=1)A[u]&&A[u].m(n,null);Rc(n,t[2],!0),i||(o=Lc(n,"change",t[22]),i=!0)},p:function(t,e){if(64&e[0]){var r;for(a=t[6].features,r=0;r<a.length;r+=1){var i=kE(t,a,r);A[r]?A[r].p(i,e):(A[r]=qE(i),A[r].c(),A[r].m(n,null))}for(;r<A.length;r+=1)A[r].d(1);A.length=a.length}68&e[0]&&Rc(n,t[2])},d:function(t){t&&Qc(e),Ic(A,t),i=!1,o()}}}function qE(t){var e,n,r,i,o=t[35].properties.AREANM+"";return{c:function(){e=kc("option"),n=Tc(o),r=Mc(),e.__value=i=t[35].properties.AREACD,e.value=e.__value},m:function(t,i){Ec(t,e,i),Fc(e,n),Fc(e,r)},p:function(t,r){64&r[0]&&o!==(o=t[35].properties.AREANM+"")&&zc(n,o),64&r[0]&&i!==(i=t[35].properties.AREACD)&&(e.__value=i,e.value=e.__value)},d:function(t){t&&Qc(e)}}}function ZE(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g=t[6]&&jE(t);return{c:function(){e=kc("div"),(n=kc("section")).innerHTML='<div class="col-medium"><p>This chart shows the <strong>area in square kilometres</strong> of each local authority district in the UK. Each circle represents one district. The scale is logarithmic.</p></div>',r=Mc(),(i=kc("section")).innerHTML='<div class="col-medium"><p>The radius of each circle shows the <strong>total population</strong> of the district.</p></div>',o=Mc(),(a=kc("section")).innerHTML='<div class="col-medium"><p>The vertical axis shows the <strong>density</strong> of the district in people per hectare.</p></div>',A=Mc(),(s=kc("section")).innerHTML='<div class="col-medium"><p>The colour of each circle shows the <strong>part of the country</strong> that the district is within.</p></div>',u=Mc(),c=kc("section"),l=kc("div"),(h=kc("h3")).textContent="Select a district",f=Mc(),(p=kc("p")).textContent="Use the selection box below or click on the chart to select a district. The chart will also highlight the other districts in the same part of the country.",d=Mc(),g&&g.c(),Pc(n,"data-id","chart01"),Pc(i,"data-id","chart02"),Pc(a,"data-id","chart03"),Pc(s,"data-id","chart04"),Pc(l,"class","col-medium"),Pc(c,"data-id","chart05"),Pc(e,"slot","foreground")},m:function(t,m){Ec(t,e,m),Fc(e,n),Fc(e,r),Fc(e,i),Fc(e,o),Fc(e,a),Fc(e,A),Fc(e,s),Fc(e,u),Fc(e,c),Fc(c,l),Fc(l,h),Fc(l,f),Fc(l,p),Fc(l,d),g&&g.m(l,null)},p:function(t,e){t[6]?g?g.p(t,e):((g=jE(t)).c(),g.m(l,null)):g&&(g.d(1),g=null)},d:function(t){t&&Qc(e),g&&g.d()}}}function XE(t){var e,n,r,i,o;return{c:function(){(e=kc("h2")).textContent="This is a full-width chart demo",n=Mc(),(r=kc("p")).textContent='Below is an example of a media grid where the column with is set to "full". This allows for full width images and charts.',i=Mc(),o=kc("p")},m:function(t,a){Ec(t,e,a),Ec(t,n,a),Ec(t,r,a),Ec(t,i,a),Ec(t,o,a)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r),t&&Qc(i),t&&Qc(o)}}}function WE(t){var e,n;return(e=new kB({props:{data:t[5].district.timeseries,padding:{left:50,right:150,top:0,bottom:0},height:"500px",xKey:"year",yKey:"value",zKey:"code",color:"lightgrey",lineWidth:1,yFormatTick:CQ,ySuffix:"m",select:!0,selected:t[2],hover:!0,hovered:t[8],highlighted:t[16],colorSelect:"#206095",colorHighlight:"#999",area:!1,title:"Mid-year population by district, 2001 to 2020",labels:!0,labelKey:"name"}})).$on("select",t[18]),e.$on("hover",t[19]),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};32&n[0]&&(r.data=t[5].district.timeseries),4&n[0]&&(r.selected=t[2]),256&n[0]&&(r.hovered=t[8]),65536&n[0]&&(r.highlighted=t[16]),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function JE(t){var e,n,r=t[5].district.timeseries&&WE(t);return{c:function(){e=kc("div"),r&&r.c(),Pc(e,"class","chart-full svelte-1g0va6n")},m:function(t,i){Ec(t,e,i),r&&r.m(e,null),n=!0},p:function(t,n){t[5].district.timeseries?r?(r.p(t,n),32&n[0]&&dl(r,1)):((r=WE(t)).c(),dl(r,1),r.m(e,null)):r&&(fl(),gl(r,1,1,(function(){r=null})),pl())},i:function(t){n||(dl(r),n=!0)},o:function(t){gl(r),n=!1},d:function(t){t&&Qc(e),r&&r.d()}}}function YE(t){var e,n,r;return{c:function(){(e=kc("h2")).textContent="This is a dynamic map section",n=Mc(),(r=kc("p")).textContent="The map below will respond to the captions as you scroll down. The scroller is not set to splitscreen, so captions are placed over the map on any screen size.",Pc(r,"class","mb")},m:function(t,i){Ec(t,e,i),Ec(t,n,i),Ec(t,r,i)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r)}}}function tQ(t){var e,n,r;function i(e){t[29](e)}var o={threshold:mQ,$$slots:{foreground:[fQ],background:[iQ]},$$scope:{ctx:t}};return void 0!==t[0].map&&(o.id=t[0].map),e=new Ef({props:o}),tl.push((function(){return ml(e,"id",i)})),{c:function(){yl(e.$$.fragment)},m:function(t,n){vl(e,t,n),r=!0},p:function(t,r){var i={};50150&r[0]|16384&r[1]&&(i.$$scope={dirty:r,ctx:t}),!n&&1&r[0]&&(n=!0,i.id=t[0].map,al((function(){return n=!1}))),e.$set(i)},i:function(t){r||(dl(e.$$.fragment,t),r=!0)},o:function(t){gl(e.$$.fragment,t),r=!1},d:function(t){_l(e,t)}}}function eQ(t){var e,n;return e=new bE({props:{content:t[8]?"".concat(t[1].district.lookup[t[8]].name,"<br/><strong>").concat(t[5].district.indicators.find(t[27])[t[14]].toLocaleString()," ").concat(yh[t[14]],"</strong>"):""}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};16674&n[0]&&(r.content=t[8]?"".concat(t[1].district.lookup[t[8]].name,"<br/><strong>").concat(t[5].district.indicators.find(t[27])[t[14]].toLocaleString()," ").concat(yh[t[14]],"</strong>"):""),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function nQ(t){var e,n,r,i;return(e=new _E({props:{id:"lad-fill",idKey:"code",colorKey:t[14]+"_color",data:t[5].district.indicators,type:"fill",select:!0,selected:t[2],clickIgnore:!t[15],hover:!0,hovered:t[8],highlight:!0,highlighted:t[9],paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.7},$$slots:{default:[eQ]},$$scope:{ctx:t}}})).$on("select",t[18]),e.$on("hover",t[19]),r=new _E({props:{id:"lad-line",type:"line",paint:{"line-color":["case",["==",["feature-state","hovered"],!0],"orange",["==",["feature-state","selected"],!0],"black",["==",["feature-state","highlighted"],!0],"black","rgba(255,255,255,0)"],"line-width":2}}}),{c:function(){yl(e.$$.fragment),n=Mc(),yl(r.$$.fragment)},m:function(t,o){vl(e,t,o),Ec(t,n,o),vl(r,t,o),i=!0},p:function(t,n){var r={};16384&n[0]&&(r.colorKey=t[14]+"_color"),32&n[0]&&(r.data=t[5].district.indicators),4&n[0]&&(r.selected=t[2]),32768&n[0]&&(r.clickIgnore=!t[15]),256&n[0]&&(r.hovered=t[8]),512&n[0]&&(r.highlighted=t[9]),16674&n[0]|16384&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){i||(dl(e.$$.fragment,t),dl(r.$$.fragment,t),i=!0)},o:function(t){gl(e.$$.fragment,t),gl(r.$$.fragment,t),i=!1},d:function(t){_l(e,t),t&&Qc(n),_l(r,t)}}}function rQ(t){var e,n;return e=new fE({props:{id:"lad",type:"geojson",data:t[6],promoteId:"AREACD",maxzoom:13,$$slots:{default:[nQ]},$$scope:{ctx:t}}}),{c:function(){yl(e.$$.fragment)},m:function(t,r){vl(e,t,r),n=!0},p:function(t,n){var r={};64&n[0]&&(r.data=t[6]),49958&n[0]|16384&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i:function(t){n||(dl(e.$$.fragment,t),n=!0)},o:function(t){gl(e.$$.fragment,t),n=!1},d:function(t){_l(e,t)}}}function iQ(t){var e,n,r,i,o,a;function A(e){t[28](e)}var s={style:yQ,interactive:!1,location:{bounds:t[17].uk},$$slots:{default:[rQ]},$$scope:{ctx:t}};return void 0!==t[7]&&(s.map=t[7]),i=new aE({props:s}),tl.push((function(){return ml(i,"map",A)})),{c:function(){e=kc("div"),n=kc("figure"),r=kc("div"),yl(i.$$.fragment),Pc(r,"class","col-full height-full"),Pc(e,"slot","background")},m:function(t,o){Ec(t,e,o),Fc(e,n),Fc(n,r),vl(i,r,null),a=!0},p:function(t,e){var n={};50022&e[0]|16384&e[1]&&(n.$$scope={dirty:e,ctx:t}),!o&&128&e[0]&&(o=!0,n.map=t[7],al((function(){return o=!1}))),i.$set(n)},i:function(t){a||(dl(i.$$.fragment,t),a=!0)},o:function(t){gl(i.$$.fragment,t),a=!1},d:function(t){t&&Qc(e),_l(i)}}}function oQ(t){var e;return{c:function(){e=Tc("least dense")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function aQ(t){var e;return{c:function(){e=Tc("most dense")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function AQ(t){var e;return{c:function(){e=Tc("youngest")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function sQ(t){var e;return{c:function(){e=Tc("oldest")},m:function(t,n){Ec(t,e,n)},d:function(t){t&&Qc(e)}}}function uQ(t){var e,n=t[38].name+"";return{c:function(){e=Tc(n)},m:function(t,n){Ec(t,e,n)},p:function(t,r){32&r[0]&&n!==(n=t[38].name+"")&&zc(e,n)},d:function(t){t&&Qc(e)}}}function cQ(t){var e,n,r,i,o,a,A,s=t[38].age_med+"";return r=new Tp({props:{color:t[38].age_med_color,$$slots:{default:[uQ]},$$scope:{ctx:t}}}),{c:function(){e=kc("p"),n=Tc("The map is now zoomed on "),yl(r.$$.fragment),i=Tc(", the district with the oldest median age, "),o=Tc(s),a=Tc(" years.\n\t\t\t\t")},m:function(t,s){Ec(t,e,s),Fc(e,n),vl(r,e,null),Fc(e,i),Fc(e,o),Fc(e,a),A=!0},p:function(t,e){var n={};32&e[0]&&(n.color=t[38].age_med_color),32&e[0]|16384&e[1]&&(n.$$scope={dirty:e,ctx:t}),r.$set(n),(!A||32&e[0])&&s!==(s=t[38].age_med+"")&&zc(o,s)},i:function(t){A||(dl(r.$$.fragment,t),A=!0)},o:function(t){gl(r.$$.fragment,t),A=!1},d:function(t){t&&Qc(e),_l(r)}}}function lQ(t){for(var e,n,r,i,o,a=t[6].features,A=[],s=0;s<a.length;s+=1)A[s]=hQ(QE(t,a,s));return{c:function(){e=kc("p"),n=kc("select"),(r=kc("option")).textContent="Select one";for(var i=0;i<A.length;i+=1)A[i].c();r.__value=null,r.value=r.__value,Pc(n,"class","svelte-1g0va6n"),void 0===t[2]&&ol((function(){return t[25].call(n)}))},m:function(a,s){Ec(a,e,s),Fc(e,n),Fc(n,r);for(var u=0;u<A.length;u+=1)A[u]&&A[u].m(n,null);Rc(n,t[2],!0),i||(o=[Lc(n,"change",t[25]),Lc(n,"change",t[26])],i=!0)},p:function(t,e){if(64&e[0]){var r;for(a=t[6].features,r=0;r<a.length;r+=1){var i=QE(t,a,r);A[r]?A[r].p(i,e):(A[r]=hQ(i),A[r].c(),A[r].m(n,null))}for(;r<A.length;r+=1)A[r].d(1);A.length=a.length}68&e[0]&&Rc(n,t[2])},d:function(t){t&&Qc(e),Ic(A,t),i=!1,oc(o)}}}function hQ(t){var e,n,r,i,o=t[35].properties.AREANM+"";return{c:function(){e=kc("option"),n=Tc(o),r=Mc(),e.__value=i=t[35].properties.AREACD,e.value=e.__value},m:function(t,i){Ec(t,e,i),Fc(e,n),Fc(e,r)},p:function(t,r){64&r[0]&&o!==(o=t[35].properties.AREANM+"")&&zc(n,o),64&r[0]&&i!==(i=t[35].properties.AREACD)&&(e.__value=i,e.value=e.__value)},d:function(t){t&&Qc(e)}}}function fQ(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U,E,Q,I,k,S,T;s=new Tp({props:{color:mh.seq[0],$$slots:{default:[oQ]},$$scope:{ctx:t}}}),c=new Tp({props:{color:mh.seq[4],$$slots:{default:[aQ]},$$scope:{ctx:t}}}),v=new Tp({props:{color:mh.seq[0],$$slots:{default:[AQ]},$$scope:{ctx:t}}}),w=new Tp({props:{color:mh.seq[4],$$slots:{default:[sQ]},$$scope:{ctx:t}}});for(var M=[_n(t[5].district.indicators).sort(FQ)[0]],D=[],L=0;L<1;L+=1)D[L]=cQ(IE(t,M,L));var P=function(t){return gl(D[t],1,1,(function(){D[t]=null}))},H=t[6]&&lQ(t);return{c:function(){e=kc("div"),n=kc("section"),r=kc("div"),i=kc("p"),o=Tc("This map shows "),(a=kc("strong")).textContent="population density",A=Tc(" by district. Districts are coloured from "),yl(s.$$.fragment),u=Tc(" to "),yl(c.$$.fragment),l=Tc(". You can hover to see the district name and density."),h=Mc(),f=kc("section"),p=kc("div"),d=kc("p"),g=Tc("The map now shows "),(m=kc("strong")).textContent="median age",y=Tc(", from "),yl(v.$$.fragment),_=Tc(" to "),yl(w.$$.fragment),x=Tc("."),B=Mc(),b=kc("section"),C=kc("div");for(var t=0;t<1;t+=1)D[t].c();F=Mc(),U=kc("section"),E=kc("div"),(Q=kc("h3")).textContent="Select a district",I=Mc(),(k=kc("p")).textContent="Use the selection box below or click on the map to select and zoom to a district.",S=Mc(),H&&H.c(),Pc(r,"class","col-medium"),Pc(n,"data-id","map01"),Pc(p,"class","col-medium"),Pc(f,"data-id","map02"),Pc(C,"class","col-medium"),Pc(b,"data-id","map03"),Pc(E,"class","col-medium"),Pc(U,"data-id","map04"),Pc(e,"slot","foreground")},m:function(t,M){Ec(t,e,M),Fc(e,n),Fc(n,r),Fc(r,i),Fc(i,o),Fc(i,a),Fc(i,A),vl(s,i,null),Fc(i,u),vl(c,i,null),Fc(i,l),Fc(e,h),Fc(e,f),Fc(f,p),Fc(p,d),Fc(d,g),Fc(d,m),Fc(d,y),vl(v,d,null),Fc(d,_),vl(w,d,null),Fc(d,x),Fc(e,B),Fc(e,b),Fc(b,C);for(var L=0;L<1;L+=1)D[L]&&D[L].m(C,null);Fc(e,F),Fc(e,U),Fc(U,E),Fc(E,Q),Fc(E,I),Fc(E,k),Fc(E,S),H&&H.m(E,null),T=!0},p:function(t,e){var n={};16384&e[1]&&(n.$$scope={dirty:e,ctx:t}),s.$set(n);var r={};16384&e[1]&&(r.$$scope={dirty:e,ctx:t}),c.$set(r);var i={};16384&e[1]&&(i.$$scope={dirty:e,ctx:t}),v.$set(i);var o={};if(16384&e[1]&&(o.$$scope={dirty:e,ctx:t}),w.$set(o),32&e[0]){var a;for(M=[_n(t[5].district.indicators).sort(FQ)[0]],a=0;a<1;a+=1){var A=IE(t,M,a);D[a]?(D[a].p(A,e),dl(D[a],1)):(D[a]=cQ(A),D[a].c(),dl(D[a],1),D[a].m(C,null))}for(fl(),a=1;a<1;a+=1)P(a);pl()}t[6]?H?H.p(t,e):((H=lQ(t)).c(),H.m(E,null)):H&&(H.d(1),H=null)},i:function(t){if(!T){dl(s.$$.fragment,t),dl(c.$$.fragment,t),dl(v.$$.fragment,t),dl(w.$$.fragment,t);for(var e=0;e<1;e+=1)dl(D[e]);T=!0}},o:function(t){gl(s.$$.fragment,t),gl(c.$$.fragment,t),gl(v.$$.fragment,t),gl(w.$$.fragment,t),D=D.filter(Boolean);for(var e=0;e<1;e+=1)gl(D[e]);T=!1},d:function(t){t&&Qc(e),_l(s),_l(c),_l(v),_l(w),Ic(D,t),H&&H.d()}}}function pQ(t){var e,n,r;return{c:function(){(e=kc("h2")).textContent="How to use this template",n=Mc(),(r=kc("p")).innerHTML='You can find the source code and documentation on how to use this template in <a href="https://github.com/ONSvisual/svelte-scrolly/" target="_blank">this Github repo</a>.'},m:function(t,i){Ec(t,e,i),Ec(t,n,i),Ec(t,r,i)},p:Yu,d:function(t){t&&Qc(e),t&&Qc(n),t&&Qc(r)}}}function dQ(t){var e,n,r,i,o,a,A,s,u,c,l,h,f,p,d,g,m,y,v,_,w,x,B,b,C,F,U,E,Q,I,k,S,T,M,D,L,P,H,z,$,R,O;e=new Uh({props:{filled:!0,center:!1}}),r=new zh({props:{bgcolor:"#206095",bgfixed:!0,theme:"dark",center:!1,short:!0,$$slots:{default:[ME]},$$scope:{ctx:t}}}),o=new Tf({props:{theme:"lightblue",short:!0,wide:!0,center:!1,$$slots:{default:[DE]},$$scope:{ctx:t}}}),A=new Kh({props:{$$slots:{default:[LE]},$$scope:{ctx:t}}}),u=new $f({}),l=new Kh({props:{$$slots:{default:[PE]},$$scope:{ctx:t}}});var K=t[5].region.indicators&&HE(t);p=new $f({}),g=new Kh({props:{$$slots:{default:[$E]},$$scope:{ctx:t}}});var V=t[5].region.timeseries&&t[5].region.indicators&&RE(t);function N(e){t[24](e)}v=new $f({}),w=new Kh({props:{$$slots:{default:[VE]},$$scope:{ctx:t}}});var G={threshold:mQ,splitscreen:!0,$$slots:{foreground:[ZE],background:[GE]},$$scope:{ctx:t}};void 0!==t[0].chart&&(G.id=t[0].chart),B=new Ef({props:G}),tl.push((function(){return ml(B,"id",N)})),F=new $f({}),E=new Kh({props:{$$slots:{default:[XE]},$$scope:{ctx:t}}}),I=new ff({props:{col:"full",height:600,caption:'This is an optional caption for the above chart or media. It can contain HTML code and <a href="#">hyperlinks</a>, and wrap onto multiple lines.',$$slots:{default:[JE]},$$scope:{ctx:t}}}),S=new $f({}),M=new Kh({props:{$$slots:{default:[YE]},$$scope:{ctx:t}}});var j=t[6]&&t[5].district.indicators&&tQ(t);return P=new $f({}),z=new Kh({props:{$$slots:{default:[pQ]},$$scope:{ctx:t}}}),R=new Mh({}),{c:function(){yl(e.$$.fragment),n=Mc(),yl(r.$$.fragment),i=Mc(),yl(o.$$.fragment),a=Mc(),yl(A.$$.fragment),s=Mc(),yl(u.$$.fragment),c=Mc(),yl(l.$$.fragment),h=Mc(),K&&K.c(),f=Mc(),yl(p.$$.fragment),d=Mc(),yl(g.$$.fragment),m=Mc(),V&&V.c(),y=Mc(),yl(v.$$.fragment),_=Mc(),yl(w.$$.fragment),x=Mc(),yl(B.$$.fragment),C=Mc(),yl(F.$$.fragment),U=Mc(),yl(E.$$.fragment),Q=Mc(),yl(I.$$.fragment),k=Mc(),yl(S.$$.fragment),T=Mc(),yl(M.$$.fragment),D=Mc(),j&&j.c(),L=Mc(),yl(P.$$.fragment),H=Mc(),yl(z.$$.fragment),$=Mc(),yl(R.$$.fragment)},m:function(t,b){vl(e,t,b),Ec(t,n,b),vl(r,t,b),Ec(t,i,b),vl(o,t,b),Ec(t,a,b),vl(A,t,b),Ec(t,s,b),vl(u,t,b),Ec(t,c,b),vl(l,t,b),Ec(t,h,b),K&&K.m(t,b),Ec(t,f,b),vl(p,t,b),Ec(t,d,b),vl(g,t,b),Ec(t,m,b),V&&V.m(t,b),Ec(t,y,b),vl(v,t,b),Ec(t,_,b),vl(w,t,b),Ec(t,x,b),vl(B,t,b),Ec(t,C,b),vl(F,t,b),Ec(t,U,b),vl(E,t,b),Ec(t,Q,b),vl(I,t,b),Ec(t,k,b),vl(S,t,b),Ec(t,T,b),vl(M,t,b),Ec(t,D,b),j&&j.m(t,b),Ec(t,L,b),vl(P,t,b),Ec(t,H,b),vl(z,t,b),Ec(t,$,b),vl(R,t,b),O=!0},p:function(t,e){var n={};16&e[0]|16384&e[1]&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);var i={};16384&e[1]&&(i.$$scope={dirty:e,ctx:t}),o.$set(i);var a={};16384&e[1]&&(a.$$scope={dirty:e,ctx:t}),A.$set(a);var s={};16384&e[1]&&(s.$$scope={dirty:e,ctx:t}),l.$set(s),t[5].region.indicators?K?(K.p(t,e),32&e[0]&&dl(K,1)):((K=HE(t)).c(),dl(K,1),K.m(f.parentNode,f)):K&&(fl(),gl(K,1,1,(function(){K=null})),pl());var u={};16384&e[1]&&(u.$$scope={dirty:e,ctx:t}),g.$set(u),t[5].region.timeseries&&t[5].region.indicators?V?(V.p(t,e),32&e[0]&&dl(V,1)):((V=RE(t)).c(),dl(V,1),V.m(y.parentNode,y)):V&&(fl(),gl(V,1,1,(function(){V=null})),pl());var c={};16384&e[1]&&(c.$$scope={dirty:e,ctx:t}),w.$set(c);var h={};114038&e[0]|16384&e[1]&&(h.$$scope={dirty:e,ctx:t}),!b&&1&e[0]&&(b=!0,h.id=t[0].chart,al((function(){return b=!1}))),B.$set(h);var p={};16384&e[1]&&(p.$$scope={dirty:e,ctx:t}),E.$set(p);var d={};65828&e[0]|16384&e[1]&&(d.$$scope={dirty:e,ctx:t}),I.$set(d);var m={};16384&e[1]&&(m.$$scope={dirty:e,ctx:t}),M.$set(m),t[6]&&t[5].district.indicators?j?(j.p(t,e),96&e[0]&&dl(j,1)):((j=tQ(t)).c(),dl(j,1),j.m(L.parentNode,L)):j&&(fl(),gl(j,1,1,(function(){j=null})),pl());var v={};16384&e[1]&&(v.$$scope={dirty:e,ctx:t}),z.$set(v)},i:function(t){O||(dl(e.$$.fragment,t),dl(r.$$.fragment,t),dl(o.$$.fragment,t),dl(A.$$.fragment,t),dl(u.$$.fragment,t),dl(l.$$.fragment,t),dl(K),dl(p.$$.fragment,t),dl(g.$$.fragment,t),dl(V),dl(v.$$.fragment,t),dl(w.$$.fragment,t),dl(B.$$.fragment,t),dl(F.$$.fragment,t),dl(E.$$.fragment,t),dl(I.$$.fragment,t),dl(S.$$.fragment,t),dl(M.$$.fragment,t),dl(j),dl(P.$$.fragment,t),dl(z.$$.fragment,t),dl(R.$$.fragment,t),O=!0)},o:function(t){gl(e.$$.fragment,t),gl(r.$$.fragment,t),gl(o.$$.fragment,t),gl(A.$$.fragment,t),gl(u.$$.fragment,t),gl(l.$$.fragment,t),gl(K),gl(p.$$.fragment,t),gl(g.$$.fragment,t),gl(V),gl(v.$$.fragment,t),gl(w.$$.fragment,t),gl(B.$$.fragment,t),gl(F.$$.fragment,t),gl(E.$$.fragment,t),gl(I.$$.fragment,t),gl(S.$$.fragment,t),gl(M.$$.fragment,t),gl(j),gl(P.$$.fragment,t),gl(z.$$.fragment,t),gl(R.$$.fragment,t),O=!1},d:function(t){_l(e,t),t&&Qc(n),_l(r,t),t&&Qc(i),_l(o,t),t&&Qc(a),_l(A,t),t&&Qc(s),_l(u,t),t&&Qc(c),_l(l,t),t&&Qc(h),K&&K.d(t),t&&Qc(f),_l(p,t),t&&Qc(d),_l(g,t),t&&Qc(m),V&&V.d(t),t&&Qc(y),_l(v,t),t&&Qc(_),_l(w,t),t&&Qc(x),_l(B,t),t&&Qc(C),_l(F,t),t&&Qc(U),_l(E,t),t&&Qc(Q),_l(I,t),t&&Qc(k),_l(S,t),t&&Qc(T),_l(M,t),t&&Qc(D),j&&j.d(t),t&&Qc(L),_l(P,t),t&&Qc(H),_l(z,t),t&&Qc($),_l(R,t)}}}var gQ="light",mQ=.65,yQ="https://bothness.github.io/ons-basemaps/data/style-omt.json",vQ=function(t,e){return t.pop-e.pop},_Q=function(t){return t/1e6},wQ=function(t,e){return e.pop-t.pop},xQ=function(t){return t/1e6},BQ=function(t){return t.toLocaleString()},bQ=function(t){return t.toLocaleString()},CQ=function(t){return(t/1e6).toFixed(1)},FQ=function(t,e){return e.age_med-t.age_med};function UQ(t,e,n){var r,i;Xc("theme",gQ),function(t,e){for(var n in t[e])document.documentElement.style.setProperty("--"+n,t[e][n])}(gh,gQ);var o,a=!(!(o=window.matchMedia("(prefers-reduced-motion: reduce)"))||o.matches),A={},s={};qc((function(){s=UE({},A)}));var u,c,l,h={uk:[[-9,49],[2,61]]},f={district:{},region:{}},p={district:{},region:{}},d=null,g=[],m="area",y=null,v=null,_=null,w="density",x=!1;function B(t){d&&d.fitBounds(t,{animate:a,padding:30})}function b(t){u&&t&&B(Dp(u.features.find((function(e){return e.properties.AREACD==t})).geometry))}var C={map:{map01:function(){B(h.uk),n(14,w="density"),n(9,g=[]),n(15,x=!1)},map02:function(){B(h.uk),n(14,w="age_med"),n(9,g=[]),n(15,x=!1)},map03:function(){var t=_n(f.district.indicators).sort((function(t,e){return e.age_med-t.age_med}))[0];b(t.code),n(14,w="age_med"),n(9,g=[t.code]),n(15,x=!1)},map04:function(){B(h.uk),n(14,w="age_med"),n(9,g=[]),n(15,x=!0)}},chart:{chart01:function(){n(10,m="area"),n(11,y=null),n(12,v=null),n(13,_=null),n(15,x=!1)},chart02:function(){n(10,m="area"),n(11,y=null),n(12,v=null),n(13,_="pop"),n(15,x=!1)},chart03:function(){n(10,m="area"),n(11,y="density"),n(12,v=null),n(13,_="pop"),n(15,x=!1)},chart04:function(){n(10,m="area"),n(11,y="density"),n(12,v="parent_name"),n(13,_="pop"),n(15,x=!1)},chart05:function(){n(10,m="area"),n(11,y="density"),n(12,v=null),n(13,_="pop"),n(15,x=!0)}}};["region","district"].forEach((function(t){(function(t){return ph.apply(this,arguments)})("./data/data_".concat(t,".csv")).then((function(e){var r=e.map((function(t){return{code:t.code,name:t.name,parent:t.parent?t.parent:null}})),i={};r.forEach((function(t){i[t.code]=t})),n(1,p[t].array=r,p),n(1,p[t].lookup=i,p);var o=e.map((function(t,e){return UE(UE({},r[e]),{},{area:t.area,pop:t[2020],density:t.density,age_med:t.age_med})}));"district"==t&&["density","age_med"].forEach((function(t){var e,n,r=o.map((function(e){return e[t]})).sort((function(t,e){return t-e})),i=(n=(e=r).length,[e[0],e[Math.floor(.2*n)],e[Math.floor(.4*n)],e[Math.floor(.6*n)],e[Math.floor(.8*n)],e[n-1]]);o.forEach((function(e,n){return o[n][t+"_color"]=function(t,e,n){for(var r,i=!1,o=1;0==i;)t<=e[o]?(r=n[o-1],i=!0):o++;return r||"lightgrey"}(e[t],i,mh.seq)}))})),n(5,f[t].indicators=o,f);var a=[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],A=[];e.forEach((function(t){a.forEach((function(e){A.push({code:t.code,name:t.name,value:t[e],year:e})}))})),n(5,f[t].timeseries=A,f)}))})),function(t,e){return dh.apply(this,arguments)}("./data/geo_lad2021.json","geog").then((function(t){t.features.sort((function(t,e){return t.properties.AREANM.localeCompare(e.properties.AREANM)})),n(6,u=t)}));return t.$$.update=function(){6&t.$$.dirty[0]&&n(3,r=l&&p.district.lookup?p.district.lookup[l].parent:null),10&t.$$.dirty[0]&&n(16,i=p.district.array&&r?p.district.array.filter((function(t){return t.parent==r})).map((function(t){return t.code})):[]),1&t.$$.dirty[0]&&A&&function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){A[t]!=s[t]&&(C[t][A[t]]&&C[t][A[t]](),s[t]=A[t])}))}(Object.keys(C))},[A,p,l,r,a,f,u,d,c,g,m,y,v,_,w,x,i,h,function(t){console.log(t),n(2,l=t.detail.id),t.detail.feature&&b(l)},function(t){n(8,c=t.detail.id)},b,function(t){n(4,a=t)},function(){l=Oc(this),n(2,l),n(6,u)},function(t){return UE(UE({},t),{},{parent_name:p.region.lookup[t.parent].name})},function(e){t.$$.not_equal(A.chart,e)&&(A.chart=e,n(0,A))},function(){l=Oc(this),n(2,l),n(6,u)},function(){return b(l)},function(t){return t.code==c},function(t){n(7,d=t)},function(e){t.$$.not_equal(A.map,e)&&(A.map=e,n(0,A))}]}return new(function(t){fn(n,t);var e=CE(n);function n(t){var r;return cn(this,n),xl(ln(r=e.call(this)),t,UQ,dQ,Ac,{},EE,[-1,-1]),r}return n}(Bl))({target:document.body})}();
//# sourceMappingURL=bundle.legacy.js.map
